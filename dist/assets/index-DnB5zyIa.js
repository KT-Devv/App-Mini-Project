var nm=e=>{throw TypeError(e)};var _u=(e,t,n)=>t.has(e)||nm("Cannot "+n);var I=(e,t,n)=>(_u(e,t,"read from private field"),n?n.call(e):t.get(e)),ge=(e,t,n)=>t.has(e)?nm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ie=(e,t,n,r)=>(_u(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ze=(e,t,n)=>(_u(e,t,"access private method"),n);var Ma=(e,t,n,r)=>({set _(s){ie(e,t,s,n)},get _(){return I(e,t,r)}});function T_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Xv={exports:{}},xc={},Zv={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),O_=Symbol.for("react.portal"),M_=Symbol.for("react.fragment"),I_=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),L_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),F_=Symbol.for("react.forward_ref"),U_=Symbol.for("react.suspense"),z_=Symbol.for("react.memo"),B_=Symbol.for("react.lazy"),rm=Symbol.iterator;function W_(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var e0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t0=Object.assign,n0={};function Do(e,t,n){this.props=e,this.context=t,this.refs=n0,this.updater=n||e0}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function r0(){}r0.prototype=Do.prototype;function Qf(e,t,n){this.props=e,this.context=t,this.refs=n0,this.updater=n||e0}var Xf=Qf.prototype=new r0;Xf.constructor=Qf;t0(Xf,Do.prototype);Xf.isPureReactComponent=!0;var sm=Array.isArray,s0=Object.prototype.hasOwnProperty,Zf={current:null},o0={key:!0,ref:!0,__self:!0,__source:!0};function i0(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)s0.call(t,r)&&!o0.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ua,type:e,key:o,ref:i,props:s,_owner:Zf.current}}function H_(e,t){return{$$typeof:ua,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ua}function V_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var om=/\/+/g;function ju(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V_(""+e.key):t.toString(36)}function fl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ua:case O_:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+ju(i,0):r,sm(s)?(n="",e!=null&&(n=e.replace(om,"$&/")+"/"),fl(s,t,n,"",function(u){return u})):s!=null&&(eh(s)&&(s=H_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(om,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",sm(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+ju(o,a);i+=fl(o,t,n,c,s)}else if(c=W_(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+ju(o,a++),i+=fl(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ia(e,t,n){if(e==null)return e;var r=[],s=0;return fl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function q_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},hl={transition:null},G_={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:hl,ReactCurrentOwner:Zf};function a0(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ia,forEach:function(e,t,n){Ia(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ia(e,function(){t++}),t},toArray:function(e){return Ia(e,function(t){return t})||[]},only:function(e){if(!eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Do;le.Fragment=M_;le.Profiler=D_;le.PureComponent=Qf;le.StrictMode=I_;le.Suspense=U_;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;le.act=a0;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=t0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Zf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)s0.call(t,c)&&!o0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ua,type:e.type,key:s,ref:o,props:r,_owner:i}};le.createContext=function(e){return e={$$typeof:$_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:L_,_context:e},e.Consumer=e};le.createElement=i0;le.createFactory=function(e){var t=i0.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:F_,render:e}};le.isValidElement=eh;le.lazy=function(e){return{$$typeof:B_,_payload:{_status:-1,_result:e},_init:q_}};le.memo=function(e,t){return{$$typeof:z_,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=hl.transition;hl.transition={};try{e()}finally{hl.transition=t}};le.unstable_act=a0;le.useCallback=function(e,t){return ht.current.useCallback(e,t)};le.useContext=function(e){return ht.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};le.useEffect=function(e,t){return ht.current.useEffect(e,t)};le.useId=function(){return ht.current.useId()};le.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return ht.current.useMemo(e,t)};le.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};le.useRef=function(e){return ht.current.useRef(e)};le.useState=function(e){return ht.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return ht.current.useTransition()};le.version="18.3.1";Zv.exports=le;var h=Zv.exports;const F=Qv(h),l0=T_({__proto__:null,default:F},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_=h,J_=Symbol.for("react.element"),Y_=Symbol.for("react.fragment"),Q_=Object.prototype.hasOwnProperty,X_=K_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z_={key:!0,ref:!0,__self:!0,__source:!0};function c0(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Q_.call(t,r)&&!Z_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:J_,type:e,key:o,ref:i,props:s,_owner:X_.current}}xc.Fragment=Y_;xc.jsx=c0;xc.jsxs=c0;Xv.exports=xc;var l=Xv.exports,u0={exports:{}},Lt={},d0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var $=T.length;T.push(P);e:for(;0<$;){var Y=$-1>>>1,G=T[Y];if(0<s(G,P))T[Y]=P,T[$]=G,$=Y;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],$=T.pop();if($!==P){T[0]=$;e:for(var Y=0,G=T.length,oe=G>>>1;Y<oe;){var Z=2*(Y+1)-1,ye=T[Z],xe=Z+1,B=T[xe];if(0>s(ye,$))xe<G&&0>s(B,ye)?(T[Y]=B,T[xe]=$,Y=xe):(T[Y]=ye,T[Z]=$,Y=Z);else if(xe<G&&0>s(B,$))T[Y]=B,T[xe]=$,Y=xe;else break e}}return P}function s(T,P){var $=T.sortIndex-P.sortIndex;return $!==0?$:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,m=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function S(T){if(v=!1,b(T),!g)if(n(c)!==null)g=!0,z(_);else{var P=n(u);P!==null&&V(S,P.startTime-T)}}function _(T,P){g=!1,v&&(v=!1,w(k),k=-1),p=!0;var $=m;try{for(b(P),f=n(c);f!==null&&(!(f.expirationTime>P)||T&&!A());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var G=Y(f.expirationTime<=P);P=e.unstable_now(),typeof G=="function"?f.callback=G:f===n(c)&&r(c),b(P)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var Z=n(u);Z!==null&&V(S,Z.startTime-P),oe=!1}return oe}finally{f=null,m=$,p=!1}}var j=!1,N=null,k=-1,E=5,C=-1;function A(){return!(e.unstable_now()-C<E)}function M(){if(N!==null){var T=e.unstable_now();C=T;var P=!0;try{P=N(!0,T)}finally{P?O():(j=!1,N=null)}}else j=!1}var O;if(typeof x=="function")O=function(){x(M)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,J=L.port2;L.port1.onmessage=M,O=function(){J.postMessage(null)}}else O=function(){y(M,0)};function z(T){N=T,j||(j=!0,O())}function V(T,P){k=y(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,z(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var $=m;m=P;try{return T()}finally{m=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=m;m=T;try{return P()}finally{m=$}},e.unstable_scheduleCallback=function(T,P,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,T){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=$+G,T={id:d++,callback:P,priorityLevel:T,startTime:$,expirationTime:G,sortIndex:-1},$>Y?(T.sortIndex=$,t(u,T),n(c)===null&&T===n(u)&&(v?(w(k),k=-1):v=!0,V(S,$-Y))):(T.sortIndex=G,t(c,T),g||p||(g=!0,z(_))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var P=m;return function(){var $=m;m=P;try{return T.apply(this,arguments)}finally{m=$}}}})(f0);d0.exports=f0;var ej=d0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=h,Mt=ej;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,Mi={};function Cs(e,t){jo(e,t),jo(e+"Capture",t)}function jo(e,t){for(Mi[e]=t,e=0;e<t.length;e++)h0.add(t[e])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=Object.prototype.hasOwnProperty,nj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,im={},am={};function rj(e){return wd.call(am,e)?!0:wd.call(im,e)?!1:nj.test(e)?am[e]=!0:(im[e]=!0,!1)}function sj(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oj(e,t,n,r){if(t===null||typeof t>"u"||sj(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qe[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qe[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qe[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qe[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qe[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qe[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qe[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qe[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qe[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var th=/[\-:]([a-z])/g;function nh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(th,nh);Qe[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(th,nh);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(th,nh);Qe[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qe[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function rh(e,t,n,r){var s=Qe.hasOwnProperty(t)?Qe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oj(t,n,s,r)&&(n=null),r||s===null?rj(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jn=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Da=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Hs=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),p0=Symbol.for("react.provider"),m0=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),Sd=Symbol.for("react.suspense"),_d=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),g0=Symbol.for("react.offscreen"),lm=Symbol.iterator;function ti(e){return e===null||typeof e!="object"?null:(e=lm&&e[lm]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,Cu;function mi(e){if(Cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cu=t&&t[1]||""}return`
`+Cu+e}var Eu=!1;function Nu(e,t){if(!e||Eu)return"";Eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Eu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mi(e):""}function ij(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Nu(e.type,!1),e;case 11:return e=Nu(e.type.render,!1),e;case 1:return e=Nu(e.type,!0),e;default:return""}}function jd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hs:return"Fragment";case Ws:return"Portal";case bd:return"Profiler";case sh:return"StrictMode";case Sd:return"Suspense";case _d:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m0:return(e.displayName||"Context")+".Consumer";case p0:return(e._context.displayName||"Context")+".Provider";case oh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ih:return t=e.displayName||null,t!==null?t:jd(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return jd(e(t))}catch{}}return null}function aj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(t);case 8:return t===sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function v0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lj(e){var t=v0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function La(e){e._valueTracker||(e._valueTracker=lj(e))}function y0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=v0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cd(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=kr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x0(e,t){t=t.checked,t!=null&&rh(e,"checked",t,!1)}function Ed(e,t){x0(e,t);var n=kr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nd(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function um(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nd(e,t,n){(t!=="number"||Tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gi=Array.isArray;function to(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+kr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(gi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:kr(n)}}function w0(e,t){var n=kr(t.value),r=kr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $a,S0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cj=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){cj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function _0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function j0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=_0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var uj=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rd(e,t){if(t){if(uj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ad=null;function ah(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Od=null,no=null,ro=null;function hm(e){if(e=ha(e)){if(typeof Od!="function")throw Error(D(280));var t=e.stateNode;t&&(t=jc(t),Od(e.stateNode,e.type,t))}}function C0(e){no?ro?ro.push(e):ro=[e]:no=e}function E0(){if(no){var e=no,t=ro;if(ro=no=null,hm(e),t)for(e=0;e<t.length;e++)hm(t[e])}}function N0(e,t){return e(t)}function k0(){}var ku=!1;function P0(e,t,n){if(ku)return e(t,n);ku=!0;try{return N0(e,t,n)}finally{ku=!1,(no!==null||ro!==null)&&(k0(),E0())}}function Di(e,t){var n=e.stateNode;if(n===null)return null;var r=jc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Md=!1;if(Bn)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Md=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Md=!1}function dj(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var _i=!1,Al=null,Ol=!1,Id=null,fj={onError:function(e){_i=!0,Al=e}};function hj(e,t,n,r,s,o,i,a,c){_i=!1,Al=null,dj.apply(fj,arguments)}function pj(e,t,n,r,s,o,i,a,c){if(hj.apply(this,arguments),_i){if(_i){var u=Al;_i=!1,Al=null}else throw Error(D(198));Ol||(Ol=!0,Id=u)}}function Es(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function R0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pm(e){if(Es(e)!==e)throw Error(D(188))}function mj(e){var t=e.alternate;if(!t){if(t=Es(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return pm(s),e;if(o===r)return pm(s),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function T0(e){return e=mj(e),e!==null?A0(e):null}function A0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=A0(e);if(t!==null)return t;e=e.sibling}return null}var O0=Mt.unstable_scheduleCallback,mm=Mt.unstable_cancelCallback,gj=Mt.unstable_shouldYield,vj=Mt.unstable_requestPaint,Me=Mt.unstable_now,yj=Mt.unstable_getCurrentPriorityLevel,lh=Mt.unstable_ImmediatePriority,M0=Mt.unstable_UserBlockingPriority,Ml=Mt.unstable_NormalPriority,xj=Mt.unstable_LowPriority,I0=Mt.unstable_IdlePriority,wc=null,En=null;function wj(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(wc,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:_j,bj=Math.log,Sj=Math.LN2;function _j(e){return e>>>=0,e===0?32:31-(bj(e)/Sj|0)|0}var Fa=64,Ua=4194304;function vi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=vi(a):(o&=i,o!==0&&(r=vi(o)))}else i=n&~s,i!==0?r=vi(i):o!==0&&(r=vi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dn(t),s=1<<n,r|=e[n],t&=~s;return r}function jj(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cj(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-dn(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=jj(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Dd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D0(){var e=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),e}function Pu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=n}function Ej(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-dn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ch(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ve=0;function L0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $0,uh,F0,U0,z0,Ld=!1,za=[],wr=null,br=null,Sr=null,Li=new Map,$i=new Map,cr=[],Nj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":Li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$i.delete(t.pointerId)}}function ri(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ha(t),t!==null&&uh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function kj(e,t,n,r,s){switch(t){case"focusin":return wr=ri(wr,e,t,n,r,s),!0;case"dragenter":return br=ri(br,e,t,n,r,s),!0;case"mouseover":return Sr=ri(Sr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Li.set(o,ri(Li.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,$i.set(o,ri($i.get(o)||null,e,t,n,r,s)),!0}return!1}function B0(e){var t=rs(e.target);if(t!==null){var n=Es(t);if(n!==null){if(t=n.tag,t===13){if(t=R0(n),t!==null){e.blockedOn=t,z0(e.priority,function(){F0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=$d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ad=r,n.target.dispatchEvent(r),Ad=null}else return t=ha(n),t!==null&&uh(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){pl(e)&&n.delete(t)}function Pj(){Ld=!1,wr!==null&&pl(wr)&&(wr=null),br!==null&&pl(br)&&(br=null),Sr!==null&&pl(Sr)&&(Sr=null),Li.forEach(vm),$i.forEach(vm)}function si(e,t){e.blockedOn===t&&(e.blockedOn=null,Ld||(Ld=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Pj)))}function Fi(e){function t(s){return si(s,e)}if(0<za.length){si(za[0],e);for(var n=1;n<za.length;n++){var r=za[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wr!==null&&si(wr,e),br!==null&&si(br,e),Sr!==null&&si(Sr,e),Li.forEach(t),$i.forEach(t),n=0;n<cr.length;n++)r=cr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)B0(n),n.blockedOn===null&&cr.shift()}var so=Jn.ReactCurrentBatchConfig,Dl=!0;function Rj(e,t,n,r){var s=ve,o=so.transition;so.transition=null;try{ve=1,dh(e,t,n,r)}finally{ve=s,so.transition=o}}function Tj(e,t,n,r){var s=ve,o=so.transition;so.transition=null;try{ve=4,dh(e,t,n,r)}finally{ve=s,so.transition=o}}function dh(e,t,n,r){if(Dl){var s=$d(e,t,n,r);if(s===null)Fu(e,t,r,Ll,n),gm(e,r);else if(kj(s,e,t,n,r))r.stopPropagation();else if(gm(e,r),t&4&&-1<Nj.indexOf(e)){for(;s!==null;){var o=ha(s);if(o!==null&&$0(o),o=$d(e,t,n,r),o===null&&Fu(e,t,r,Ll,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Fu(e,t,r,null,n)}}var Ll=null;function $d(e,t,n,r){if(Ll=null,e=ah(r),e=rs(e),e!==null)if(t=Es(e),t===null)e=null;else if(n=t.tag,n===13){if(e=R0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ll=e,null}function W0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yj()){case lh:return 1;case M0:return 4;case Ml:case xj:return 16;case I0:return 536870912;default:return 16}default:return 16}}var vr=null,fh=null,ml=null;function H0(){if(ml)return ml;var e,t=fh,n=t.length,r,s="value"in vr?vr.value:vr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ml=s.slice(e,1<r?1-r:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ba(){return!0}function ym(){return!1}function $t(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ba:ym,this.isPropagationStopped=ym,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),t}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=$t(Lo),fa=Re({},Lo,{view:0,detail:0}),Aj=$t(fa),Ru,Tu,oi,bc=Re({},fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oi&&(oi&&e.type==="mousemove"?(Ru=e.screenX-oi.screenX,Tu=e.screenY-oi.screenY):Tu=Ru=0,oi=e),Ru)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),xm=$t(bc),Oj=Re({},bc,{dataTransfer:0}),Mj=$t(Oj),Ij=Re({},fa,{relatedTarget:0}),Au=$t(Ij),Dj=Re({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Lj=$t(Dj),$j=Re({},Lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fj=$t($j),Uj=Re({},Lo,{data:0}),wm=$t(Uj),zj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wj[e])?!!t[e]:!1}function ph(){return Hj}var Vj=Re({},fa,{key:function(e){if(e.key){var t=zj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qj=$t(Vj),Gj=Re({},bc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=$t(Gj),Kj=Re({},fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),Jj=$t(Kj),Yj=Re({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qj=$t(Yj),Xj=Re({},bc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zj=$t(Xj),eC=[9,13,27,32],mh=Bn&&"CompositionEvent"in window,ji=null;Bn&&"documentMode"in document&&(ji=document.documentMode);var tC=Bn&&"TextEvent"in window&&!ji,V0=Bn&&(!mh||ji&&8<ji&&11>=ji),Sm=" ",_m=!1;function q0(e,t){switch(e){case"keyup":return eC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vs=!1;function nC(e,t){switch(e){case"compositionend":return G0(t);case"keypress":return t.which!==32?null:(_m=!0,Sm);case"textInput":return e=t.data,e===Sm&&_m?null:e;default:return null}}function rC(e,t){if(Vs)return e==="compositionend"||!mh&&q0(e,t)?(e=H0(),ml=fh=vr=null,Vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return V0&&t.locale!=="ko"?null:t.data;default:return null}}var sC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sC[e.type]:t==="textarea"}function K0(e,t,n,r){C0(r),t=$l(t,"onChange"),0<t.length&&(n=new hh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ci=null,Ui=null;function oC(e){oy(e,0)}function Sc(e){var t=Ks(e);if(y0(t))return e}function iC(e,t){if(e==="change")return t}var J0=!1;if(Bn){var Ou;if(Bn){var Mu="oninput"in document;if(!Mu){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Mu=typeof Cm.oninput=="function"}Ou=Mu}else Ou=!1;J0=Ou&&(!document.documentMode||9<document.documentMode)}function Em(){Ci&&(Ci.detachEvent("onpropertychange",Y0),Ui=Ci=null)}function Y0(e){if(e.propertyName==="value"&&Sc(Ui)){var t=[];K0(t,Ui,e,ah(e)),P0(oC,t)}}function aC(e,t,n){e==="focusin"?(Em(),Ci=t,Ui=n,Ci.attachEvent("onpropertychange",Y0)):e==="focusout"&&Em()}function lC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sc(Ui)}function cC(e,t){if(e==="click")return Sc(t)}function uC(e,t){if(e==="input"||e==="change")return Sc(t)}function dC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hn=typeof Object.is=="function"?Object.is:dC;function zi(e,t){if(hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wd.call(t,s)||!hn(e[s],t[s]))return!1}return!0}function Nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function km(e,t){var n=Nm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nm(n)}}function Q0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function X0(){for(var e=window,t=Tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tl(e.document)}return t}function gh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fC(e){var t=X0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Q0(n.ownerDocument.documentElement,n)){if(r!==null&&gh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=km(n,o);var i=km(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hC=Bn&&"documentMode"in document&&11>=document.documentMode,qs=null,Fd=null,Ei=null,Ud=!1;function Pm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ud||qs==null||qs!==Tl(r)||(r=qs,"selectionStart"in r&&gh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&zi(Ei,r)||(Ei=r,r=$l(Fd,"onSelect"),0<r.length&&(t=new hh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qs)))}function Wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Iu={},Z0={};Bn&&(Z0=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function _c(e){if(Iu[e])return Iu[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z0)return Iu[e]=t[n];return e}var ey=_c("animationend"),ty=_c("animationiteration"),ny=_c("animationstart"),ry=_c("transitionend"),sy=new Map,Rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){sy.set(e,t),Cs(t,[e])}for(var Du=0;Du<Rm.length;Du++){var Lu=Rm[Du],pC=Lu.toLowerCase(),mC=Lu[0].toUpperCase()+Lu.slice(1);Ir(pC,"on"+mC)}Ir(ey,"onAnimationEnd");Ir(ty,"onAnimationIteration");Ir(ny,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(ry,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gC=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Tm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,pj(r,t,void 0,e),e.currentTarget=null}function oy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Tm(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Tm(s,a,u),o=c}}}if(Ol)throw e=Id,Ol=!1,Id=null,e}function je(e,t){var n=t[Vd];n===void 0&&(n=t[Vd]=new Set);var r=e+"__bubble";n.has(r)||(iy(t,e,2,!1),n.add(r))}function $u(e,t,n){var r=0;t&&(r|=4),iy(n,e,r,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[Ha]){e[Ha]=!0,h0.forEach(function(n){n!=="selectionchange"&&(gC.has(n)||$u(n,!1,e),$u(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ha]||(t[Ha]=!0,$u("selectionchange",!1,t))}}function iy(e,t,n,r){switch(W0(t)){case 1:var s=Rj;break;case 4:s=Tj;break;default:s=dh}n=s.bind(null,t,n,e),s=void 0,!Md||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=rs(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}P0(function(){var u=o,d=ah(n),f=[];e:{var m=sy.get(e);if(m!==void 0){var p=hh,g=e;switch(e){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":p=qj;break;case"focusin":g="focus",p=Au;break;case"focusout":g="blur",p=Au;break;case"beforeblur":case"afterblur":p=Au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Mj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Jj;break;case ey:case ty:case ny:p=Lj;break;case ry:p=Qj;break;case"scroll":p=Aj;break;case"wheel":p=Zj;break;case"copy":case"cut":case"paste":p=Fj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bm}var v=(t&4)!==0,y=!v&&e==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,b;x!==null;){b=x;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,w!==null&&(S=Di(x,w),S!=null&&v.push(Wi(x,S,b)))),y)break;x=x.return}0<v.length&&(m=new p(m,g,null,n,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==Ad&&(g=n.relatedTarget||n.fromElement)&&(rs(g)||g[Wn]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?rs(g):null,g!==null&&(y=Es(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=xm,S="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=bm,S="onPointerLeave",w="onPointerEnter",x="pointer"),y=p==null?m:Ks(p),b=g==null?m:Ks(g),m=new v(S,x+"leave",p,n,d),m.target=y,m.relatedTarget=b,S=null,rs(d)===u&&(v=new v(w,x+"enter",g,n,d),v.target=b,v.relatedTarget=y,S=v),y=S,p&&g)t:{for(v=p,w=g,x=0,b=v;b;b=Ms(b))x++;for(b=0,S=w;S;S=Ms(S))b++;for(;0<x-b;)v=Ms(v),x--;for(;0<b-x;)w=Ms(w),b--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=Ms(v),w=Ms(w)}v=null}else v=null;p!==null&&Am(f,m,p,v,!1),g!==null&&y!==null&&Am(f,y,g,v,!0)}}e:{if(m=u?Ks(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var _=iC;else if(jm(m))if(J0)_=uC;else{_=lC;var j=aC}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=cC);if(_&&(_=_(e,u))){K0(f,_,n,d);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Nd(m,"number",m.value)}switch(j=u?Ks(u):window,e){case"focusin":(jm(j)||j.contentEditable==="true")&&(qs=j,Fd=u,Ei=null);break;case"focusout":Ei=Fd=qs=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,Pm(f,n,d);break;case"selectionchange":if(hC)break;case"keydown":case"keyup":Pm(f,n,d)}var N;if(mh)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Vs?q0(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(V0&&n.locale!=="ko"&&(Vs||k!=="onCompositionStart"?k==="onCompositionEnd"&&Vs&&(N=H0()):(vr=d,fh="value"in vr?vr.value:vr.textContent,Vs=!0)),j=$l(u,k),0<j.length&&(k=new wm(k,e,null,n,d),f.push({event:k,listeners:j}),N?k.data=N:(N=G0(n),N!==null&&(k.data=N)))),(N=tC?nC(e,n):rC(e,n))&&(u=$l(u,"onBeforeInput"),0<u.length&&(d=new wm("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}oy(f,t)})}function Wi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Di(e,n),o!=null&&r.unshift(Wi(e,o,s)),o=Di(e,t),o!=null&&r.push(Wi(e,o,s))),e=e.return}return r}function Ms(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Am(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Di(n,o),c!=null&&i.unshift(Wi(n,c,a))):s||(c=Di(n,o),c!=null&&i.push(Wi(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var vC=/\r\n?/g,yC=/\u0000|\uFFFD/g;function Om(e){return(typeof e=="string"?e:""+e).replace(vC,`
`).replace(yC,"")}function Va(e,t,n){if(t=Om(t),Om(e)!==t&&n)throw Error(D(425))}function Fl(){}var zd=null,Bd=null;function Wd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hd=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,wC=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(e){return Mm.resolve(null).then(e).catch(bC)}:Hd;function bC(e){setTimeout(function(){throw e})}function Uu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Fi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fi(t)}function _r(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Im(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var $o=Math.random().toString(36).slice(2),jn="__reactFiber$"+$o,Hi="__reactProps$"+$o,Wn="__reactContainer$"+$o,Vd="__reactEvents$"+$o,SC="__reactListeners$"+$o,_C="__reactHandles$"+$o;function rs(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[jn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Im(e);e!==null;){if(n=e[jn])return n;e=Im(e)}return t}e=n,n=e.parentNode}return null}function ha(e){return e=e[jn]||e[Wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function jc(e){return e[Hi]||null}var qd=[],Js=-1;function Dr(e){return{current:e}}function Ce(e){0>Js||(e.current=qd[Js],qd[Js]=null,Js--)}function Se(e,t){Js++,qd[Js]=e.current,e.current=t}var Pr={},ot=Dr(Pr),bt=Dr(!1),gs=Pr;function Co(e,t){var n=e.type.contextTypes;if(!n)return Pr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function St(e){return e=e.childContextTypes,e!=null}function Ul(){Ce(bt),Ce(ot)}function Dm(e,t,n){if(ot.current!==Pr)throw Error(D(168));Se(ot,t),Se(bt,n)}function ay(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,aj(e)||"Unknown",s));return Re({},n,r)}function zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pr,gs=ot.current,Se(ot,e),Se(bt,bt.current),!0}function Lm(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=ay(e,t,gs),r.__reactInternalMemoizedMergedChildContext=e,Ce(bt),Ce(ot),Se(ot,e)):Ce(bt),Se(bt,n)}var $n=null,Cc=!1,zu=!1;function ly(e){$n===null?$n=[e]:$n.push(e)}function jC(e){Cc=!0,ly(e)}function Lr(){if(!zu&&$n!==null){zu=!0;var e=0,t=ve;try{var n=$n;for(ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$n=null,Cc=!1}catch(s){throw $n!==null&&($n=$n.slice(e+1)),O0(lh,Lr),s}finally{ve=t,zu=!1}}return null}var Ys=[],Qs=0,Bl=null,Wl=0,Bt=[],Wt=0,vs=null,Fn=1,Un="";function Xr(e,t){Ys[Qs++]=Wl,Ys[Qs++]=Bl,Bl=e,Wl=t}function cy(e,t,n){Bt[Wt++]=Fn,Bt[Wt++]=Un,Bt[Wt++]=vs,vs=e;var r=Fn;e=Un;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var o=32-dn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Fn=1<<32-dn(t)+s|n<<s|r,Un=o+e}else Fn=1<<o|n<<s|r,Un=e}function vh(e){e.return!==null&&(Xr(e,1),cy(e,1,0))}function yh(e){for(;e===Bl;)Bl=Ys[--Qs],Ys[Qs]=null,Wl=Ys[--Qs],Ys[Qs]=null;for(;e===vs;)vs=Bt[--Wt],Bt[Wt]=null,Un=Bt[--Wt],Bt[Wt]=null,Fn=Bt[--Wt],Bt[Wt]=null}var Tt=null,Rt=null,Ne=!1,un=null;function uy(e,t){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $m(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Tt=e,Rt=_r(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Tt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vs!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Tt=e,Rt=null,!0):!1;default:return!1}}function Gd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kd(e){if(Ne){var t=Rt;if(t){var n=t;if(!$m(e,t)){if(Gd(e))throw Error(D(418));t=_r(n.nextSibling);var r=Tt;t&&$m(e,t)?uy(r,n):(e.flags=e.flags&-4097|2,Ne=!1,Tt=e)}}else{if(Gd(e))throw Error(D(418));e.flags=e.flags&-4097|2,Ne=!1,Tt=e}}}function Fm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Tt=e}function qa(e){if(e!==Tt)return!1;if(!Ne)return Fm(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wd(e.type,e.memoizedProps)),t&&(t=Rt)){if(Gd(e))throw dy(),Error(D(418));for(;t;)uy(e,t),t=_r(t.nextSibling)}if(Fm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=_r(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Tt?_r(e.stateNode.nextSibling):null;return!0}function dy(){for(var e=Rt;e;)e=_r(e.nextSibling)}function Eo(){Rt=Tt=null,Ne=!1}function xh(e){un===null?un=[e]:un.push(e)}var CC=Jn.ReactCurrentBatchConfig;function ii(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Um(e){var t=e._init;return t(e._payload)}function fy(e){function t(w,x){if(e){var b=w.deletions;b===null?(w.deletions=[x],w.flags|=16):b.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(w,x){return w=Nr(w,x),w.index=0,w.sibling=null,w}function o(w,x,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<x?(w.flags|=2,x):b):(w.flags|=2,x)):(w.flags|=1048576,x)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,x,b,S){return x===null||x.tag!==6?(x=Ku(b,w.mode,S),x.return=w,x):(x=s(x,b),x.return=w,x)}function c(w,x,b,S){var _=b.type;return _===Hs?d(w,x,b.props.children,S,b.key):x!==null&&(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ir&&Um(_)===x.type)?(S=s(x,b.props),S.ref=ii(w,x,b),S.return=w,S):(S=_l(b.type,b.key,b.props,null,w.mode,S),S.ref=ii(w,x,b),S.return=w,S)}function u(w,x,b,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Ju(b,w.mode,S),x.return=w,x):(x=s(x,b.children||[]),x.return=w,x)}function d(w,x,b,S,_){return x===null||x.tag!==7?(x=fs(b,w.mode,S,_),x.return=w,x):(x=s(x,b),x.return=w,x)}function f(w,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Ku(""+x,w.mode,b),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Da:return b=_l(x.type,x.key,x.props,null,w.mode,b),b.ref=ii(w,null,x),b.return=w,b;case Ws:return x=Ju(x,w.mode,b),x.return=w,x;case ir:var S=x._init;return f(w,S(x._payload),b)}if(gi(x)||ti(x))return x=fs(x,w.mode,b,null),x.return=w,x;Ga(w,x)}return null}function m(w,x,b,S){var _=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(w,x,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Da:return b.key===_?c(w,x,b,S):null;case Ws:return b.key===_?u(w,x,b,S):null;case ir:return _=b._init,m(w,x,_(b._payload),S)}if(gi(b)||ti(b))return _!==null?null:d(w,x,b,S,null);Ga(w,b)}return null}function p(w,x,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(b)||null,a(x,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Da:return w=w.get(S.key===null?b:S.key)||null,c(x,w,S,_);case Ws:return w=w.get(S.key===null?b:S.key)||null,u(x,w,S,_);case ir:var j=S._init;return p(w,x,b,j(S._payload),_)}if(gi(S)||ti(S))return w=w.get(b)||null,d(x,w,S,_,null);Ga(x,S)}return null}function g(w,x,b,S){for(var _=null,j=null,N=x,k=x=0,E=null;N!==null&&k<b.length;k++){N.index>k?(E=N,N=null):E=N.sibling;var C=m(w,N,b[k],S);if(C===null){N===null&&(N=E);break}e&&N&&C.alternate===null&&t(w,N),x=o(C,x,k),j===null?_=C:j.sibling=C,j=C,N=E}if(k===b.length)return n(w,N),Ne&&Xr(w,k),_;if(N===null){for(;k<b.length;k++)N=f(w,b[k],S),N!==null&&(x=o(N,x,k),j===null?_=N:j.sibling=N,j=N);return Ne&&Xr(w,k),_}for(N=r(w,N);k<b.length;k++)E=p(N,w,k,b[k],S),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),x=o(E,x,k),j===null?_=E:j.sibling=E,j=E);return e&&N.forEach(function(A){return t(w,A)}),Ne&&Xr(w,k),_}function v(w,x,b,S){var _=ti(b);if(typeof _!="function")throw Error(D(150));if(b=_.call(b),b==null)throw Error(D(151));for(var j=_=null,N=x,k=x=0,E=null,C=b.next();N!==null&&!C.done;k++,C=b.next()){N.index>k?(E=N,N=null):E=N.sibling;var A=m(w,N,C.value,S);if(A===null){N===null&&(N=E);break}e&&N&&A.alternate===null&&t(w,N),x=o(A,x,k),j===null?_=A:j.sibling=A,j=A,N=E}if(C.done)return n(w,N),Ne&&Xr(w,k),_;if(N===null){for(;!C.done;k++,C=b.next())C=f(w,C.value,S),C!==null&&(x=o(C,x,k),j===null?_=C:j.sibling=C,j=C);return Ne&&Xr(w,k),_}for(N=r(w,N);!C.done;k++,C=b.next())C=p(N,w,k,C.value,S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),x=o(C,x,k),j===null?_=C:j.sibling=C,j=C);return e&&N.forEach(function(M){return t(w,M)}),Ne&&Xr(w,k),_}function y(w,x,b,S){if(typeof b=="object"&&b!==null&&b.type===Hs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Da:e:{for(var _=b.key,j=x;j!==null;){if(j.key===_){if(_=b.type,_===Hs){if(j.tag===7){n(w,j.sibling),x=s(j,b.props.children),x.return=w,w=x;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ir&&Um(_)===j.type){n(w,j.sibling),x=s(j,b.props),x.ref=ii(w,j,b),x.return=w,w=x;break e}n(w,j);break}else t(w,j);j=j.sibling}b.type===Hs?(x=fs(b.props.children,w.mode,S,b.key),x.return=w,w=x):(S=_l(b.type,b.key,b.props,null,w.mode,S),S.ref=ii(w,x,b),S.return=w,w=S)}return i(w);case Ws:e:{for(j=b.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(w,x.sibling),x=s(x,b.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=Ju(b,w.mode,S),x.return=w,w=x}return i(w);case ir:return j=b._init,y(w,x,j(b._payload),S)}if(gi(b))return g(w,x,b,S);if(ti(b))return v(w,x,b,S);Ga(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(w,x.sibling),x=s(x,b),x.return=w,w=x):(n(w,x),x=Ku(b,w.mode,S),x.return=w,w=x),i(w)):n(w,x)}return y}var No=fy(!0),hy=fy(!1),Hl=Dr(null),Vl=null,Xs=null,wh=null;function bh(){wh=Xs=Vl=null}function Sh(e){var t=Hl.current;Ce(Hl),e._currentValue=t}function Jd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oo(e,t){Vl=e,wh=Xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(wh!==e)if(e={context:e,memoizedValue:t,next:null},Xs===null){if(Vl===null)throw Error(D(308));Xs=e,Vl.dependencies={lanes:0,firstContext:e}}else Xs=Xs.next=e;return t}var ss=null;function _h(e){ss===null?ss=[e]:ss.push(e)}function py(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,_h(t)):(n.next=s.next,s.next=n),t.interleaved=n,Hn(e,r)}function Hn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ar=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function my(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Hn(e,n)}return s=r.interleaved,s===null?(t.next=t,_h(r)):(t.next=s.next,s.next=t),r.interleaved=t,Hn(e,n)}function vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ch(e,n)}}function zm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ql(e,t,n,r){var s=e.updateQueue;ar=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(m=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(p,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,m=typeof g=="function"?g.call(p,f,m):g,m==null)break e;f=Re({},f,m);break e;case 2:ar=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);xs|=i,e.lanes=i,e.memoizedState=f}}function Bm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var pa={},Nn=Dr(pa),Vi=Dr(pa),qi=Dr(pa);function os(e){if(e===pa)throw Error(D(174));return e}function Ch(e,t){switch(Se(qi,t),Se(Vi,e),Se(Nn,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pd(t,e)}Ce(Nn),Se(Nn,t)}function ko(){Ce(Nn),Ce(Vi),Ce(qi)}function gy(e){os(qi.current);var t=os(Nn.current),n=Pd(t,e.type);t!==n&&(Se(Vi,e),Se(Nn,n))}function Eh(e){Vi.current===e&&(Ce(Nn),Ce(Vi))}var ke=Dr(0);function Gl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bu=[];function Nh(){for(var e=0;e<Bu.length;e++)Bu[e]._workInProgressVersionPrimary=null;Bu.length=0}var yl=Jn.ReactCurrentDispatcher,Wu=Jn.ReactCurrentBatchConfig,ys=0,Pe=null,Ue=null,We=null,Kl=!1,Ni=!1,Gi=0,EC=0;function et(){throw Error(D(321))}function kh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hn(e[n],t[n]))return!1;return!0}function Ph(e,t,n,r,s,o){if(ys=o,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yl.current=e===null||e.memoizedState===null?RC:TC,e=n(r,s),Ni){o=0;do{if(Ni=!1,Gi=0,25<=o)throw Error(D(301));o+=1,We=Ue=null,t.updateQueue=null,yl.current=AC,e=n(r,s)}while(Ni)}if(yl.current=Jl,t=Ue!==null&&Ue.next!==null,ys=0,We=Ue=Pe=null,Kl=!1,t)throw Error(D(300));return e}function Rh(){var e=Gi!==0;return Gi=0,e}function wn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Jt(){if(Ue===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,Ue=e;else{if(e===null)throw Error(D(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function Ki(e,t){return typeof t=="function"?t(e):t}function Hu(e){var t=Jt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Ue,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,Pe.lanes|=d,xs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,hn(r,t.memoizedState)||(wt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Pe.lanes|=o,xs|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vu(e){var t=Jt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);hn(o,t.memoizedState)||(wt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function vy(){}function yy(e,t){var n=Pe,r=Jt(),s=t(),o=!hn(r.memoizedState,s);if(o&&(r.memoizedState=s,wt=!0),r=r.queue,Th(by.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ji(9,wy.bind(null,n,r,s,t),void 0,null),He===null)throw Error(D(349));ys&30||xy(n,t,s)}return s}function xy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wy(e,t,n,r){t.value=n,t.getSnapshot=r,Sy(t)&&_y(e)}function by(e,t,n){return n(function(){Sy(t)&&_y(e)})}function Sy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hn(e,n)}catch{return!0}}function _y(e){var t=Hn(e,1);t!==null&&fn(t,e,1,-1)}function Wm(e){var t=wn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},t.queue=e,e=e.dispatch=PC.bind(null,Pe,e),[t.memoizedState,e]}function Ji(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jy(){return Jt().memoizedState}function xl(e,t,n,r){var s=wn();Pe.flags|=e,s.memoizedState=Ji(1|t,n,void 0,r===void 0?null:r)}function Ec(e,t,n,r){var s=Jt();r=r===void 0?null:r;var o=void 0;if(Ue!==null){var i=Ue.memoizedState;if(o=i.destroy,r!==null&&kh(r,i.deps)){s.memoizedState=Ji(t,n,o,r);return}}Pe.flags|=e,s.memoizedState=Ji(1|t,n,o,r)}function Hm(e,t){return xl(8390656,8,e,t)}function Th(e,t){return Ec(2048,8,e,t)}function Cy(e,t){return Ec(4,2,e,t)}function Ey(e,t){return Ec(4,4,e,t)}function Ny(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ky(e,t,n){return n=n!=null?n.concat([e]):null,Ec(4,4,Ny.bind(null,t,e),n)}function Ah(){}function Py(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ry(e,t){var n=Jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ty(e,t,n){return ys&21?(hn(n,t)||(n=D0(),Pe.lanes|=n,xs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wt=!0),e.memoizedState=n)}function NC(e,t){var n=ve;ve=n!==0&&4>n?n:4,e(!0);var r=Wu.transition;Wu.transition={};try{e(!1),t()}finally{ve=n,Wu.transition=r}}function Ay(){return Jt().memoizedState}function kC(e,t,n){var r=Er(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oy(e))My(t,n);else if(n=py(e,t,n,r),n!==null){var s=ft();fn(n,e,r,s),Iy(n,t,r)}}function PC(e,t,n){var r=Er(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oy(e))My(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,hn(a,i)){var c=t.interleaved;c===null?(s.next=s,_h(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=py(e,t,s,r),n!==null&&(s=ft(),fn(n,e,r,s),Iy(n,t,r))}}function Oy(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function My(e,t){Ni=Kl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ch(e,n)}}var Jl={readContext:Kt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},RC={readContext:Kt,useCallback:function(e,t){return wn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Hm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xl(4194308,4,Ny.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return xl(4,2,e,t)},useMemo:function(e,t){var n=wn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kC.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=wn();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:Ah,useDeferredValue:function(e){return wn().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=NC.bind(null,e[1]),wn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,s=wn();if(Ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),He===null)throw Error(D(349));ys&30||xy(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Hm(by.bind(null,r,o,e),[e]),r.flags|=2048,Ji(9,wy.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wn(),t=He.identifierPrefix;if(Ne){var n=Un,r=Fn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Gi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=EC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TC={readContext:Kt,useCallback:Py,useContext:Kt,useEffect:Th,useImperativeHandle:ky,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:Ry,useReducer:Hu,useRef:jy,useState:function(){return Hu(Ki)},useDebugValue:Ah,useDeferredValue:function(e){var t=Jt();return Ty(t,Ue.memoizedState,e)},useTransition:function(){var e=Hu(Ki)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ay,unstable_isNewReconciler:!1},AC={readContext:Kt,useCallback:Py,useContext:Kt,useEffect:Th,useImperativeHandle:ky,useInsertionEffect:Cy,useLayoutEffect:Ey,useMemo:Ry,useReducer:Vu,useRef:jy,useState:function(){return Vu(Ki)},useDebugValue:Ah,useDeferredValue:function(e){var t=Jt();return Ue===null?t.memoizedState=e:Ty(t,Ue.memoizedState,e)},useTransition:function(){var e=Vu(Ki)[0],t=Jt().memoizedState;return[e,t]},useMutableSource:vy,useSyncExternalStore:yy,useId:Ay,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nc={isMounted:function(e){return(e=e._reactInternals)?Es(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),s=Er(e),o=zn(r,s);o.payload=t,n!=null&&(o.callback=n),t=jr(e,o,s),t!==null&&(fn(t,e,s,r),vl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),s=Er(e),o=zn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=jr(e,o,s),t!==null&&(fn(t,e,s,r),vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=Er(e),s=zn(n,r);s.tag=2,t!=null&&(s.callback=t),t=jr(e,s,r),t!==null&&(fn(t,e,r,n),vl(t,e,r))}};function Vm(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!zi(n,r)||!zi(s,o):!0}function Dy(e,t,n){var r=!1,s=Pr,o=t.contextType;return typeof o=="object"&&o!==null?o=Kt(o):(s=St(t)?gs:ot.current,r=t.contextTypes,o=(r=r!=null)?Co(e,s):Pr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function qm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nc.enqueueReplaceState(t,t.state,null)}function Qd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Kt(o):(o=St(t)?gs:ot.current,s.context=Co(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Yd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nc.enqueueReplaceState(s,s.state,null),ql(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var n="",r=t;do n+=ij(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function qu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var OC=typeof WeakMap=="function"?WeakMap:Map;function Ly(e,t,n){n=zn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,cf=r),Xd(e,t)},n}function $y(e,t,n){n=zn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xd(e,t),typeof r!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Gm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new OC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=GC.bind(null,e,t,n),t.then(e,e))}function Km(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=zn(-1,1),t.tag=2,jr(n,t,1))),n.lanes|=1),e)}var MC=Jn.ReactCurrentOwner,wt=!1;function ct(e,t,n,r){t.child=e===null?hy(t,null,n,r):No(t,e.child,n,r)}function Ym(e,t,n,r,s){n=n.render;var o=t.ref;return oo(t,s),r=Ph(e,t,n,r,o,s),n=Rh(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(Ne&&n&&vh(t),t.flags|=1,ct(e,t,r,s),t.child)}function Qm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Uh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Fy(e,t,o,r,s)):(e=_l(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(i,r)&&e.ref===t.ref)return Vn(e,t,s)}return t.flags|=1,e=Nr(o,r),e.ref=t.ref,e.return=t,t.child=e}function Fy(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(zi(o,r)&&e.ref===t.ref)if(wt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(wt=!0);else return t.lanes=e.lanes,Vn(e,t,s)}return Zd(e,t,n,r,s)}function Uy(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(eo,kt),kt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(eo,kt),kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(eo,kt),kt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Se(eo,kt),kt|=r;return ct(e,t,s,n),t.child}function zy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zd(e,t,n,r,s){var o=St(n)?gs:ot.current;return o=Co(t,o),oo(t,s),n=Ph(e,t,n,r,o,s),r=Rh(),e!==null&&!wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Vn(e,t,s)):(Ne&&r&&vh(t),t.flags|=1,ct(e,t,n,s),t.child)}function Xm(e,t,n,r,s){if(St(n)){var o=!0;zl(t)}else o=!1;if(oo(t,s),t.stateNode===null)wl(e,t),Dy(t,n,r),Qd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kt(u):(u=St(n)?gs:ot.current,u=Co(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&qm(t,i,r,u),ar=!1;var m=t.memoizedState;i.state=m,ql(t,r,i,s),c=t.memoizedState,a!==r||m!==c||bt.current||ar?(typeof d=="function"&&(Yd(t,n,d,r),c=t.memoizedState),(a=ar||Vm(t,n,a,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,my(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:sn(t.type,a),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kt(c):(c=St(n)?gs:ot.current,c=Co(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||m!==c)&&qm(t,i,r,c),ar=!1,m=t.memoizedState,i.state=m,ql(t,r,i,s);var g=t.memoizedState;a!==f||m!==g||bt.current||ar?(typeof p=="function"&&(Yd(t,n,p,r),g=t.memoizedState),(u=ar||Vm(t,n,u,r,m,g,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,g,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),i.props=r,i.state=g,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return ef(e,t,n,r,o,s)}function ef(e,t,n,r,s,o){zy(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Lm(t,n,!1),Vn(e,t,o);r=t.stateNode,MC.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=No(t,e.child,null,o),t.child=No(t,null,a,o)):ct(e,t,a,o),t.memoizedState=r.state,s&&Lm(t,n,!0),t.child}function By(e){var t=e.stateNode;t.pendingContext?Dm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dm(e,t.context,!1),Ch(e,t.containerInfo)}function Zm(e,t,n,r,s){return Eo(),xh(s),t.flags|=256,ct(e,t,n,r),t.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wy(e,t,n){var r=t.pendingProps,s=ke.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Se(ke,s&1),e===null)return Kd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Rc(i,r,0,null),e=fs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=nf(n),t.memoizedState=tf,e):Oh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return IC(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Nr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Nr(a,o):(o=fs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?nf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=tf,r}return o=e.child,e=o.sibling,r=Nr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Oh(e,t){return t=Rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ka(e,t,n,r){return r!==null&&xh(r),No(t,e.child,null,n),e=Oh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=qu(Error(D(422))),Ka(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),o=fs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&No(t,e.child,null,i),t.child.memoizedState=nf(i),t.memoizedState=tf,o);if(!(t.mode&1))return Ka(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=qu(o,r,void 0),Ka(e,t,i,r)}if(a=(i&e.childLanes)!==0,wt||a){if(r=He,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Hn(e,s),fn(r,e,s,-1))}return Fh(),r=qu(Error(D(421))),Ka(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=KC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Rt=_r(s.nextSibling),Tt=t,Ne=!0,un=null,e!==null&&(Bt[Wt++]=Fn,Bt[Wt++]=Un,Bt[Wt++]=vs,Fn=e.id,Un=e.overflow,vs=t),t=Oh(t,r.children),t.flags|=4096,t)}function eg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jd(e.return,t,n)}function Gu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Hy(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ct(e,t,r.children,n),r=ke.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eg(e,n,t);else if(e.tag===19)eg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Se(ke,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gu(t,!0,n,null,o);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Nr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DC(e,t,n){switch(t.tag){case 3:By(t),Eo();break;case 5:gy(t);break;case 1:St(t.type)&&zl(t);break;case 4:Ch(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Se(Hl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Se(ke,ke.current&1),t.flags|=128,null):n&t.child.childLanes?Wy(e,t,n):(Se(ke,ke.current&1),e=Vn(e,t,n),e!==null?e.sibling:null);Se(ke,ke.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Se(ke,ke.current),r)break;return null;case 22:case 23:return t.lanes=0,Uy(e,t,n)}return Vn(e,t,n)}var Vy,rf,qy,Gy;Vy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rf=function(){};qy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,os(Nn.current);var o=null;switch(n){case"input":s=Cd(e,s),r=Cd(e,r),o=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),o=[];break;case"textarea":s=kd(e,s),r=kd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fl)}Rd(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Gy=function(e,t,n,r){n!==r&&(t.flags|=4)};function ai(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LC(e,t,n){var r=t.pendingProps;switch(yh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return St(t.type)&&Ul(),tt(t),null;case 3:return r=t.stateNode,ko(),Ce(bt),Ce(ot),Nh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(ff(un),un=null))),rf(e,t),tt(t),null;case 5:Eh(t);var s=os(qi.current);if(n=t.type,e!==null&&t.stateNode!=null)qy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return tt(t),null}if(e=os(Nn.current),qa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[jn]=t,r[Hi]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(s=0;s<yi.length;s++)je(yi[s],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":cm(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":dm(r,o),je("invalid",r)}Rd(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Va(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Va(r.textContent,a,e),s=["children",""+a]):Mi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&je("scroll",r)}switch(n){case"input":La(r),um(r,o,!0);break;case"textarea":La(r),fm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jn]=t,e[Hi]=r,Vy(e,t,!1,!1),t.stateNode=e;e:{switch(i=Td(n,r),n){case"dialog":je("cancel",e),je("close",e),s=r;break;case"iframe":case"object":case"embed":je("load",e),s=r;break;case"video":case"audio":for(s=0;s<yi.length;s++)je(yi[s],e);s=r;break;case"source":je("error",e),s=r;break;case"img":case"image":case"link":je("error",e),je("load",e),s=r;break;case"details":je("toggle",e),s=r;break;case"input":cm(e,r),s=Cd(e,r),je("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),je("invalid",e);break;case"textarea":dm(e,r),s=kd(e,r),je("invalid",e);break;default:s=r}Rd(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?j0(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&S0(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ii(e,c):typeof c=="number"&&Ii(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&je("scroll",e):c!=null&&rh(e,o,c,i))}switch(n){case"input":La(e),um(e,r,!1);break;case"textarea":La(e),fm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+kr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?to(e,!!r.multiple,o,!1):r.defaultValue!=null&&to(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tt(t),null;case 6:if(e&&t.stateNode!=null)Gy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=os(qi.current),os(Nn.current),qa(t)){if(r=t.stateNode,n=t.memoizedProps,r[jn]=t,(o=r.nodeValue!==n)&&(e=Tt,e!==null))switch(e.tag){case 3:Va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Va(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=t,t.stateNode=r}return tt(t),null;case 13:if(Ce(ke),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Rt!==null&&t.mode&1&&!(t.flags&128))dy(),Eo(),t.flags|=98560,o=!1;else if(o=qa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[jn]=t}else Eo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else un!==null&&(ff(un),un=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ke.current&1?ze===0&&(ze=3):Fh())),t.updateQueue!==null&&(t.flags|=4),tt(t),null);case 4:return ko(),rf(e,t),e===null&&Bi(t.stateNode.containerInfo),tt(t),null;case 10:return Sh(t.type._context),tt(t),null;case 17:return St(t.type)&&Ul(),tt(t),null;case 19:if(Ce(ke),o=t.memoizedState,o===null)return tt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ai(o,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gl(e),i!==null){for(t.flags|=128,ai(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Se(ke,ke.current&1|2),t.child}e=e.sibling}o.tail!==null&&Me()>Ro&&(t.flags|=128,r=!0,ai(o,!1),t.lanes=4194304)}else{if(!r)if(e=Gl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ai(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ne)return tt(t),null}else 2*Me()-o.renderingStartTime>Ro&&n!==1073741824&&(t.flags|=128,r=!0,ai(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Me(),t.sibling=null,n=ke.current,Se(ke,r?n&1|2:n&1),t):(tt(t),null);case 22:case 23:return $h(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?kt&1073741824&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function $C(e,t){switch(yh(t),t.tag){case 1:return St(t.type)&&Ul(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ko(),Ce(bt),Ce(ot),Nh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eh(t),null;case 13:if(Ce(ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Eo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(ke),null;case 4:return ko(),null;case 10:return Sh(t.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var Ja=!1,rt=!1,FC=typeof WeakSet=="function"?WeakSet:Set,q=null;function Zs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(e,t,r)}else n.current=null}function sf(e,t,n){try{n()}catch(r){Ae(e,t,r)}}var tg=!1;function UC(e,t){if(zd=Dl,e=X0(),gh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(a=i),m===o&&++d===r&&(c=i),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:e,selectionRange:n},Dl=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?v:sn(t.type,v),y);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(S){Ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return g=tg,tg=!1,g}function ki(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&sf(t,n,o)}s=s.next}while(s!==r)}}function kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function of(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ky(e){var t=e.alternate;t!==null&&(e.alternate=null,Ky(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jn],delete t[Hi],delete t[Vd],delete t[SC],delete t[_C])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jy(e){return e.tag===5||e.tag===3||e.tag===4}function ng(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fl));else if(r!==4&&(e=e.child,e!==null))for(af(e,t,n),e=e.sibling;e!==null;)af(e,t,n),e=e.sibling}function lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}var Ke=null,ln=!1;function er(e,t,n){for(n=n.child;n!==null;)Yy(e,t,n),n=n.sibling}function Yy(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(wc,n)}catch{}switch(n.tag){case 5:rt||Zs(n,t);case 6:var r=Ke,s=ln;Ke=null,er(e,t,n),Ke=r,ln=s,Ke!==null&&(ln?(e=Ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(ln?(e=Ke,n=n.stateNode,e.nodeType===8?Uu(e.parentNode,n):e.nodeType===1&&Uu(e,n),Fi(e)):Uu(Ke,n.stateNode));break;case 4:r=Ke,s=ln,Ke=n.stateNode.containerInfo,ln=!0,er(e,t,n),Ke=r,ln=s;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&sf(n,t,i),s=s.next}while(s!==r)}er(e,t,n);break;case 1:if(!rt&&(Zs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,t,a)}er(e,t,n);break;case 21:er(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,er(e,t,n),rt=r):er(e,t,n);break;default:er(e,t,n)}}function rg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FC),t.forEach(function(r){var s=JC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,ln=!1;break e;case 3:Ke=a.stateNode.containerInfo,ln=!0;break e;case 4:Ke=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Ke===null)throw Error(D(160));Yy(o,i,s),Ke=null,ln=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qy(t,e),t=t.sibling}function Qy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(en(t,e),yn(e),r&4){try{ki(3,e,e.return),kc(3,e)}catch(v){Ae(e,e.return,v)}try{ki(5,e,e.return)}catch(v){Ae(e,e.return,v)}}break;case 1:en(t,e),yn(e),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(en(t,e),yn(e),r&512&&n!==null&&Zs(n,n.return),e.flags&32){var s=e.stateNode;try{Ii(s,"")}catch(v){Ae(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&x0(s,o),Td(a,i);var u=Td(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?j0(s,f):d==="dangerouslySetInnerHTML"?S0(s,f):d==="children"?Ii(s,f):rh(s,d,f,u)}switch(a){case"input":Ed(s,o);break;case"textarea":w0(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?to(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?to(s,!!o.multiple,o.defaultValue,!0):to(s,!!o.multiple,o.multiple?[]:"",!1))}s[Hi]=o}catch(v){Ae(e,e.return,v)}}break;case 6:if(en(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Ae(e,e.return,v)}}break;case 3:if(en(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(v){Ae(e,e.return,v)}break;case 4:en(t,e),yn(e);break;case 13:en(t,e),yn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Dh=Me())),r&4&&rg(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(u=rt)||d,en(t,e),rt=u):en(t,e),yn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(q=e,d=e.child;d!==null;){for(f=q=d;q!==null;){switch(m=q,p=m.child,m.tag){case 0:case 11:case 14:case 15:ki(4,m,m.return);break;case 1:Zs(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ae(r,n,v)}}break;case 5:Zs(m,m.return);break;case 22:if(m.memoizedState!==null){og(f);continue}}p!==null?(p.return=m,q=p):og(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=_0("display",i))}catch(v){Ae(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ae(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:en(t,e),yn(e),r&4&&rg(e);break;case 21:break;default:en(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Jy(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ii(s,""),r.flags&=-33);var o=ng(e);lf(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ng(e);af(e,a,i);break;default:throw Error(D(161))}}catch(c){Ae(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zC(e,t,n){q=e,Xy(e)}function Xy(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var s=q,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ja;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||rt;a=Ja;var u=rt;if(Ja=i,(rt=c)&&!u)for(q=s;q!==null;)i=q,c=i.child,i.tag===22&&i.memoizedState!==null?ig(s):c!==null?(c.return=i,q=c):ig(s);for(;o!==null;)q=o,Xy(o),o=o.sibling;q=s,Ja=a,rt=u}sg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,q=o):sg(e)}}function sg(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||kc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bm(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bm(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}rt||t.flags&512&&of(t)}catch(m){Ae(t,t.return,m)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function og(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function ig(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{kc(4,t)}catch(c){Ae(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Ae(t,s,c)}}var o=t.return;try{of(t)}catch(c){Ae(t,o,c)}break;case 5:var i=t.return;try{of(t)}catch(c){Ae(t,i,c)}}}catch(c){Ae(t,t.return,c)}if(t===e){q=null;break}var a=t.sibling;if(a!==null){a.return=t.return,q=a;break}q=t.return}}var BC=Math.ceil,Yl=Jn.ReactCurrentDispatcher,Mh=Jn.ReactCurrentOwner,Vt=Jn.ReactCurrentBatchConfig,fe=0,He=null,Ie=null,Ye=0,kt=0,eo=Dr(0),ze=0,Yi=null,xs=0,Pc=0,Ih=0,Pi=null,yt=null,Dh=0,Ro=1/0,Dn=null,Ql=!1,cf=null,Cr=null,Ya=!1,yr=null,Xl=0,Ri=0,uf=null,bl=-1,Sl=0;function ft(){return fe&6?Me():bl!==-1?bl:bl=Me()}function Er(e){return e.mode&1?fe&2&&Ye!==0?Ye&-Ye:CC.transition!==null?(Sl===0&&(Sl=D0()),Sl):(e=ve,e!==0||(e=window.event,e=e===void 0?16:W0(e.type)),e):1}function fn(e,t,n,r){if(50<Ri)throw Ri=0,uf=null,Error(D(185));da(e,n,r),(!(fe&2)||e!==He)&&(e===He&&(!(fe&2)&&(Pc|=n),ze===4&&ur(e,Ye)),_t(e,r),n===1&&fe===0&&!(t.mode&1)&&(Ro=Me()+500,Cc&&Lr()))}function _t(e,t){var n=e.callbackNode;Cj(e,t);var r=Il(e,e===He?Ye:0);if(r===0)n!==null&&mm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mm(n),t===1)e.tag===0?jC(ag.bind(null,e)):ly(ag.bind(null,e)),wC(function(){!(fe&6)&&Lr()}),n=null;else{switch(L0(r)){case 1:n=lh;break;case 4:n=M0;break;case 16:n=Ml;break;case 536870912:n=I0;break;default:n=Ml}n=ix(n,Zy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Zy(e,t){if(bl=-1,Sl=0,fe&6)throw Error(D(327));var n=e.callbackNode;if(io()&&e.callbackNode!==n)return null;var r=Il(e,e===He?Ye:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zl(e,r);else{t=r;var s=fe;fe|=2;var o=tx();(He!==e||Ye!==t)&&(Dn=null,Ro=Me()+500,ds(e,t));do try{VC();break}catch(a){ex(e,a)}while(!0);bh(),Yl.current=o,fe=s,Ie!==null?t=0:(He=null,Ye=0,t=ze)}if(t!==0){if(t===2&&(s=Dd(e),s!==0&&(r=s,t=df(e,s))),t===1)throw n=Yi,ds(e,0),ur(e,r),_t(e,Me()),n;if(t===6)ur(e,r);else{if(s=e.current.alternate,!(r&30)&&!WC(s)&&(t=Zl(e,r),t===2&&(o=Dd(e),o!==0&&(r=o,t=df(e,o))),t===1))throw n=Yi,ds(e,0),ur(e,r),_t(e,Me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:Zr(e,yt,Dn);break;case 3:if(ur(e,r),(r&130023424)===r&&(t=Dh+500-Me(),10<t)){if(Il(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hd(Zr.bind(null,e,yt,Dn),t);break}Zr(e,yt,Dn);break;case 4:if(ur(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-dn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BC(r/1960))-r,10<r){e.timeoutHandle=Hd(Zr.bind(null,e,yt,Dn),r);break}Zr(e,yt,Dn);break;case 5:Zr(e,yt,Dn);break;default:throw Error(D(329))}}}return _t(e,Me()),e.callbackNode===n?Zy.bind(null,e):null}function df(e,t){var n=Pi;return e.current.memoizedState.isDehydrated&&(ds(e,t).flags|=256),e=Zl(e,t),e!==2&&(t=yt,yt=n,t!==null&&ff(t)),e}function ff(e){yt===null?yt=e:yt.push.apply(yt,e)}function WC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!hn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~Ih,t&=~Pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function ag(e){if(fe&6)throw Error(D(327));io();var t=Il(e,0);if(!(t&1))return _t(e,Me()),null;var n=Zl(e,t);if(e.tag!==0&&n===2){var r=Dd(e);r!==0&&(t=r,n=df(e,r))}if(n===1)throw n=Yi,ds(e,0),ur(e,t),_t(e,Me()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,yt,Dn),_t(e,Me()),null}function Lh(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Ro=Me()+500,Cc&&Lr())}}function ws(e){yr!==null&&yr.tag===0&&!(fe&6)&&io();var t=fe;fe|=1;var n=Vt.transition,r=ve;try{if(Vt.transition=null,ve=1,e)return e()}finally{ve=r,Vt.transition=n,fe=t,!(fe&6)&&Lr()}}function $h(){kt=eo.current,Ce(eo)}function ds(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xC(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ul();break;case 3:ko(),Ce(bt),Ce(ot),Nh();break;case 5:Eh(r);break;case 4:ko();break;case 13:Ce(ke);break;case 19:Ce(ke);break;case 10:Sh(r.type._context);break;case 22:case 23:$h()}n=n.return}if(He=e,Ie=e=Nr(e.current,null),Ye=kt=t,ze=0,Yi=null,Ih=Pc=xs=0,yt=Pi=null,ss!==null){for(t=0;t<ss.length;t++)if(n=ss[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ss=null}return e}function ex(e,t){do{var n=Ie;try{if(bh(),yl.current=Jl,Kl){for(var r=Pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kl=!1}if(ys=0,We=Ue=Pe=null,Ni=!1,Gi=0,Mh.current=null,n===null||n.return===null){ze=1,Yi=t,Ie=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=Ye,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Km(i);if(p!==null){p.flags&=-257,Jm(p,i,a,o,t),p.mode&1&&Gm(o,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Gm(o,u,t),Fh();break e}c=Error(D(426))}}else if(Ne&&a.mode&1){var y=Km(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Jm(y,i,a,o,t),xh(Po(c,a));break e}}o=c=Po(c,a),ze!==4&&(ze=2),Pi===null?Pi=[o]:Pi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=Ly(o,c,t);zm(o,w);break e;case 1:a=c;var x=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Cr===null||!Cr.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=$y(o,a,t);zm(o,S);break e}}o=o.return}while(o!==null)}rx(n)}catch(_){t=_,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function tx(){var e=Yl.current;return Yl.current=Jl,e===null?Jl:e}function Fh(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(xs&268435455)&&!(Pc&268435455)||ur(He,Ye)}function Zl(e,t){var n=fe;fe|=2;var r=tx();(He!==e||Ye!==t)&&(Dn=null,ds(e,t));do try{HC();break}catch(s){ex(e,s)}while(!0);if(bh(),fe=n,Yl.current=r,Ie!==null)throw Error(D(261));return He=null,Ye=0,ze}function HC(){for(;Ie!==null;)nx(Ie)}function VC(){for(;Ie!==null&&!gj();)nx(Ie)}function nx(e){var t=ox(e.alternate,e,kt);e.memoizedProps=e.pendingProps,t===null?rx(e):Ie=t,Mh.current=null}function rx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$C(n,t),n!==null){n.flags&=32767,Ie=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Ie=null;return}}else if(n=LC(n,t,kt),n!==null){Ie=n;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);ze===0&&(ze=5)}function Zr(e,t,n){var r=ve,s=Vt.transition;try{Vt.transition=null,ve=1,qC(e,t,n,r)}finally{Vt.transition=s,ve=r}return null}function qC(e,t,n,r){do io();while(yr!==null);if(fe&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ej(e,o),e===He&&(Ie=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ya||(Ya=!0,ix(Ml,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vt.transition,Vt.transition=null;var i=ve;ve=1;var a=fe;fe|=4,Mh.current=null,UC(e,n),Qy(n,e),fC(Bd),Dl=!!zd,Bd=zd=null,e.current=n,zC(n),vj(),fe=a,ve=i,Vt.transition=o}else e.current=n;if(Ya&&(Ya=!1,yr=e,Xl=s),o=e.pendingLanes,o===0&&(Cr=null),wj(n.stateNode),_t(e,Me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ql)throw Ql=!1,e=cf,cf=null,e;return Xl&1&&e.tag!==0&&io(),o=e.pendingLanes,o&1?e===uf?Ri++:(Ri=0,uf=e):Ri=0,Lr(),null}function io(){if(yr!==null){var e=L0(Xl),t=Vt.transition,n=ve;try{if(Vt.transition=null,ve=16>e?16:e,yr===null)var r=!1;else{if(e=yr,yr=null,Xl=0,fe&6)throw Error(D(331));var s=fe;for(fe|=4,q=e.current;q!==null;){var o=q,i=o.child;if(q.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:ki(8,d,o)}var f=d.child;if(f!==null)f.return=d,q=f;else for(;q!==null;){d=q;var m=d.sibling,p=d.return;if(Ky(d),d===u){q=null;break}if(m!==null){m.return=p,q=m;break}q=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}q=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,q=i;else e:for(;q!==null;){if(o=q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ki(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,q=w;break e}q=o.return}}var x=e.current;for(q=x;q!==null;){i=q;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,q=b;else e:for(i=x;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kc(9,a)}}catch(_){Ae(a,a.return,_)}if(a===i){q=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,q=S;break e}q=a.return}}if(fe=s,Lr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(wc,e)}catch{}r=!0}return r}finally{ve=n,Vt.transition=t}}return!1}function lg(e,t,n){t=Po(n,t),t=Ly(e,t,1),e=jr(e,t,1),t=ft(),e!==null&&(da(e,1,t),_t(e,t))}function Ae(e,t,n){if(e.tag===3)lg(e,e,n);else for(;t!==null;){if(t.tag===3){lg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cr===null||!Cr.has(r))){e=Po(n,e),e=$y(t,e,1),t=jr(t,e,1),e=ft(),t!==null&&(da(t,1,e),_t(t,e));break}}t=t.return}}function GC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,He===e&&(Ye&n)===n&&(ze===4||ze===3&&(Ye&130023424)===Ye&&500>Me()-Dh?ds(e,0):Ih|=n),_t(e,t)}function sx(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var n=ft();e=Hn(e,t),e!==null&&(da(e,t,n),_t(e,n))}function KC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sx(e,n)}function JC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),sx(e,n)}var ox;ox=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bt.current)wt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wt=!1,DC(e,t,n);wt=!!(e.flags&131072)}else wt=!1,Ne&&t.flags&1048576&&cy(t,Wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;wl(e,t),e=t.pendingProps;var s=Co(t,ot.current);oo(t,n),s=Ph(null,t,r,e,s,n);var o=Rh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(r)?(o=!0,zl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jh(t),s.updater=Nc,t.stateNode=s,s._reactInternals=t,Qd(t,r,e,n),t=ef(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&vh(t),ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QC(r),e=sn(r,e),s){case 0:t=Zd(null,t,r,e,n);break e;case 1:t=Xm(null,t,r,e,n);break e;case 11:t=Ym(null,t,r,e,n);break e;case 14:t=Qm(null,t,r,sn(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),Zd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),Xm(e,t,r,s,n);case 3:e:{if(By(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,s=o.element,my(e,t),ql(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Po(Error(D(423)),t),t=Zm(e,t,r,n,s);break e}else if(r!==s){s=Po(Error(D(424)),t),t=Zm(e,t,r,n,s);break e}else for(Rt=_r(t.stateNode.containerInfo.firstChild),Tt=t,Ne=!0,un=null,n=hy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===s){t=Vn(e,t,n);break e}ct(e,t,r,n)}t=t.child}return t;case 5:return gy(t),e===null&&Kd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Wd(r,s)?i=null:o!==null&&Wd(r,o)&&(t.flags|=32),zy(e,t),ct(e,t,i,n),t.child;case 6:return e===null&&Kd(t),null;case 13:return Wy(e,t,n);case 4:return Ch(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=No(t,null,r,n):ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),Ym(e,t,r,s,n);case 7:return ct(e,t,t.pendingProps,n),t.child;case 8:return ct(e,t,t.pendingProps.children,n),t.child;case 12:return ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Se(Hl,r._currentValue),r._currentValue=i,o!==null)if(hn(o.value,i)){if(o.children===s.children&&!bt.current){t=Vn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=zn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Jd(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(D(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Jd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,oo(t,n),s=Kt(s),r=r(s),t.flags|=1,ct(e,t,r,n),t.child;case 14:return r=t.type,s=sn(r,t.pendingProps),s=sn(r.type,s),Qm(e,t,r,s,n);case 15:return Fy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:sn(r,s),wl(e,t),t.tag=1,St(r)?(e=!0,zl(t)):e=!1,oo(t,n),Dy(t,r,s),Qd(t,r,s,n),ef(null,t,r,!0,e,n);case 19:return Hy(e,t,n);case 22:return Uy(e,t,n)}throw Error(D(156,t.tag))};function ix(e,t){return O0(e,t)}function YC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,n,r){return new YC(e,t,n,r)}function Uh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QC(e){if(typeof e=="function")return Uh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oh)return 11;if(e===ih)return 14}return 2}function Nr(e,t){var n=e.alternate;return n===null?(n=Ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _l(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Uh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Hs:return fs(n.children,s,o,t);case sh:i=8,s|=8;break;case bd:return e=Ht(12,n,t,s|2),e.elementType=bd,e.lanes=o,e;case Sd:return e=Ht(13,n,t,s),e.elementType=Sd,e.lanes=o,e;case _d:return e=Ht(19,n,t,s),e.elementType=_d,e.lanes=o,e;case g0:return Rc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p0:i=10;break e;case m0:i=9;break e;case oh:i=11;break e;case ih:i=14;break e;case ir:i=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ht(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function fs(e,t,n,r){return e=Ht(7,e,r,t),e.lanes=n,e}function Rc(e,t,n,r){return e=Ht(22,e,r,t),e.elementType=g0,e.lanes=n,e.stateNode={isHidden:!1},e}function Ku(e,t,n){return e=Ht(6,e,null,t),e.lanes=n,e}function Ju(e,t,n){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zh(e,t,n,r,s,o,i,a,c){return e=new XC(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jh(o),e}function ZC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ax(e){if(!e)return Pr;e=e._reactInternals;e:{if(Es(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(St(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(St(n))return ay(e,n,t)}return t}function lx(e,t,n,r,s,o,i,a,c){return e=zh(n,r,!0,e,s,o,i,a,c),e.context=ax(null),n=e.current,r=ft(),s=Er(n),o=zn(r,s),o.callback=t??null,jr(n,o,s),e.current.lanes=s,da(e,s,r),_t(e,r),e}function Tc(e,t,n,r){var s=t.current,o=ft(),i=Er(s);return n=ax(n),t.context===null?t.context=n:t.pendingContext=n,t=zn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jr(s,t,i),e!==null&&(fn(e,s,i,o),vl(e,s,i)),i}function ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bh(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function eE(){return null}var cx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wh(e){this._internalRoot=e}Ac.prototype.render=Wh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Tc(e,t,null,null)};Ac.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){Tc(null,e,null,null)}),t[Wn]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=U0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&B0(e)}};function Hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ug(){}function tE(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ec(i);o.call(u)}}var i=lx(t,r,e,0,null,!1,!1,"",ug);return e._reactRootContainer=i,e[Wn]=i.current,Bi(e.nodeType===8?e.parentNode:e),ws(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ec(c);a.call(u)}}var c=zh(e,0,!1,null,null,!1,!1,"",ug);return e._reactRootContainer=c,e[Wn]=c.current,Bi(e.nodeType===8?e.parentNode:e),ws(function(){Tc(t,c,n,r)}),c}function Mc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=ec(i);a.call(c)}}Tc(t,i,e,s)}else i=tE(n,t,e,s,r);return ec(i)}$0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vi(t.pendingLanes);n!==0&&(ch(t,n|1),_t(t,Me()),!(fe&6)&&(Ro=Me()+500,Lr()))}break;case 13:ws(function(){var r=Hn(e,1);if(r!==null){var s=ft();fn(r,e,1,s)}}),Bh(e,1)}};uh=function(e){if(e.tag===13){var t=Hn(e,134217728);if(t!==null){var n=ft();fn(t,e,134217728,n)}Bh(e,134217728)}};F0=function(e){if(e.tag===13){var t=Er(e),n=Hn(e,t);if(n!==null){var r=ft();fn(n,e,t,r)}Bh(e,t)}};U0=function(){return ve};z0=function(e,t){var n=ve;try{return ve=e,t()}finally{ve=n}};Od=function(e,t,n){switch(t){case"input":if(Ed(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=jc(r);if(!s)throw Error(D(90));y0(r),Ed(r,s)}}}break;case"textarea":w0(e,n);break;case"select":t=n.value,t!=null&&to(e,!!n.multiple,t,!1)}};N0=Lh;k0=ws;var nE={usingClientEntryPoint:!1,Events:[ha,Ks,jc,C0,E0,Lh]},li={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rE={bundleType:li.bundleType,version:li.version,rendererPackageName:li.rendererPackageName,rendererConfig:li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T0(e),e===null?null:e.stateNode},findFiberByHostInstance:li.findFiberByHostInstance||eE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{wc=Qa.inject(rE),En=Qa}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nE;Lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hh(t))throw Error(D(200));return ZC(e,t,null,n)};Lt.createRoot=function(e,t){if(!Hh(e))throw Error(D(299));var n=!1,r="",s=cx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zh(e,1,!1,null,null,n,!1,r,s),e[Wn]=t.current,Bi(e.nodeType===8?e.parentNode:e),new Wh(t)};Lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=T0(t),e=e===null?null:e.stateNode,e};Lt.flushSync=function(e){return ws(e)};Lt.hydrate=function(e,t,n){if(!Oc(t))throw Error(D(200));return Mc(null,e,t,!0,n)};Lt.hydrateRoot=function(e,t,n){if(!Hh(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=cx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=lx(t,null,e,1,n??null,s,!1,o,i),e[Wn]=t.current,Bi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ac(t)};Lt.render=function(e,t,n){if(!Oc(t))throw Error(D(200));return Mc(null,e,t,!1,n)};Lt.unmountComponentAtNode=function(e){if(!Oc(e))throw Error(D(40));return e._reactRootContainer?(ws(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0):!1};Lt.unstable_batchedUpdates=Lh;Lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oc(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Mc(e,t,n,!1,r)};Lt.version="18.3.1-next-f1338f8080-20240426";function ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ux)}catch(e){console.error(e)}}ux(),u0.exports=Lt;var Fo=u0.exports;const dx=Qv(Fo);var fx,dg=Fo;fx=dg.createRoot,dg.hydrateRoot;var fg=["light","dark"],sE="(prefers-color-scheme: dark)",oE=h.createContext(void 0),iE={setTheme:e=>{},themes:[]},aE=()=>{var e;return(e=h.useContext(oE))!=null?e:iE};h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?fg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,v=!1,y=!0)=>{let w=i?i[g]:g,x=v?g+"|| ''":`'${w}'`,b="";return s&&y&&!v&&fg.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),n==="class"?v||w?b+=`c.add(${x})`:b+="null":w&&(b+=`d[s](n,${x})`),b},p=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${sE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var lE=e=>{switch(e){case"success":return dE;case"info":return hE;case"warning":return fE;case"error":return pE;default:return null}},cE=Array(12).fill(0),uE=({visible:e,className:t})=>F.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},F.createElement("div",{className:"sonner-spinner"},cE.map((n,r)=>F.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),dE=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fE=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hE=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pE=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},F.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mE=F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},F.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),F.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gE=()=>{let[e,t]=F.useState(document.hidden);return F.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},hf=1,vE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:hf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],F.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(xE(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),a=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||hf++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},vt=new vE,yE=(e,t)=>{let n=(t==null?void 0:t.id)||hf++;return vt.addToast({title:e,...t,id:n}),n},xE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wE=yE,bE=()=>vt.toasts,SE=()=>vt.getActiveToasts(),W=Object.assign(wE,{success:vt.success,info:vt.info,warning:vt.warning,error:vt.error,custom:vt.custom,message:vt.message,promise:vt.promise,dismiss:vt.dismiss,loading:vt.loading},{getHistory:bE,getToasts:SE});function _E(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}_E(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Xa(e){return e.label!==void 0}var jE=3,CE="32px",EE="16px",hg=4e3,NE=356,kE=14,PE=20,RE=200;function tn(...e){return e.filter(Boolean).join(" ")}function TE(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var AE=e=>{var t,n,r,s,o,i,a,c,u,d,f;let{invert:m,toast:p,unstyled:g,interacting:v,setHeights:y,visibleToasts:w,heights:x,index:b,toasts:S,expanded:_,removeToast:j,defaultRichColors:N,closeButton:k,style:E,cancelButtonStyle:C,actionButtonStyle:A,className:M="",descriptionClassName:O="",duration:L,position:J,gap:z,loadingIcon:V,expandByDefault:T,classNames:P,icons:$,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:G}=e,[oe,Z]=F.useState(null),[ye,xe]=F.useState(null),[B,he]=F.useState(!1),[pe,ue]=F.useState(!1),[de,me]=F.useState(!1),[Xe,Ft]=F.useState(!1),[Gr,Yn]=F.useState(!1),[Kr,Zo]=F.useState(0),[Rs,Yp]=F.useState(0),ei=F.useRef(p.duration||L||hg),Qp=F.useRef(null),Jr=F.useRef(null),S_=b===0,__=b+1<=w,Ut=p.type,Ts=p.dismissible!==!1,j_=p.className||"",C_=p.descriptionClassName||"",Oa=F.useMemo(()=>x.findIndex(ee=>ee.toastId===p.id)||0,[x,p.id]),E_=F.useMemo(()=>{var ee;return(ee=p.closeButton)!=null?ee:k},[p.closeButton,k]),Xp=F.useMemo(()=>p.duration||L||hg,[p.duration,L]),bu=F.useRef(0),As=F.useRef(0),Zp=F.useRef(0),Os=F.useRef(null),[N_,k_]=J.split("-"),em=F.useMemo(()=>x.reduce((ee,we,Ee)=>Ee>=Oa?ee:ee+we.height,0),[x,Oa]),tm=gE(),P_=p.invert||m,Su=Ut==="loading";As.current=F.useMemo(()=>Oa*z+em,[Oa,em]),F.useEffect(()=>{ei.current=Xp},[Xp]),F.useEffect(()=>{he(!0)},[]),F.useEffect(()=>{let ee=Jr.current;if(ee){let we=ee.getBoundingClientRect().height;return Yp(we),y(Ee=>[{toastId:p.id,height:we,position:p.position},...Ee]),()=>y(Ee=>Ee.filter(Qt=>Qt.toastId!==p.id))}},[y,p.id]),F.useLayoutEffect(()=>{if(!B)return;let ee=Jr.current,we=ee.style.height;ee.style.height="auto";let Ee=ee.getBoundingClientRect().height;ee.style.height=we,Yp(Ee),y(Qt=>Qt.find(Xt=>Xt.toastId===p.id)?Qt.map(Xt=>Xt.toastId===p.id?{...Xt,height:Ee}:Xt):[{toastId:p.id,height:Ee,position:p.position},...Qt])},[B,p.title,p.description,y,p.id]);let Qn=F.useCallback(()=>{ue(!0),Zo(As.current),y(ee=>ee.filter(we=>we.toastId!==p.id)),setTimeout(()=>{j(p)},RE)},[p,j,y,As]);F.useEffect(()=>{if(p.promise&&Ut==="loading"||p.duration===1/0||p.type==="loading")return;let ee;return _||v||G&&tm?(()=>{if(Zp.current<bu.current){let we=new Date().getTime()-bu.current;ei.current=ei.current-we}Zp.current=new Date().getTime()})():ei.current!==1/0&&(bu.current=new Date().getTime(),ee=setTimeout(()=>{var we;(we=p.onAutoClose)==null||we.call(p,p),Qn()},ei.current)),()=>clearTimeout(ee)},[_,v,p,Ut,G,tm,Qn]),F.useEffect(()=>{p.delete&&Qn()},[Qn,p.delete]);function R_(){var ee,we,Ee;return $!=null&&$.loading?F.createElement("div",{className:tn(P==null?void 0:P.loader,(ee=p==null?void 0:p.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":Ut==="loading"},$.loading):V?F.createElement("div",{className:tn(P==null?void 0:P.loader,(we=p==null?void 0:p.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":Ut==="loading"},V):F.createElement(uE,{className:tn(P==null?void 0:P.loader,(Ee=p==null?void 0:p.classNames)==null?void 0:Ee.loader),visible:Ut==="loading"})}return F.createElement("li",{tabIndex:0,ref:Jr,className:tn(M,j_,P==null?void 0:P.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Ut],(n=p==null?void 0:p.classNames)==null?void 0:n[Ut]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:N,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":B,"data-promise":!!p.promise,"data-swiped":Gr,"data-removed":pe,"data-visible":__,"data-y-position":N_,"data-x-position":k_,"data-index":b,"data-front":S_,"data-swiping":de,"data-dismissible":Ts,"data-type":Ut,"data-invert":P_,"data-swipe-out":Xe,"data-swipe-direction":ye,"data-expanded":!!(_||T&&B),style:{"--index":b,"--toasts-before":b,"--z-index":S.length-b,"--offset":`${pe?Kr:As.current}px`,"--initial-height":T?"auto":`${Rs}px`,...E,...p.style},onDragEnd:()=>{me(!1),Z(null),Os.current=null},onPointerDown:ee=>{Su||!Ts||(Qp.current=new Date,Zo(As.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(me(!0),Os.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,we,Ee,Qt;if(Xe||!Ts)return;Os.current=null;let Xt=Number(((ee=Jr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xn=Number(((we=Jr.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yr=new Date().getTime()-((Ee=Qp.current)==null?void 0:Ee.getTime()),Zt=oe==="x"?Xt:Xn,Zn=Math.abs(Zt)/Yr;if(Math.abs(Zt)>=PE||Zn>.11){Zo(As.current),(Qt=p.onDismiss)==null||Qt.call(p,p),xe(oe==="x"?Xt>0?"right":"left":Xn>0?"down":"up"),Qn(),Ft(!0),Yn(!1);return}me(!1),Z(null)},onPointerMove:ee=>{var we,Ee,Qt,Xt;if(!Os.current||!Ts||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Xn=ee.clientY-Os.current.y,Yr=ee.clientX-Os.current.x,Zt=(Ee=e.swipeDirections)!=null?Ee:TE(J);!oe&&(Math.abs(Yr)>1||Math.abs(Xn)>1)&&Z(Math.abs(Yr)>Math.abs(Xn)?"x":"y");let Zn={x:0,y:0};oe==="y"?(Zt.includes("top")||Zt.includes("bottom"))&&(Zt.includes("top")&&Xn<0||Zt.includes("bottom")&&Xn>0)&&(Zn.y=Xn):oe==="x"&&(Zt.includes("left")||Zt.includes("right"))&&(Zt.includes("left")&&Yr<0||Zt.includes("right")&&Yr>0)&&(Zn.x=Yr),(Math.abs(Zn.x)>0||Math.abs(Zn.y)>0)&&Yn(!0),(Qt=Jr.current)==null||Qt.style.setProperty("--swipe-amount-x",`${Zn.x}px`),(Xt=Jr.current)==null||Xt.style.setProperty("--swipe-amount-y",`${Zn.y}px`)}},E_&&!p.jsx?F.createElement("button",{"aria-label":Y,"data-disabled":Su,"data-close-button":!0,onClick:Su||!Ts?()=>{}:()=>{var ee;Qn(),(ee=p.onDismiss)==null||ee.call(p,p)},className:tn(P==null?void 0:P.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(o=$==null?void 0:$.close)!=null?o:mE):null,p.jsx||h.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:F.createElement(F.Fragment,null,Ut||p.icon||p.promise?F.createElement("div",{"data-icon":"",className:tn(P==null?void 0:P.icon,(i=p==null?void 0:p.classNames)==null?void 0:i.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||R_():null,p.type!=="loading"?p.icon||($==null?void 0:$[Ut])||lE(Ut):null):null,F.createElement("div",{"data-content":"",className:tn(P==null?void 0:P.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},F.createElement("div",{"data-title":"",className:tn(P==null?void 0:P.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?F.createElement("div",{"data-description":"",className:tn(O,C_,P==null?void 0:P.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),h.isValidElement(p.cancel)?p.cancel:p.cancel&&Xa(p.cancel)?F.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||C,onClick:ee=>{var we,Ee;Xa(p.cancel)&&Ts&&((Ee=(we=p.cancel).onClick)==null||Ee.call(we,ee),Qn())},className:tn(P==null?void 0:P.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,h.isValidElement(p.action)?p.action:p.action&&Xa(p.action)?F.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:ee=>{var we,Ee;Xa(p.action)&&((Ee=(we=p.action).onClick)==null||Ee.call(we,ee),!ee.defaultPrevented&&Qn())},className:tn(P==null?void 0:P.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function pg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function OE(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?EE:CE;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var ME=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:p,visibleToasts:g=jE,toastOptions:v,dir:y=pg(),gap:w=kE,loadingIcon:x,icons:b,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:_}=e,[j,N]=F.useState([]),k=F.useMemo(()=>Array.from(new Set([r].concat(j.filter(G=>G.position).map(G=>G.position)))),[j,r]),[E,C]=F.useState([]),[A,M]=F.useState(!1),[O,L]=F.useState(!1),[J,z]=F.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=F.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=F.useRef(null),$=F.useRef(!1),Y=F.useCallback(G=>{N(oe=>{var Z;return(Z=oe.find(ye=>ye.id===G.id))!=null&&Z.delete||vt.dismiss(G.id),oe.filter(({id:ye})=>ye!==G.id)})},[]);return F.useEffect(()=>vt.subscribe(G=>{if(G.dismiss){N(oe=>oe.map(Z=>Z.id===G.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{dx.flushSync(()=>{N(oe=>{let Z=oe.findIndex(ye=>ye.id===G.id);return Z!==-1?[...oe.slice(0,Z),{...oe[Z],...G},...oe.slice(Z+1)]:[G,...oe]})})})}),[]),F.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:oe})=>{z(oe?"dark":"light")})}catch{G.addListener(({matches:Z})=>{try{z(Z?"dark":"light")}catch(ye){console.error(ye)}})}},[d]),F.useEffect(()=>{j.length<=1&&M(!1)},[j]),F.useEffect(()=>{let G=oe=>{var Z,ye;s.every(xe=>oe[xe]||oe.code===xe)&&(M(!0),(Z=V.current)==null||Z.focus()),oe.code==="Escape"&&(document.activeElement===V.current||(ye=V.current)!=null&&ye.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[s]),F.useEffect(()=>{if(V.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,$.current=!1)}},[V.current]),F.createElement("section",{ref:t,"aria-label":`${S} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((G,oe)=>{var Z;let[ye,xe]=G.split("-");return j.length?F.createElement("ol",{key:G,dir:y==="auto"?pg():y,tabIndex:-1,ref:V,className:a,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":ye,"data-lifted":A&&j.length>1&&!o,"data-x-position":xe,style:{"--front-toast-height":`${((Z=E[0])==null?void 0:Z.height)||0}px`,"--width":`${NE}px`,"--gap":`${w}px`,...p,...OE(c,u)},onBlur:B=>{$.current&&!B.currentTarget.contains(B.relatedTarget)&&($.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||$.current||($.current=!0,P.current=B.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{O||M(!1)},onDragEnd:()=>M(!1),onPointerDown:B=>{B.target instanceof HTMLElement&&B.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},j.filter(B=>!B.position&&oe===0||B.position===G).map((B,he)=>{var pe,ue;return F.createElement(AE,{key:B.id,icons:b,index:he,toast:B,defaultRichColors:f,duration:(pe=v==null?void 0:v.duration)!=null?pe:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:g,closeButton:(ue=v==null?void 0:v.closeButton)!=null?ue:i,interacting:O,position:G,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Y,toasts:j.filter(de=>de.position==B.position),heights:E.filter(de=>de.position==B.position),setHeights:C,expandByDefault:o,gap:w,loadingIcon:x,expanded:A,pauseWhenPageIsHidden:_,swipeDirections:e.swipeDirections})})):null}))});const IE=({...e})=>{const{theme:t="system"}=aE();return l.jsx(ME,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function H(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DE(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ic(...e){return t=>e.forEach(n=>DE(n,t))}function ce(...e){return h.useCallback(Ic(...e),e)}function LE(e,t){const n=h.createContext(t),r=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function $r(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var w;const{scope:m,children:p,...g}=f,v=((w=m==null?void 0:m[e])==null?void 0:w[c])||a,y=h.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})};u.displayName=o+"Provider";function d(f,m){var v;const p=((v=m==null?void 0:m[e])==null?void 0:v[c])||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,$E(s,...t)]}function $E(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Rr=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),o=s.find(FE);if(o){const i=o.props.children,a=s.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return l.jsx(pf,{...r,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return l.jsx(pf,{...r,ref:t,children:n})});Rr.displayName="Slot";var pf=h.forwardRef((e,t)=>{const{children:n,...r}=e;if(h.isValidElement(n)){const s=zE(n);return h.cloneElement(n,{...UE(r,n.props),ref:t?Ic(t,s):s})}return h.Children.count(n)>1?h.Children.only(null):null});pf.displayName="SlotClone";var hx=({children:e})=>l.jsx(l.Fragment,{children:e});function FE(e){return h.isValidElement(e)&&e.type===hx}function UE(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function zE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var BE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Q=BE.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Rr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function px(e,t){e&&Fo.flushSync(()=>e.dispatchEvent(t))}function De(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function WE(e,t=globalThis==null?void 0:globalThis.document){const n=De(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var HE="DismissableLayer",mf="dismissableLayer.update",VE="dismissableLayer.pointerDownOutside",qE="dismissableLayer.focusOutside",mg,mx=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ma=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(mx),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),g=ce(t,N=>f(N)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(y),x=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=x>=w,_=JE(N=>{const k=N.target,E=[...u.branches].some(C=>C.contains(k));!S||E||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},m),j=YE(N=>{const k=N.target;[...u.branches].some(C=>C.contains(k))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},m);return WE(N=>{x===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},m),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mg=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=mg)}},[d,m,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gg())},[d,u]),h.useEffect(()=>{const N=()=>p({});return document.addEventListener(mf,N),()=>document.removeEventListener(mf,N)},[]),l.jsx(Q.div,{...c,ref:g,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,j.onFocusCapture),onBlurCapture:H(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,_.onPointerDownCapture)})});ma.displayName=HE;var GE="DismissableLayerBranch",KE=h.forwardRef((e,t)=>{const n=h.useContext(mx),r=h.useRef(null),s=ce(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(Q.div,{...e,ref:s})});KE.displayName=GE;function JE(e,t=globalThis==null?void 0:globalThis.document){const n=De(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){gx(VE,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YE(e,t=globalThis==null?void 0:globalThis.document){const n=De(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&gx(qE,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gg(){const e=new CustomEvent(mf);document.dispatchEvent(e)}function gx(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?px(s,o):s.dispatchEvent(o)}var Ge=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},QE=l0.useId||(()=>{}),XE=0;function kn(e){const[t,n]=h.useState(QE());return Ge(()=>{e||n(r=>r??String(XE++))},[e]),e||(t?`radix-${t}`:"")}const ZE=["top","right","bottom","left"],Tr=Math.min,Pt=Math.max,tc=Math.round,Za=Math.floor,Ar=e=>({x:e,y:e}),eN={left:"right",right:"left",bottom:"top",top:"bottom"},tN={start:"end",end:"start"};function gf(e,t,n){return Pt(e,Tr(t,n))}function qn(e,t){return typeof e=="function"?e(t):e}function Gn(e){return e.split("-")[0]}function Uo(e){return e.split("-")[1]}function Vh(e){return e==="x"?"y":"x"}function qh(e){return e==="y"?"height":"width"}function Or(e){return["top","bottom"].includes(Gn(e))?"y":"x"}function Gh(e){return Vh(Or(e))}function nN(e,t,n){n===void 0&&(n=!1);const r=Uo(e),s=Gh(e),o=qh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=nc(i)),[i,nc(i)]}function rN(e){const t=nc(e);return[vf(e),t,vf(t)]}function vf(e){return e.replace(/start|end/g,t=>tN[t])}function sN(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function oN(e,t,n,r){const s=Uo(e);let o=sN(Gn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(vf)))),o}function nc(e){return e.replace(/left|right|bottom|top/g,t=>eN[t])}function iN(e){return{top:0,right:0,bottom:0,left:0,...e}}function vx(e){return typeof e!="number"?iN(e):{top:e,right:e,bottom:e,left:e}}function rc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function vg(e,t,n){let{reference:r,floating:s}=e;const o=Or(t),i=Gh(t),a=qh(i),c=Gn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Uo(t)){case"start":p[i]-=m*(n&&u?-1:1);break;case"end":p[i]+=m*(n&&u?-1:1);break}return p}const aN=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=vg(u,r,c),m=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:w}=a[v],{x,y:b,data:S,reset:_}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,f=b??f,p={...p,[y]:{...p[y],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=vg(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function Qi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=qn(t,e),g=vx(p),y=a[m?f==="floating"?"reference":"floating":f],w=rc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=rc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:c}):x);return{top:(w.top-_.top+g.top)/S.y,bottom:(_.bottom-w.bottom+g.bottom)/S.y,left:(w.left-_.left+g.left)/S.x,right:(_.right-w.right+g.right)/S.x}}const lN=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=qn(e,t)||{};if(u==null)return{};const f=vx(d),m={x:n,y:r},p=Gh(s),g=qh(p),v=await i.getDimensions(u),y=p==="y",w=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",S=o.reference[g]+o.reference[p]-m[p]-o.floating[g],_=m[p]-o.reference[p],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=j?j[b]:0;(!N||!await(i.isElement==null?void 0:i.isElement(j)))&&(N=a.floating[b]||o.floating[g]);const k=S/2-_/2,E=N/2-v[g]/2-1,C=Tr(f[w],E),A=Tr(f[x],E),M=C,O=N-v[g]-A,L=N/2-v[g]/2+k,J=gf(M,L,O),z=!c.arrow&&Uo(s)!=null&&L!==J&&o.reference[g]/2-(L<M?C:A)-v[g]/2<0,V=z?L<M?L-M:L-O:0;return{[p]:m[p]+V,data:{[p]:J,centerOffset:L-J-V,...z&&{alignmentOffset:V}},reset:z}}}),cN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=qn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Gn(s),x=Or(a),b=Gn(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(b||!v?[nc(a)]:rN(a)),j=g!=="none";!m&&j&&_.push(...oN(a,v,g,S));const N=[a,..._],k=await Qi(t,y),E=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&E.push(k[w]),f){const L=nN(s,i,S);E.push(k[L[0]],k[L[1]])}if(C=[...C,{placement:s,overflows:E}],!E.every(L=>L<=0)){var A,M;const L=(((A=o.flip)==null?void 0:A.index)||0)+1,J=N[L];if(J)return{data:{index:L,overflows:C},reset:{placement:J}};let z=(M=C.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:M.placement;if(!z)switch(p){case"bestFit":{var O;const V=(O=C.filter(T=>{if(j){const P=Or(T.placement);return P===x||P==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,$)=>P+$,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:O[0];V&&(z=V);break}case"initialPlacement":z=a;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function yg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xg(e){return ZE.some(t=>e[t]>=0)}const uN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=qn(e,t);switch(r){case"referenceHidden":{const o=await Qi(t,{...s,elementContext:"reference"}),i=yg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:xg(i)}}}case"escaped":{const o=await Qi(t,{...s,altBoundary:!0}),i=yg(o,n.floating);return{data:{escapedOffsets:i,escaped:xg(i)}}}default:return{}}}}};async function dN(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Gn(n),a=Uo(n),c=Or(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=qn(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const fN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await dN(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},hN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:y=>{let{x:w,y:x}=y;return{x:w,y:x}}},...c}=qn(e,t),u={x:n,y:r},d=await Qi(t,c),f=Or(Gn(s)),m=Vh(f);let p=u[m],g=u[f];if(o){const y=m==="y"?"top":"left",w=m==="y"?"bottom":"right",x=p+d[y],b=p-d[w];p=gf(x,p,b)}if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",x=g+d[y],b=g-d[w];g=gf(x,g,b)}const v=a.fn({...t,[m]:p,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:o,[f]:i}}}}}},pN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=qn(e,t),d={x:n,y:r},f=Or(s),m=Vh(f);let p=d[m],g=d[f];const v=qn(a,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",S=o.reference[m]-o.floating[b]+y.mainAxis,_=o.reference[m]+o.reference[b]-y.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var w,x;const b=m==="y"?"width":"height",S=["top","left"].includes(Gn(s)),_=o.reference[f]-o.floating[b]+(S&&((w=i.offset)==null?void 0:w[f])||0)+(S?0:y.crossAxis),j=o.reference[f]+o.reference[b]+(S?0:((x=i.offset)==null?void 0:x[f])||0)-(S?y.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[m]:p,[f]:g}}}},mN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=qn(e,t),d=await Qi(t,u),f=Gn(s),m=Uo(s),p=Or(s)==="y",{width:g,height:v}=o.floating;let y,w;f==="top"||f==="bottom"?(y=f,w=m===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,y=m==="end"?"top":"bottom");const x=v-d.top-d.bottom,b=g-d.left-d.right,S=Tr(v-d[y],x),_=Tr(g-d[w],b),j=!t.middlewareData.shift;let N=S,k=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=x),j&&!m){const C=Pt(d.left,0),A=Pt(d.right,0),M=Pt(d.top,0),O=Pt(d.bottom,0);p?k=g-2*(C!==0||A!==0?C+A:Pt(d.left,d.right)):N=v-2*(M!==0||O!==0?M+O:Pt(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const E=await i.getDimensions(a.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function Dc(){return typeof window<"u"}function zo(e){return yx(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tn(e){var t;return(t=(yx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yx(e){return Dc()?e instanceof Node||e instanceof At(e).Node:!1}function pn(e){return Dc()?e instanceof Element||e instanceof At(e).Element:!1}function Pn(e){return Dc()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function wg(e){return!Dc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}function ga(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=mn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function gN(e){return["table","td","th"].includes(zo(e))}function Lc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Kh(e){const t=Jh(),n=pn(e)?mn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vN(e){let t=Mr(e);for(;Pn(t)&&!To(t);){if(Kh(t))return t;if(Lc(t))return null;t=Mr(t)}return null}function Jh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function To(e){return["html","body","#document"].includes(zo(e))}function mn(e){return At(e).getComputedStyle(e)}function $c(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mr(e){if(zo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wg(e)&&e.host||Tn(e);return wg(t)?t.host:t}function xx(e){const t=Mr(e);return To(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pn(t)&&ga(t)?t:xx(t)}function Xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=xx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=At(s);if(o){const a=yf(i);return t.concat(i,i.visualViewport||[],ga(s)?s:[],a&&n?Xi(a):[])}return t.concat(s,Xi(s,[],n))}function yf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wx(e){const t=mn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Pn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=tc(n)!==o||tc(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function Yh(e){return pn(e)?e:e.contextElement}function ao(e){const t=Yh(e);if(!Pn(t))return Ar(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=wx(t);let i=(o?tc(n.width):n.width)/r,a=(o?tc(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const yN=Ar(0);function bx(e){const t=At(e);return!Jh()||!t.visualViewport?yN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==At(e)?!1:t}function bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Yh(e);let i=Ar(1);t&&(r?pn(r)&&(i=ao(r)):i=ao(e));const a=xN(o,n,r)?bx(o):Ar(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const m=At(o),p=r&&pn(r)?At(r):r;let g=m,v=yf(g);for(;v&&r&&p!==g;){const y=ao(v),w=v.getBoundingClientRect(),x=mn(v),b=w.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,S=w.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=b,u+=S,g=At(v),v=yf(g)}}return rc({width:d,height:f,x:c,y:u})}function wN(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Tn(r),a=t?Lc(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),f=Pn(r);if((f||!f&&!o)&&((zo(r)!=="body"||ga(i))&&(c=$c(r)),Pn(r))){const m=bs(r);u=ao(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function bN(e){return Array.from(e.getClientRects())}function xf(e,t){const n=$c(e).scrollLeft;return t?t.left+n:bs(Tn(e)).left+n}function SN(e){const t=Tn(e),n=$c(e),r=e.ownerDocument.body,s=Pt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Pt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+xf(e);const a=-n.scrollTop;return mn(r).direction==="rtl"&&(i+=Pt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function _N(e,t){const n=At(e),r=Tn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=Jh();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function jN(e,t){const n=bs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Pn(e)?ao(e):Ar(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function bg(e,t,n){let r;if(t==="viewport")r=_N(e,n);else if(t==="document")r=SN(Tn(e));else if(pn(t))r=jN(t,n);else{const s=bx(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return rc(r)}function Sx(e,t){const n=Mr(e);return n===t||!pn(n)||To(n)?!1:mn(n).position==="fixed"||Sx(n,t)}function CN(e,t){const n=t.get(e);if(n)return n;let r=Xi(e,[],!1).filter(a=>pn(a)&&zo(a)!=="body"),s=null;const o=mn(e).position==="fixed";let i=o?Mr(e):e;for(;pn(i)&&!To(i);){const a=mn(i),c=Kh(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ga(i)&&!c&&Sx(e,i))?r=r.filter(d=>d!==i):s=a,i=Mr(i)}return t.set(e,r),r}function EN(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Lc(t)?[]:CN(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const f=bg(t,d,s);return u.top=Pt(f.top,u.top),u.right=Tr(f.right,u.right),u.bottom=Tr(f.bottom,u.bottom),u.left=Pt(f.left,u.left),u},bg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NN(e){const{width:t,height:n}=wx(e);return{width:t,height:n}}function kN(e,t,n){const r=Pn(t),s=Tn(t),o=n==="fixed",i=bs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ar(0);if(r||!r&&!o)if((zo(t)!=="body"||ga(s))&&(a=$c(t)),r){const p=bs(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=xf(s));let u=0,d=0;if(s&&!r&&!o){const p=s.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-xf(s,p)}const f=i.left+a.scrollLeft-c.x-u,m=i.top+a.scrollTop-c.y-d;return{x:f,y:m,width:i.width,height:i.height}}function Yu(e){return mn(e).position==="static"}function Sg(e,t){if(!Pn(e)||mn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Tn(e)===n&&(n=n.ownerDocument.body),n}function _x(e,t){const n=At(e);if(Lc(e))return n;if(!Pn(e)){let s=Mr(e);for(;s&&!To(s);){if(pn(s)&&!Yu(s))return s;s=Mr(s)}return n}let r=Sg(e,t);for(;r&&gN(r)&&Yu(r);)r=Sg(r,t);return r&&To(r)&&Yu(r)&&!Kh(r)?n:r||vN(e)||n}const PN=async function(e){const t=this.getOffsetParent||_x,n=this.getDimensions,r=await n(e.floating);return{reference:kN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RN(e){return mn(e).direction==="rtl"}const TN={convertOffsetParentRelativeRectToViewportRelativeRect:wN,getDocumentElement:Tn,getClippingRect:EN,getOffsetParent:_x,getElementRects:PN,getClientRects:bN,getDimensions:NN,getScale:ao,isElement:pn,isRTL:RN};function AN(e,t){let n=null,r;const s=Tn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:m}=e.getBoundingClientRect();if(a||t(),!f||!m)return;const p=Za(d),g=Za(s.clientWidth-(u+f)),v=Za(s.clientHeight-(d+m)),y=Za(u),x={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Pt(0,Tr(1,c))||1};let b=!0;function S(_){const j=_[0].intersectionRatio;if(j!==c){if(!b)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(e)}return i(!0),o}function ON(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yh(e),d=s||o?[...u?Xi(u):[],...Xi(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const f=u&&a?AN(u,n):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[x]=w;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,v=c?bs(e):null;c&&y();function y(){const w=bs(e);v&&(w.x!==v.x||w.y!==v.y||w.width!==v.width||w.height!==v.height)&&n(),v=w,g=requestAnimationFrame(y)}return n(),()=>{var w;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const MN=fN,IN=hN,DN=cN,LN=mN,$N=uN,_g=lN,FN=pN,UN=(e,t,n)=>{const r=new Map,s={platform:TN,...n},o={...s.platform,_c:r};return aN(e,t,{...s,platform:o})};var jl=typeof document<"u"?h.useLayoutEffect:h.useEffect;function sc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!sc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!sc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function jx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jg(e,t){const n=jx(e);return Math.round(t*n)/n}function Qu(e){const t=h.useRef(e);return jl(()=>{t.current=e}),t}function zN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=h.useState(r);sc(m,r)||p(r);const[g,v]=h.useState(null),[y,w]=h.useState(null),x=h.useCallback(T=>{T!==j.current&&(j.current=T,v(T))},[]),b=h.useCallback(T=>{T!==N.current&&(N.current=T,w(T))},[]),S=o||g,_=i||y,j=h.useRef(null),N=h.useRef(null),k=h.useRef(d),E=c!=null,C=Qu(c),A=Qu(s),M=Qu(u),O=h.useCallback(()=>{if(!j.current||!N.current)return;const T={placement:t,strategy:n,middleware:m};A.current&&(T.platform=A.current),UN(j.current,N.current,T).then(P=>{const $={...P,isPositioned:M.current!==!1};L.current&&!sc(k.current,$)&&(k.current=$,Fo.flushSync(()=>{f($)}))})},[m,t,n,A,M]);jl(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const L=h.useRef(!1);jl(()=>(L.current=!0,()=>{L.current=!1}),[]),jl(()=>{if(S&&(j.current=S),_&&(N.current=_),S&&_){if(C.current)return C.current(S,_,O);O()}},[S,_,O,C,E]);const J=h.useMemo(()=>({reference:j,floating:N,setReference:x,setFloating:b}),[x,b]),z=h.useMemo(()=>({reference:S,floating:_}),[S,_]),V=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!z.floating)return T;const P=jg(z.floating,d.x),$=jg(z.floating,d.y);return a?{...T,transform:"translate("+P+"px, "+$+"px)",...jx(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:$}},[n,a,z.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:O,refs:J,elements:z,floatingStyles:V}),[d,O,J,z,V])}const BN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_g({element:r.current,padding:s}).fn(n):{}:r?_g({element:r,padding:s}).fn(n):{}}}},WN=(e,t)=>({...MN(e),options:[e,t]}),HN=(e,t)=>({...IN(e),options:[e,t]}),VN=(e,t)=>({...FN(e),options:[e,t]}),qN=(e,t)=>({...DN(e),options:[e,t]}),GN=(e,t)=>({...LN(e),options:[e,t]}),KN=(e,t)=>({...$N(e),options:[e,t]}),JN=(e,t)=>({...BN(e),options:[e,t]});var YN="Arrow",Cx=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(Q.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Cx.displayName=YN;var QN=Cx;function XN(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:m,children:p,...g}=f,v=(m==null?void 0:m[e][c])||a,y=h.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})}function d(f,m){const p=(m==null?void 0:m[e][c])||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,ZN(s,...t)]}function ZN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function ek(e){const[t,n]=h.useState(void 0);return Ge(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Qh="Popper",[Ex,Bo]=XN(Qh),[tk,Nx]=Ex(Qh),kx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return l.jsx(tk,{scope:t,anchor:r,onAnchorChange:s,children:n})};kx.displayName=Qh;var Px="PopperAnchor",Rx=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Nx(Px,n),i=h.useRef(null),a=ce(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(Q.div,{...s,ref:a})});Rx.displayName=Px;var Xh="PopperContent",[nk,rk]=Ex(Xh),Tx=h.forwardRef((e,t)=>{var B,he,pe,ue,de,me;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...v}=e,y=Nx(Xh,n),[w,x]=h.useState(null),b=ce(t,Xe=>x(Xe)),[S,_]=h.useState(null),j=ek(S),N=(j==null?void 0:j.width)??0,k=(j==null?void 0:j.height)??0,E=r+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],M=A.length>0,O={padding:C,boundary:A.filter(ok),altBoundary:M},{refs:L,floatingStyles:J,placement:z,isPositioned:V,middlewareData:T}=zN({strategy:"fixed",placement:E,whileElementsMounted:(...Xe)=>ON(...Xe,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[WN({mainAxis:s+k,alignmentAxis:i}),c&&HN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VN():void 0,...O}),c&&qN({...O}),GN({...O,apply:({elements:Xe,rects:Ft,availableWidth:Gr,availableHeight:Yn})=>{const{width:Kr,height:Zo}=Ft.reference,Rs=Xe.floating.style;Rs.setProperty("--radix-popper-available-width",`${Gr}px`),Rs.setProperty("--radix-popper-available-height",`${Yn}px`),Rs.setProperty("--radix-popper-anchor-width",`${Kr}px`),Rs.setProperty("--radix-popper-anchor-height",`${Zo}px`)}}),S&&JN({element:S,padding:a}),ik({arrowWidth:N,arrowHeight:k}),m&&KN({strategy:"referenceHidden",...O})]}),[P,$]=Mx(z),Y=De(g);Ge(()=>{V&&(Y==null||Y())},[V,Y]);const G=(B=T.arrow)==null?void 0:B.x,oe=(he=T.arrow)==null?void 0:he.y,Z=((pe=T.arrow)==null?void 0:pe.centerOffset)!==0,[ye,xe]=h.useState();return Ge(()=>{w&&xe(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:V?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(ue=T.transformOrigin)==null?void 0:ue.x,(de=T.transformOrigin)==null?void 0:de.y].join(" "),...((me=T.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(nk,{scope:n,placedSide:P,onArrowChange:_,arrowX:G,arrowY:oe,shouldHideArrow:Z,children:l.jsx(Q.div,{"data-side":P,"data-align":$,...v,ref:b,style:{...v.style,animation:V?void 0:"none"}})})})});Tx.displayName=Xh;var Ax="PopperArrow",sk={top:"bottom",right:"left",bottom:"top",left:"right"},Ox=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=rk(Ax,r),i=sk[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(QN,{...s,ref:n,style:{...s.style,display:"block"}})})});Ox.displayName=Ax;function ok(e){return e!==null}var ik=e=>({name:"transformOrigin",options:e,fn(t){var y,w,x;const{placement:n,rects:r,middlewareData:s}=t,i=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Mx(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let g="",v="";return u==="bottom"?(g=i?f:`${m}px`,v=`${-c}px`):u==="top"?(g=i?f:`${m}px`,v=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,v=i?f:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,v=i?f:`${p}px`),{data:{x:g,y:v}}}});function Mx(e){const[t,n="center"]=e.split("-");return[t,n]}var Ix=kx,Zh=Rx,ep=Tx,tp=Ox,ak="Portal",Fc=h.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=h.useState(!1);Ge(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?dx.createPortal(l.jsx(Q.div,{...r,ref:t}),i):null});Fc.displayName=ak;function lk(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Et=e=>{const{present:t,children:n}=e,r=ck(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=ce(r.ref,uk(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};Et.displayName="Presence";function ck(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=lk(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=el(r.current);o.current=a==="mounted"?u:"none"},[a]),Ge(()=>{const u=r.current,d=s.current;if(d!==e){const m=o.current,p=el(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ge(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const v=el(r.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},m=p=>{p.target===t&&(o.current=el(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function el(e){return(e==null?void 0:e.animationName)||"none"}function uk(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ao({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=dk({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=De(n),c=h.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,c]}function dk({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),o=De(t);return h.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var fk="VisuallyHidden",np=h.forwardRef((e,t)=>l.jsx(Q.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));np.displayName=fk;var hk=np,[Uc,c3]=$r("Tooltip",[Bo]),rp=Bo(),Dx="TooltipProvider",pk=700,Cg="tooltip.open",[mk,Lx]=Uc(Dx),$x=e=>{const{__scopeTooltip:t,delayDuration:n=pk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=h.useState(!0),c=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(mk,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};$x.displayName=Dx;var Fx="Tooltip",[u3,zc]=Uc(Fx),wf="TooltipTrigger",gk=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=zc(wf,n),o=Lx(wf,n),i=rp(n),a=h.useRef(null),c=ce(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Zh,{asChild:!0,...i,children:l.jsx(Q.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:H(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:H(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:H(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:H(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:H(e.onBlur,s.onClose),onClick:H(e.onClick,s.onClose)})})});gk.displayName=wf;var vk="TooltipPortal",[d3,yk]=Uc(vk,{forceMount:void 0}),Oo="TooltipContent",Ux=h.forwardRef((e,t)=>{const n=yk(Oo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=zc(Oo,e.__scopeTooltip);return l.jsx(Et,{present:r||i.open,children:i.disableHoverableContent?l.jsx(zx,{side:s,...o,ref:t}):l.jsx(xk,{side:s,...o,ref:t})})}),xk=h.forwardRef((e,t)=>{const n=zc(Oo,e.__scopeTooltip),r=Lx(Oo,e.__scopeTooltip),s=h.useRef(null),o=ce(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,m=h.useCallback(()=>{a(null),f(!1)},[f]),p=h.useCallback((g,v)=>{const y=g.currentTarget,w={x:g.clientX,y:g.clientY},x=_k(w,y.getBoundingClientRect()),b=jk(w,x),S=Ck(v.getBoundingClientRect()),_=Nk([...b,...S]);a(_),f(!0)},[f]);return h.useEffect(()=>()=>m(),[m]),h.useEffect(()=>{if(c&&d){const g=y=>p(y,d),v=y=>p(y,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",v)}}},[c,d,p,m]),h.useEffect(()=>{if(i){const g=v=>{const y=v.target,w={x:v.clientX,y:v.clientY},x=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),b=!Ek(w,i);x?m():b&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,i,u,m]),l.jsx(zx,{...e,ref:o})}),[wk,bk]=Uc(Fx,{isInside:!1}),zx=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=zc(Oo,n),u=rp(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Cg,d),()=>document.removeEventListener(Cg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(ma,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(ep,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(hx,{children:r}),l.jsx(wk,{scope:n,isInside:!0,children:l.jsx(hk,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Ux.displayName=Oo;var Bx="TooltipArrow",Sk=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=rp(n);return bk(Bx,n).isInside?null:l.jsx(tp,{...s,...r,ref:t})});Sk.displayName=Bx;function _k(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function jk(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Ck(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Ek(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function Nk(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),kk(t)}function kk(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Pk=$x,Wx=Ux;function Hx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Hx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Hx(e))&&(r&&(r+=" "),r+=t);return r}const sp="-",Rk=e=>{const t=Ak(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(sp);return a[0]===""&&a.length!==1&&a.shift(),qx(a,t)||Tk(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},qx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?qx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(sp);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Eg=/^\[(.+)\]$/,Tk=e=>{if(Eg.test(e)){const t=Eg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Ak=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Mk(Object.entries(e.classGroups),n).forEach(([o,i])=>{bf(i,r,o,t)}),r},bf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ng(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Ok(s)){bf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{bf(i,Ng(t,o),n,r)})})},Ng=(e,t)=>{let n=e;return t.split(sp).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Ok=e=>e.isThemeGetter,Mk=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,Ik=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Gx="!",Dk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let y=0;y<a.length;y++){let w=a[y];if(u===0){if(w===s&&(r||a.slice(y,y+o)===t)){c.push(a.slice(d,y)),d=y+o;continue}if(w==="/"){f=y;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(d),p=m.startsWith(Gx),g=p?m.substring(1):m,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},Lk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},$k=e=>({cache:Ik(e.cacheSize),parseClassName:Dk(e),...Rk(e)}),Fk=/\s+/,Uk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Fk);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let g=!!p,v=r(g?m.substring(0,p):m);if(!v){if(!g){a=u+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=u+(a.length>0?" "+a:a);continue}g=!1}const y=Lk(d).join(":"),w=f?y+Gx:y,x=w+v;if(o.includes(x))continue;o.push(x);const b=s(v,g);for(let S=0;S<b.length;++S){const _=b[S];o.push(w+_)}a=u+(a.length>0?" "+a:a)}return a};function zk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Kx(t))&&(r&&(r+=" "),r+=n);return r}const Kx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Kx(e[r]))&&(n&&(n+=" "),n+=t);return n};function Bk(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=$k(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=Uk(c,n);return s(c,d),d}return function(){return o(zk.apply(null,arguments))}}const _e=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wk=/^\d+\/\d+$/,Hk=new Set(["px","full","screen"]),Vk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,On=e=>lo(e)||Hk.has(e)||Wk.test(e),tr=e=>Wo(e,"length",r2),lo=e=>!!e&&!Number.isNaN(Number(e)),Xu=e=>Wo(e,"number",lo),ci=e=>!!e&&Number.isInteger(Number(e)),Yk=e=>e.endsWith("%")&&lo(e.slice(0,-1)),re=e=>Jx.test(e),nr=e=>Vk.test(e),Qk=new Set(["length","size","percentage"]),Xk=e=>Wo(e,Qk,Yx),Zk=e=>Wo(e,"position",Yx),e2=new Set(["image","url"]),t2=e=>Wo(e,e2,o2),n2=e=>Wo(e,"",s2),ui=()=>!0,Wo=(e,t,n)=>{const r=Jx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},r2=e=>qk.test(e)&&!Gk.test(e),Yx=()=>!1,s2=e=>Kk.test(e),o2=e=>Jk.test(e),i2=()=>{const e=_e("colors"),t=_e("spacing"),n=_e("blur"),r=_e("brightness"),s=_e("borderColor"),o=_e("borderRadius"),i=_e("borderSpacing"),a=_e("borderWidth"),c=_e("contrast"),u=_e("grayscale"),d=_e("hueRotate"),f=_e("invert"),m=_e("gap"),p=_e("gradientColorStops"),g=_e("gradientColorStopPositions"),v=_e("inset"),y=_e("margin"),w=_e("opacity"),x=_e("padding"),b=_e("saturate"),S=_e("scale"),_=_e("sepia"),j=_e("skew"),N=_e("space"),k=_e("translate"),E=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",re,t],M=()=>[re,t],O=()=>["",On,tr],L=()=>["auto",lo,re],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",re],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[lo,re];return{cacheSize:500,separator:":",theme:{colors:[ui],spacing:[On,tr],blur:["none","",nr,re],brightness:Y(),borderColor:[e],borderRadius:["none","","full",nr,re],borderSpacing:M(),borderWidth:O(),contrast:Y(),grayscale:P(),hueRotate:Y(),invert:P(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[Yk,tr],inset:A(),margin:A(),opacity:Y(),padding:M(),saturate:Y(),scale:Y(),sepia:P(),skew:Y(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",re]}],container:["container"],columns:[{columns:[nr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),re]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ci,re]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",re]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",ci,re]}],"grid-cols":[{"grid-cols":[ui]}],"col-start-end":[{col:["auto",{span:["full",ci,re]},re]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[ui]}],"row-start-end":[{row:["auto",{span:[ci,re]},re]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",re]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",re,t]}],"min-w":[{"min-w":[re,t,"min","max","fit"]}],"max-w":[{"max-w":[re,t,"none","full","min","max","fit","prose",{screen:[nr]},nr]}],h:[{h:[re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nr,tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xu]}],"font-family":[{font:[ui]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",re]}],"line-clamp":[{"line-clamp":["none",lo,Xu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",On,re]}],"list-image":[{"list-image":["none",re]}],"list-style-type":[{list:["none","disc","decimal",re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",On,tr]}],"underline-offset":[{"underline-offset":["auto",On,re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),Zk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t2]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[On,re]}],"outline-w":[{outline:[On,tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[On,tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nr,n2]}],"shadow-color":[{shadow:[ui]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",nr,re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",re]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",re]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ci,re]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[On,tr,Xu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},a2=Bk(i2);function se(...e){return a2(Vx(e))}const l2=Pk,c2=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(Wx,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));c2.displayName=Wx.displayName;var Bc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wc=typeof window>"u"||"Deno"in globalThis;function on(){}function u2(e,t){return typeof e=="function"?e(t):e}function d2(e){return typeof e=="number"&&e>=0&&e!==1/0}function f2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kg(e,t){return typeof e=="function"?e(t):e}function h2(e,t){return typeof e=="function"?e(t):e}function Pg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==op(i,t.options))return!1}else if(!ea(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Rg(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Zi(t.options.mutationKey)!==Zi(o))return!1}else if(!ea(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function op(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zi)(e)}function Zi(e){return JSON.stringify(e,(t,n)=>Sf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ea(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ea(e[n],t[n])):!1}function Qx(e,t){if(e===t)return e;const n=Tg(e)&&Tg(t);if(n||Sf(e)&&Sf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=Qx(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Tg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sf(e){if(!Ag(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ag(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ag(e){return Object.prototype.toString.call(e)==="[object Object]"}function p2(e){return new Promise(t=>{setTimeout(t,e)})}function m2(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Qx(e,t):t}function g2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function v2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ip=Symbol();function Xx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ip?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var as,fr,mo,Wv,y2=(Wv=class extends Bc{constructor(){super();ge(this,as);ge(this,fr);ge(this,mo);ie(this,mo,t=>{if(!Wc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){I(this,fr)||this.setEventListener(I(this,mo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,fr))==null||t.call(this),ie(this,fr,void 0))}setEventListener(t){var n;ie(this,mo,t),(n=I(this,fr))==null||n.call(this),ie(this,fr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){I(this,as)!==t&&(ie(this,as,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof I(this,as)=="boolean"?I(this,as):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},as=new WeakMap,fr=new WeakMap,mo=new WeakMap,Wv),Zx=new y2,go,hr,vo,Hv,x2=(Hv=class extends Bc{constructor(){super();ge(this,go,!0);ge(this,hr);ge(this,vo);ie(this,vo,t=>{if(!Wc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){I(this,hr)||this.setEventListener(I(this,vo))}onUnsubscribe(){var t;this.hasListeners()||((t=I(this,hr))==null||t.call(this),ie(this,hr,void 0))}setEventListener(t){var n;ie(this,vo,t),(n=I(this,hr))==null||n.call(this),ie(this,hr,t(this.setOnline.bind(this)))}setOnline(t){I(this,go)!==t&&(ie(this,go,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return I(this,go)}},go=new WeakMap,hr=new WeakMap,vo=new WeakMap,Hv),oc=new x2;function w2(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function b2(e){return Math.min(1e3*2**e,3e4)}function ew(e){return(e??"online")==="online"?oc.isOnline():!0}var tw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zu(e){return e instanceof tw}function nw(e){let t=!1,n=0,r=!1,s;const o=w2(),i=v=>{var y;r||(m(new tw(v)),(y=e.abort)==null||y.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Zx.isFocused()&&(e.networkMode==="always"||oc.isOnline())&&e.canRun(),d=()=>ew(e.networkMode)&&e.canRun(),f=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),s==null||s(),o.resolve(v))},m=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),s==null||s(),o.reject(v))},p=()=>new Promise(v=>{var y;s=w=>{(r||u())&&v(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;s=void 0,r||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(f).catch(w=>{var j;if(r)return;const x=e.retry??(Wc?0:3),b=e.retryDelay??b2,S=typeof b=="function"?b(n,w):b,_=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(t||!_){m(w);return}n++,(j=e.onFail)==null||j.call(e,n,w),p2(S).then(()=>u()?void 0:p()).then(()=>{t?m(w):g()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),o)}}function S2(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var dt=S2(),ls,Vv,rw=(Vv=class{constructor(){ge(this,ls)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),d2(this.gcTime)&&ie(this,ls,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wc?1/0:5*60*1e3))}clearGcTimeout(){I(this,ls)&&(clearTimeout(I(this,ls)),ie(this,ls,void 0))}},ls=new WeakMap,Vv),yo,xo,zt,nt,la,cs,an,Mn,qv,_2=(qv=class extends rw{constructor(t){super();ge(this,an);ge(this,yo);ge(this,xo);ge(this,zt);ge(this,nt);ge(this,la);ge(this,cs);ie(this,cs,!1),ie(this,la,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,zt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,yo,C2(this.options)),this.state=t.state??I(this,yo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=I(this,nt))==null?void 0:t.promise}setOptions(t){this.options={...I(this,la),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&I(this,zt).remove(this)}setData(t,n){const r=m2(this.state.data,t,this.options);return Ze(this,an,Mn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Ze(this,an,Mn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=I(this,nt))==null?void 0:r.promise;return(s=I(this,nt))==null||s.cancel(t),n?n.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(I(this,yo))}isActive(){return this.observers.some(t=>h2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ip||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!f2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,nt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=I(this,nt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),I(this,zt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(I(this,nt)&&(I(this,cs)?I(this,nt).cancel({revert:!0}):I(this,nt).cancelRetry()),this.scheduleGc()),I(this,zt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ze(this,an,Mn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(I(this,nt))return I(this,nt).continueRetry(),I(this,nt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ie(this,cs,!0),r.signal)})},o=()=>{const f=Xx(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return s(m),ie(this,cs,!1),this.options.persister?this.options.persister(f,m,this):f(m)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),ie(this,xo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Ze(this,an,Mn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var m,p,g,v;Zu(f)&&f.silent||Ze(this,an,Mn).call(this,{type:"error",error:f}),Zu(f)||((p=(m=I(this,zt).config).onError)==null||p.call(m,f,this),(v=(g=I(this,zt).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return ie(this,nt,nw({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var m,p,g,v;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){a(y);return}(p=(m=I(this,zt).config).onSuccess)==null||p.call(m,f,this),(v=(g=I(this,zt).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,m)=>{Ze(this,an,Mn).call(this,{type:"failed",failureCount:f,error:m})},onPause:()=>{Ze(this,an,Mn).call(this,{type:"pause"})},onContinue:()=>{Ze(this,an,Mn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),I(this,nt).start()}},yo=new WeakMap,xo=new WeakMap,zt=new WeakMap,nt=new WeakMap,la=new WeakMap,cs=new WeakMap,an=new WeakSet,Mn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j2(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Zu(s)&&s.revert&&I(this,xo)?{...I(this,xo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),I(this,zt).notify({query:this,type:"updated",action:t})})},qv);function j2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ew(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function C2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bn,Gv,E2=(Gv=class extends Bc{constructor(t={}){super();ge(this,bn);this.config=t,ie(this,bn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??op(s,n);let i=this.get(o);return i||(i=new _2({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){I(this,bn).has(t.queryHash)||(I(this,bn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=I(this,bn).get(t.queryHash);n&&(t.destroy(),n===t&&I(this,bn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return I(this,bn).get(t)}getAll(){return[...I(this,bn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Pg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Pg(t,r)):n}notify(t){dt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bn=new WeakMap,Gv),Sn,lt,us,_n,rr,Kv,N2=(Kv=class extends rw{constructor(t){super();ge(this,_n);ge(this,Sn);ge(this,lt);ge(this,us);this.mutationId=t.mutationId,ie(this,lt,t.mutationCache),ie(this,Sn,[]),this.state=t.state||k2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){I(this,Sn).includes(t)||(I(this,Sn).push(t),this.clearGcTimeout(),I(this,lt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Sn,I(this,Sn).filter(n=>n!==t)),this.scheduleGc(),I(this,lt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){I(this,Sn).length||(this.state.status==="pending"?this.scheduleGc():I(this,lt).remove(this))}continue(){var t;return((t=I(this,us))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,u,d,f,m,p,g,v,y,w,x,b,S,_,j,N;ie(this,us,nw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,E)=>{Ze(this,_n,rr).call(this,{type:"failed",failureCount:k,error:E})},onPause:()=>{Ze(this,_n,rr).call(this,{type:"pause"})},onContinue:()=>{Ze(this,_n,rr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>I(this,lt).canRun(this)}));const n=this.state.status==="pending",r=!I(this,us).canStart();try{if(!n){Ze(this,_n,rr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=I(this,lt).config).onMutate)==null?void 0:o.call(s,t,this));const E=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));E!==this.state.context&&Ze(this,_n,rr).call(this,{type:"pending",context:E,variables:t,isPaused:r})}const k=await I(this,us).start();return await((u=(c=I(this,lt).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context)),await((p=(m=I(this,lt).config).onSettled)==null?void 0:p.call(m,k,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,k,null,t,this.state.context)),Ze(this,_n,rr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((w=(y=I(this,lt).config).onError)==null?void 0:w.call(y,k,t,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,k,t,this.state.context)),await((_=(S=I(this,lt).config).onSettled)==null?void 0:_.call(S,void 0,k,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,k,t,this.state.context)),k}finally{Ze(this,_n,rr).call(this,{type:"error",error:k})}}finally{I(this,lt).runNext(this)}}},Sn=new WeakMap,lt=new WeakMap,us=new WeakMap,_n=new WeakSet,rr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{I(this,Sn).forEach(r=>{r.onMutationUpdate(t)}),I(this,lt).notify({mutation:this,type:"updated",action:t})})},Kv);function k2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nt,ca,Jv,P2=(Jv=class extends Bc{constructor(t={}){super();ge(this,Nt);ge(this,ca);this.config=t,ie(this,Nt,new Map),ie(this,ca,Date.now())}build(t,n,r){const s=new N2({mutationCache:this,mutationId:++Ma(this,ca)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=tl(t),r=I(this,Nt).get(n)??[];r.push(t),I(this,Nt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=tl(t);if(I(this,Nt).has(n)){const s=(r=I(this,Nt).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?I(this,Nt).delete(n):I(this,Nt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=I(this,Nt).get(tl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=I(this,Nt).get(tl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){dt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...I(this,Nt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Rg(n,r))}findAll(t={}){return this.getAll().filter(n=>Rg(t,n))}notify(t){dt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(t.map(n=>n.continue().catch(on))))}},Nt=new WeakMap,ca=new WeakMap,Jv);function tl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Og(e){return{onFetch:(t,n)=>{var d,f,m,p,g;const r=t.options,s=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((p=t.state.data)==null?void 0:p.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},w=Xx(t.options,t.fetchOptions),x=async(b,S,_)=>{if(v)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};y(j);const N=await w(j),{maxPages:k}=t.options,E=_?v2:g2;return{pages:E(b.pages,N,k),pageParams:E(b.pageParams,S,k)}};if(s&&o.length){const b=s==="backward",S=b?R2:Mg,_={pages:o,pageParams:i},j=S(r,_);a=await x(_,j,b)}else{const b=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:Mg(r,a);if(c>0&&S==null)break;a=await x(a,S),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Mg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function R2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Te,pr,mr,wo,bo,gr,So,_o,Yv,T2=(Yv=class{constructor(e={}){ge(this,Te);ge(this,pr);ge(this,mr);ge(this,wo);ge(this,bo);ge(this,gr);ge(this,So);ge(this,_o);ie(this,Te,e.queryCache||new E2),ie(this,pr,e.mutationCache||new P2),ie(this,mr,e.defaultOptions||{}),ie(this,wo,new Map),ie(this,bo,new Map),ie(this,gr,0)}mount(){Ma(this,gr)._++,I(this,gr)===1&&(ie(this,So,Zx.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Te).onFocus())})),ie(this,_o,oc.subscribe(async e=>{e&&(await this.resumePausedMutations(),I(this,Te).onOnline())})))}unmount(){var e,t;Ma(this,gr)._--,I(this,gr)===0&&((e=I(this,So))==null||e.call(this),ie(this,So,void 0),(t=I(this,_o))==null||t.call(this),ie(this,_o,void 0))}isFetching(e){return I(this,Te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return I(this,pr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Te).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=I(this,Te).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(kg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return I(this,Te).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=I(this,Te).get(r.queryHash),o=s==null?void 0:s.state.data,i=u2(t,o);if(i!==void 0)return I(this,Te).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return dt.batch(()=>I(this,Te).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=I(this,Te).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=I(this,Te);dt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=I(this,Te),r={type:"active",...e};return dt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=dt.batch(()=>I(this,Te).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(on).catch(on)}invalidateQueries(e={},t={}){return dt.batch(()=>{if(I(this,Te).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=dt.batch(()=>I(this,Te).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(on)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(on)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=I(this,Te).build(this,t);return n.isStaleByTime(kg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(on).catch(on)}fetchInfiniteQuery(e){return e.behavior=Og(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(on).catch(on)}ensureInfiniteQueryData(e){return e.behavior=Og(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return oc.isOnline()?I(this,pr).resumePausedMutations():Promise.resolve()}getQueryCache(){return I(this,Te)}getMutationCache(){return I(this,pr)}getDefaultOptions(){return I(this,mr)}setDefaultOptions(e){ie(this,mr,e)}setQueryDefaults(e,t){I(this,wo).set(Zi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...I(this,wo).values()];let n={};return t.forEach(r=>{ea(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){I(this,bo).set(Zi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...I(this,bo).values()];let n={};return t.forEach(r=>{ea(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...I(this,mr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=op(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ip&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...I(this,mr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){I(this,Te).clear(),I(this,pr).clear()}},Te=new WeakMap,pr=new WeakMap,mr=new WeakMap,wo=new WeakMap,bo=new WeakMap,gr=new WeakMap,So=new WeakMap,_o=new WeakMap,Yv),A2=h.createContext(void 0),O2=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(A2.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta.apply(this,arguments)}var xr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xr||(xr={}));const Ig="popstate";function M2(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return _f("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ow(s)}return D2(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function sw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I2(){return Math.random().toString(36).substr(2,8)}function Dg(e,t){return{usr:e.state,key:e.key,idx:t}}function _f(e,t,n,r){return n===void 0&&(n=null),ta({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ho(t):t,{state:n,key:t&&t.key||r||I2()})}function ow(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function D2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=xr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ta({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=xr.Pop;let y=d(),w=y==null?null:y-u;u=y,c&&c({action:a,location:v.location,delta:w})}function m(y,w){a=xr.Push;let x=_f(v.location,y,w);u=d()+1;let b=Dg(x,u),S=v.createHref(x);try{i.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:a,location:v.location,delta:1})}function p(y,w){a=xr.Replace;let x=_f(v.location,y,w);u=d();let b=Dg(x,u),S=v.createHref(x);i.replaceState(b,"",S),o&&c&&c({action:a,location:v.location,delta:0})}function g(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof y=="string"?y:ow(y);return x=x.replace(/ $/,"%20"),$e(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let v={get action(){return a},get location(){return e(s,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ig,f),c=y,()=>{s.removeEventListener(Ig,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return i.go(y)}};return v}var Lg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lg||(Lg={}));function L2(e,t,n){return n===void 0&&(n="/"),$2(e,t,n,!1)}function $2(e,t,n,r){let s=typeof t=="string"?Ho(t):t,o=lw(s.pathname||"/",n);if(o==null)return null;let i=iw(e);F2(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=Y2(o);a=K2(i[c],u,r)}return a}function iw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&($e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=hs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&($e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iw(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:q2(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of aw(o.path))s(o,i,c)}),t}function aw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=aw(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function F2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U2=/^:[\w-]+$/,z2=3,B2=2,W2=1,H2=10,V2=-2,$g=e=>e==="*";function q2(e,t){let n=e.split("/"),r=n.length;return n.some($g)&&(r+=V2),t&&(r+=B2),n.filter(s=>!$g(s)).reduce((s,o)=>s+(U2.test(o)?z2:o===""?W2:H2),r)}function G2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function K2(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Fg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:hs([o,f.pathname]),pathnameBase:eP(hs([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=hs([o,f.pathnameBase]))}return i}function Fg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=J2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return p&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function J2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),sw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Y2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Q2(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Ho(e):e;return{pathname:n?n.startsWith("/")?n:X2(n,t):t,search:tP(r),hash:nP(s)}}function X2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ed(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cw(e,t){let n=Z2(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uw(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Ho(e):(s=ta({},e),$e(!s.pathname||!s.pathname.includes("?"),ed("?","pathname","search",s)),$e(!s.pathname||!s.pathname.includes("#"),ed("#","pathname","hash",s)),$e(!s.search||!s.search.includes("#"),ed("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let c=Q2(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const hs=e=>e.join("/").replace(/\/\/+/g,"/"),eP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dw=["post","put","patch","delete"];new Set(dw);const sP=["get",...dw];new Set(sP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},na.apply(this,arguments)}const ap=h.createContext(null),oP=h.createContext(null),va=h.createContext(null),Hc=h.createContext(null),Fr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),fw=h.createContext(null);function ya(){return h.useContext(Hc)!=null}function Vc(){return ya()||$e(!1),h.useContext(Hc).location}function hw(e){h.useContext(va).static||h.useLayoutEffect(e)}function qc(){let{isDataRoute:e}=h.useContext(Fr);return e?xP():iP()}function iP(){ya()||$e(!1);let e=h.useContext(ap),{basename:t,future:n,navigator:r}=h.useContext(va),{matches:s}=h.useContext(Fr),{pathname:o}=Vc(),i=JSON.stringify(cw(s,n.v7_relativeSplatPath)),a=h.useRef(!1);return hw(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=uw(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:hs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function aP(){let{matches:e}=h.useContext(Fr),t=e[e.length-1];return t?t.params:{}}function lP(e,t){return cP(e,t)}function cP(e,t,n,r){ya()||$e(!1);let{navigator:s}=h.useContext(va),{matches:o}=h.useContext(Fr),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Vc(),d;if(t){var f;let y=typeof t=="string"?Ho(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||$e(!1),d=y}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=L2(e,{pathname:p}),v=pP(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:hs([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:hs([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return t&&v?h.createElement(Hc.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xr.Pop}},v):v}function uP(){let e=yP(),t=rP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const dP=h.createElement(uP,null);class fP extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Fr.Provider,{value:this.props.routeContext},h.createElement(fw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hP(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(ap);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Fr.Provider,{value:t},r)}function pP(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||$e(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=n,g=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,g=!1,v=null,y=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||dP,c&&(u<0&&m===0?(g=!0,y=null):u===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,m+1)),x=()=>{let b;return p?b=v:g?b=y:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(hP,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(fP,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var pw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pw||{}),ic=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ic||{});function mP(e){let t=h.useContext(ap);return t||$e(!1),t}function gP(e){let t=h.useContext(oP);return t||$e(!1),t}function vP(e){let t=h.useContext(Fr);return t||$e(!1),t}function mw(e){let t=vP(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function yP(){var e;let t=h.useContext(fw),n=gP(ic.UseRouteError),r=mw(ic.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xP(){let{router:e}=mP(pw.UseNavigateStable),t=mw(ic.UseNavigateStable),n=h.useRef(!1);return hw(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,na({fromRouteId:t},o)))},[e,t])}function gw(e){let{to:t,replace:n,state:r,relative:s}=e;ya()||$e(!1);let{future:o,static:i}=h.useContext(va),{matches:a}=h.useContext(Fr),{pathname:c}=Vc(),u=qc(),d=uw(t,cw(a,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function es(e){$e(!1)}function wP(e){let{basename:t="/",children:n=null,location:r,navigationType:s=xr.Pop,navigator:o,static:i=!1,future:a}=e;ya()&&$e(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:na({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Ho(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:g="default"}=r,v=h.useMemo(()=>{let y=lw(d,c);return y==null?null:{location:{pathname:y,search:f,hash:m,state:p,key:g},navigationType:s}},[c,d,f,m,p,g,s]);return v==null?null:h.createElement(va.Provider,{value:u},h.createElement(Hc.Provider,{children:n,value:v}))}function bP(e){let{children:t,location:n}=e;return lP(jf(t),n)}new Promise(()=>{});function jf(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,jf(r.props.children,o));return}r.type!==es&&$e(!1),!r.props.index||!r.props.children||$e(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=jf(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SP="6";try{window.__reactRouterVersion=SP}catch{}const _P="startTransition",Ug=l0[_P];function jP(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=M2({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Ug?Ug(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.createElement(wP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var zg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zg||(zg={}));var Bg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bg||(Bg={}));const CP="modulepreload",EP=function(e){return"/"+e},Wg={},xa=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=EP(c),c in Wg)return;Wg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":CP,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},NP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xa(async()=>{const{default:r}=await Promise.resolve().then(()=>Vo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class lp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class kP extends lp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class PP extends lp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class RP extends lp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cf||(Cf={}));var TP=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class AP{constructor(t,{headers:n={},customFetch:r,region:s=Cf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=NP(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return TP(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(g=>{throw new kP(g)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new PP(d);if(!d.ok)throw new RP(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var xt={},cp={},Gc={},wa={},Kc={},Jc={},OP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=OP();const MP=Mo.fetch,vw=Mo.fetch.bind(Mo),yw=Mo.Headers,IP=Mo.Request,DP=Mo.Response,Vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:yw,Request:IP,Response:DP,default:vw,fetch:MP},Symbol.toStringTag,{value:"Module"})),LP=A_(Vo);var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});let $P=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Yc.default=$P;var xw=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jc,"__esModule",{value:!0});const FP=xw(LP),UP=xw(Yc);let zP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=FP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,d=null,f=null,m=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),y=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,p="OK")}catch{o.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new UP.default(u)}return{error:u,data:d,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Jc.default=zP;var BP=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kc,"__esModule",{value:!0});const WP=BP(Jc);let HP=class extends WP.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Kc.default=HP;var VP=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});const qP=VP(Kc);let GP=class extends qP.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};wa.default=GP;var KP=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0});const di=KP(wa);let JP=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new di.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Gc.default=JP;var Qc={},Xc={};Object.defineProperty(Xc,"__esModule",{value:!0});Xc.version=void 0;Xc.version="0.0.0-automated";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.DEFAULT_HEADERS=void 0;const YP=Xc;Qc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YP.version}`};var ww=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cp,"__esModule",{value:!0});const QP=ww(Gc),XP=ww(wa),ZP=Qc;let eR=class bw{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},ZP.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new QP.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new XP.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};cp.default=eR;var qo=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const Sw=qo(cp);xt.PostgrestClient=Sw.default;const _w=qo(Gc);xt.PostgrestQueryBuilder=_w.default;const jw=qo(wa);xt.PostgrestFilterBuilder=jw.default;const Cw=qo(Kc);xt.PostgrestTransformBuilder=Cw.default;const Ew=qo(Jc);xt.PostgrestBuilder=Ew.default;const Nw=qo(Yc);xt.PostgrestError=Nw.default;var tR=xt.default={PostgrestClient:Sw.default,PostgrestQueryBuilder:_w.default,PostgrestFilterBuilder:jw.default,PostgrestTransformBuilder:Cw.default,PostgrestBuilder:Ew.default,PostgrestError:Nw.default};const{PostgrestClient:nR,PostgrestQueryBuilder:v3,PostgrestFilterBuilder:y3,PostgrestTransformBuilder:x3,PostgrestBuilder:w3,PostgrestError:b3}=tR;let Ef;typeof window>"u"?Ef=require("ws"):Ef=window.WebSocket;const rR=Ef,sR="2.11.10",oR={"X-Client-Info":`realtime-js/${sR}`},iR="1.0.0",kw=1e4,aR=1e3;var co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(co||(co={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cn||(cn={}));var Nf;(function(e){e.websocket="websocket"})(Nf||(Nf={}));var ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ns||(ns={}));class lR{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Pw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(be||(be={}));const Hg=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=cR(i,e,t,s),o),{})},cR=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Rw(o,i):kf(i)},Rw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hR(t,n)}switch(e){case be.bool:return uR(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return dR(t);case be.json:case be.jsonb:return fR(t);case be.timestamp:return pR(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return kf(t);default:return kf(t)}},kf=e=>e,uR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},fR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},hR=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Rw(t,a))}return e},pR=e=>typeof e=="string"?e.replace(" ","T"):e,Tw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class td{constructor(t,n,r={},s=kw){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vg||(Vg={}));class Ti{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ti.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ti.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const m=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),v=f.filter(y=>m.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(c[u]=v)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...m)}r(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qg||(qg={}));var Gg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gg||(Gg={}));var Ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class up{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new td(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Pw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ti(this),this.broadcastEndpointURL=Tw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Ln.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ln.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Ln.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,g=[];for(let v=0;v<p;v++){const y=m[v],{filter:{event:w,schema:x,table:b,filter:S}}=y,_=d&&d[v];if(_&&_.event===w&&_.schema===x&&_.table===b&&_.filter===S)g.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ln.SUBSCRIBED);return}}).receive("error",d=>{this.state=at.errored,t==null||t(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new td(this,cn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new td(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=cn;if(r&&[a,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var g,v,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(v=p.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var g,v,y,w,x,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const S=p.id,_=(g=p.filter)===null||g===void 0?void 0:g.event;return S&&((v=n.ids)===null||v===void 0?void 0:v.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(x=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:v,table:y,commit_timestamp:w,type:x,errors:b}=g;m=Object.assign(Object.assign({},{schema:v,table:y,commit_timestamp:w,eventType:x,new:{},old:{},errors:b}),this._getPayloadRecords(g))}p.callback(m,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&up.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cn.close,{},t)}_onError(t){this._on(cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Hg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Hg(t.columns,t.old_record)),n}}const Kg=()=>{},mR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gR{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=oR,this.params={},this.timeout=kw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kg,this.ref=0,this.logger=Kg,this.conn=null,this.sendBuffer=[],this.serializer=new lR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>xa(async()=>{const{default:c}=await Promise.resolve().then(()=>Vo);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Nf.websocket}`,this.httpEndpoint=Tw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=rR),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new vR(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iR}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case co.connecting:return ns.Connecting;case co.open:return ns.Open;case co.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new up(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(cn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(aR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mR],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class vR{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=co.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class dp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yR extends dp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pf extends dp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var xR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const Aw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xa(async()=>{const{default:r}=await Promise.resolve().then(()=>Vo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wR=()=>xR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xa(()=>Promise.resolve().then(()=>Vo),void 0)).Response:Response}),Rf=e=>{if(Array.isArray(e))return e.map(n=>Rf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Rf(r)}),t};var Ns=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const nd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bR=(e,t,n)=>Ns(void 0,void 0,void 0,function*(){const r=yield wR();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new yR(nd(s),e.status||500))}).catch(s=>{t(new Pf(nd(s),s))}):t(new Pf(nd(e),e))}),SR=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function ba(e,t,n,r,s,o){return Ns(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,SR(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>bR(c,a,r))})})}function ac(e,t,n,r){return Ns(this,void 0,void 0,function*(){return ba(e,"GET",t,n,r)})}function lr(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ba(e,"POST",t,r,s,n)})}function _R(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ba(e,"PUT",t,r,s,n)})}function jR(e,t,n,r){return Ns(this,void 0,void 0,function*(){return ba(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ow(e,t,n,r,s){return Ns(this,void 0,void 0,function*(){return ba(e,"DELETE",t,r,s,n)})}var gt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const CR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ER{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Aw(s)}uploadOrUpdate(t,n,r,s){return gt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Jg),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(Be(o))return{data:null,error:o};throw o}})}upload(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return gt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Jg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(Be(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield lr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new dp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}update(t,n,r){return gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return gt(this,void 0,void 0,function*(){try{return{data:{path:(yield lr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return gt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield lr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=yield lr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}download(t,n){return gt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ac(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Be(a))return{data:null,error:a};throw a}})}info(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ac(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rf(r),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}exists(t){return gt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Be(r)&&r instanceof Pf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return gt(this,void 0,void 0,function*(){try{return{data:yield Ow(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}list(t,n,r){return gt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},CR),n),{prefix:t||""});return{data:yield lr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Be(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const NR="2.7.1",kR={"X-Client-Info":`storage-js/${NR}`};var Is=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class PR{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},kR),n),this.fetch=Aw(r)}listBuckets(){return Is(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Be(t))return{data:null,error:t};throw t}})}getBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Is(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Is(this,void 0,void 0,function*(){try{return{data:yield _R(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Is(this,void 0,void 0,function*(){try{return{data:yield Ow(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}})}}class RR extends PR{constructor(t,n={},r){super(t,n,r)}from(t){return new ER(this.url,this.headers,t,this.fetch)}}const TR="2.50.0";let xi="";typeof Deno<"u"?xi="deno":typeof document<"u"?xi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xi="react-native":xi="node";const AR={"X-Client-Info":`supabase-js-${xi}/${TR}`},OR={headers:AR},MR={schema:"public"},IR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DR={};var LR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const $R=e=>{let t;return e?t=e:typeof fetch>"u"?t=vw:t=fetch,(...n)=>t(...n)},FR=()=>typeof Headers>"u"?yw:Headers,UR=(e,t,n)=>{const r=$R(n),s=FR();return(o,i)=>LR(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var zR=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function BR(e){return e.endsWith("/")?e:e+"/"}function WR(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>zR(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}const Mw="2.70.0",Bs=30*1e3,Tf=3,rd=Tf*Bs,HR="http://localhost:9999",VR="supabase.auth.token",qR={"X-Client-Info":`gotrue-js/${Mw}`},Af="X-Supabase-Api-Version",Iw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KR=6e5;class fp extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JR extends fp{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YR(e){return te(e)&&e.name==="AuthApiError"}class Dw extends fp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ur extends fp{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class sr extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QR(e){return te(e)&&e.name==="AuthSessionMissingError"}class nl extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends Ur{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sl extends Ur{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XR(e){return te(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yg extends Ur{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Of extends Ur{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function sd(e){return te(e)&&e.name==="AuthRetryableFetchError"}class Qg extends Ur{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ai extends Ur{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xg=` 	
\r=`.split(""),ZR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xg.length;t+=1)e[Xg[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function Zg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}}function Lw(e,t,n){const r=ZR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ev(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{nT(i,r,n)};for(let i=0;i<e.length;i+=1)Lw(e.charCodeAt(i),s,o);return t.join("")}function eT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tT(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eT(r,t)}}function nT(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rT(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function sT(e){const t=[];return tT(e,n=>t.push(n)),new Uint8Array(t)}function oT(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Zg(s,n,r)),Zg(null,n,r),t.join("")}function iT(e){return Math.round(Date.now()/1e3)+e}function aT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const nn=()=>typeof window<"u"&&typeof document<"u",Qr={tested:!1,writable:!1},Oi=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qr.tested)return Qr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qr.tested=!0,Qr.writable=!0}catch{Qr.tested=!0,Qr.writable=!1}return Qr.writable};function lT(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const $w=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xa(async()=>{const{default:r}=await Promise.resolve().then(()=>Vo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fw=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ol=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},il=async(e,t)=>{await e.removeItem(t)};class Zc{constructor(){this.promise=new Zc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Zc.promiseConstructor=Promise;function od(e){const t=e.split(".");if(t.length!==3)throw new Ai("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GR.test(t[r]))throw new Ai("JWT not in base64url format");return{header:JSON.parse(ev(t[0])),payload:JSON.parse(ev(t[1])),signature:rT(t[2]),raw:{header:t[0],payload:t[1]}}}async function uT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dT(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function fT(e){return("0"+e.toString(16)).substr(-2)}function hT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,fT).join("")}async function pT(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function mT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await pT(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ds(e,t,n=!1){const r=hT();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Fw(e,`${t}-code-verifier`,s);const o=await mT(r);return[o,r===o?"plain":"s256"]}const gT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vT(e){const t=e.headers.get(Af);if(!t||!t.match(gT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ls(e){if(!wT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var bT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ST=[502,503,504];async function tv(e){var t;if(!cT(e))throw new Of(ts(e),0);if(ST.includes(e.status))throw new Of(ts(e),e.status);let n;try{n=await e.json()}catch(o){throw new Dw(ts(o),o)}let r;const s=vT(e);if(s&&s.getTime()>=Iw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Qg(ts(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new sr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Qg(ts(n),e.status,n.weak_password.reasons);throw new JR(ts(n),e.status||500,r)}const _T=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function ae(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Af]||(o[Af]=Iw["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await jT(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function jT(e,t,n,r,s,o){const i=_T(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Of(ts(c),0)}if(a.ok||await tv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await tv(c)}}function In(e){var t;let n=null;kT(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iT(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function nv(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CT(e){return{data:e,error:null}}function ET(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=bT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function NT(e){return e}function kT(e){return e.access_token&&e.refresh_token&&e.expires_in}const id=["global","local","others"];var PT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class RT{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=$w(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=id[0]){if(id.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${id.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:dr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=PT(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ET,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:dr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:NT});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ls(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:dr})}catch(n){if(te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ls(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:dr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ls(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:dr})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ls(t.userId);try{const{data:n,error:r}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ls(t.userId),Ls(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}}const TT={getItem:e=>Oi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oi()&&globalThis.localStorage.removeItem(e)}};function rv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function AT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $s={debug:!!(globalThis&&Oi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OT extends Uw{}async function MT(e,t,n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($s.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}AT();const IT={url:HR,storageKey:VR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sv(e,t,n){return await n()}class ra{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ra.nextInstanceID,ra.nextInstanceID+=1,this.instanceID>0&&nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},IT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new RT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$w(s.fetch),this.lock=s.lock||sv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=MT:this.lock=sv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Oi()?this.storage=TT:(this.memoryStorage={},this.storage=rv(this.memoryStorage)):(this.memoryStorage={},this.storage=rv(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lT(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XR(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return te(n)?{error:n}:{error:new Dw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ds(this.storage,this.storageKey)),o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},xform:In})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:In})}else throw new rl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(te(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nv})}else throw new rl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new nl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,c,u,d,f,m,p;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:x,options:b}=t;let S;if(nn())if(typeof w=="object")S=w;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),x?{statement:x}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:y,error:w}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:oT(v)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:In});if(w)throw w;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new nl}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:w})}catch(y){if(te(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await ol(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:In});if(await il(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new nl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(te(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:In}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ds(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new rl("You must provide either an email or phone number.")}catch(a){if(te(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:In});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(te(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ds(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:CT})}catch(o){if(te(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new sr;const{error:s}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(te(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await ae(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new rl("You must provide either an email or phone number and a type")}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ol(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<rd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:dr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:dr})})}catch(n){if(te(n))return QR(n)&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new sr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Ds(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:dr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new sr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=od(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(te(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new sr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(te(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!nn())throw new sl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yg("No code detected.");const{data:x,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new sl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=m-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:v,error:y}=await this._getUser(o);if(y)throw y;const w={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(te(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ol(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(YR(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aT(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ds(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(te(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(te(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:m}=o;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(te(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dT(async s=>(s>0&&await uT(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,o)=>{const i=200*Math.pow(2,s);return o&&sd(o)&&Date.now()+i-r<Bs})}catch(r){if(this._debug(n,"error",r),te(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await ol(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<rd;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${rd}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),sd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Zc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new sr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),te(o)){const i={session:null,error:o};return sd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Fw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await il(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bs}ms, refresh threshold is ${Tf} ticks`),s<=Tf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ds(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(te(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(te(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=od(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+KR>Date.now()))return r;const{data:s,error:o}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ai("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Ai("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};r=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=od(r);if(yT(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=xT(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,sT(`${a}.${c}`)))throw new Ai("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}}ra.nextInstanceID=0;const DT=ra;class LT extends DT{constructor(t){super(t)}}var $T=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class FT{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=BR(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:MR,realtime:DR,auth:Object.assign(Object.assign({},IR),{storageKey:u}),global:OR},f=WR(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=UR(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new nR(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new AP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new RR(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return $T(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LT({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new gR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UT=(e,t,n)=>new FT(e,t,n),zT="https://hewajhfrdcjsklvluike.supabase.co",BT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhld2FqaGZyZGNqc2tsdmx1aWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NTE5MzQsImV4cCI6MjA2NDUyNzkzNH0.Z1a1rATGtDcD4tKOdL03M192V2OOzhR34a7-FbsWJFE",U=UT(zT,BT),zw=h.createContext(void 0),WT=({children:e})=>{const[t,n]=h.useState(null),[r,s]=h.useState(null),[o,i]=h.useState(!0);h.useEffect(()=>{(async()=>{const{data:{session:m}}=await U.auth.getSession();s(m),n((m==null?void 0:m.user)??null),i(!1)})();const{data:f}=U.auth.onAuthStateChange((m,p)=>{s(p),n((p==null?void 0:p.user)??null)});return()=>{f.subscription.unsubscribe()}},[]);const a=async(d,f,m)=>{const{error:p}=await U.auth.signUp({email:d,password:f,options:{data:{username:m}}});return{error:p}},c=async(d,f)=>{const{error:m}=await U.auth.signInWithPassword({email:d,password:f});return{error:m}},u=async()=>{await U.auth.signOut(),n(null),s(null)};return l.jsx(zw.Provider,{value:{user:t,session:r,loading:o,signUp:a,signIn:c,signOut:u},children:e})},it=()=>{const e=h.useContext(zw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Bw=h.createContext(void 0);function HT({children:e,defaultTheme:t="system",storageKey:n="studysphere-ui-theme"}){const[r,s]=h.useState(()=>localStorage.getItem(n)||t),[o,i]=h.useState("light");h.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark");let u="light";r==="system"?u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":u=r,c.classList.add(u),i(u)},[r]);const a={theme:r,setTheme:c=>{localStorage.setItem(n,c),s(c)},actualTheme:o};return l.jsx(Bw.Provider,{value:a,children:e})}const VT=()=>{const e=h.useContext(Bw);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ww=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...GT,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ww("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(KT,{ref:o,iconNode:t,className:Ww(`lucide-${qT(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=X("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=X("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=X("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=X("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=X("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=X("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=X("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=X("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=X("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=X("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=X("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=X("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=X("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=X("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=X("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uv=Vx,vp=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return uv(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const m=cv(d)||cv(f);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(g=>{let[v,y]=g;return Array.isArray(y)?y.includes({...o,...a}[v]):{...o,...a}[v]===y})?[...u,f,m]:u},[]);return uv(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},pA=vp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Rr:"button";return l.jsx(i,{className:se(pA({variant:t,size:n,className:e})),ref:o,...s})});K.displayName="Button";var ad="focusScope.autoFocusOnMount",ld="focusScope.autoFocusOnUnmount",dv={bubbles:!1,cancelable:!0},mA="FocusScope",nu=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=De(s),d=De(o),f=h.useRef(null),m=ce(t,v=>c(v)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let v=function(b){if(p.paused||!a)return;const S=b.target;a.contains(S)?f.current=S:or(f.current,{select:!0})},y=function(b){if(p.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||or(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&or(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const x=new MutationObserver(w);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,p.paused]),h.useEffect(()=>{if(a){hv.add(p);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(ad,dv);a.addEventListener(ad,u),a.dispatchEvent(w),w.defaultPrevented||(gA(bA(Yw(a)),{select:!0}),document.activeElement===v&&or(a))}return()=>{a.removeEventListener(ad,u),setTimeout(()=>{const w=new CustomEvent(ld,dv);a.addEventListener(ld,d),a.dispatchEvent(w),w.defaultPrevented||or(v??document.body,{select:!0}),a.removeEventListener(ld,d),hv.remove(p)},0)}}},[a,u,d,p]);const g=h.useCallback(v=>{if(!n&&!r||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(y&&w){const x=v.currentTarget,[b,S]=vA(x);b&&S?!v.shiftKey&&w===S?(v.preventDefault(),n&&or(b,{select:!0})):v.shiftKey&&w===b&&(v.preventDefault(),n&&or(S,{select:!0})):w===x&&v.preventDefault()}},[n,r,p.paused]);return l.jsx(Q.div,{tabIndex:-1,...i,ref:m,onKeyDown:g})});nu.displayName=mA;function gA(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(or(r,{select:t}),document.activeElement!==n)return}function vA(e){const t=Yw(e),n=fv(t,e),r=fv(t.reverse(),e);return[n,r]}function Yw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function fv(e,t){for(const n of e)if(!yA(n,{upTo:t}))return n}function yA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xA(e){return e instanceof HTMLInputElement&&"select"in e}function or(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xA(e)&&t&&e.select()}}var hv=wA();function wA(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=pv(e,t),e.unshift(t)},remove(t){var n;e=pv(e,t),(n=e[0])==null||n.resume()}}}function pv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function bA(e){return e.filter(t=>t.tagName!=="A")}var cd=0;function yp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mv()),document.body.insertAdjacentElement("beforeend",e[1]??mv()),cd++,()=>{cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cd--}},[])}function mv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Cn=function(){return Cn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cn.apply(this,arguments)};function Qw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function SA(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Cl="right-scroll-bar-position",El="width-before-scroll-bar",_A="with-scroll-bars-hidden",jA="--removed-body-scroll-bar-size";function ud(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function CA(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var EA=typeof window<"u"?h.useLayoutEffect:h.useEffect,gv=new WeakMap;function NA(e,t){var n=CA(null,function(r){return e.forEach(function(s){return ud(s,r)})});return EA(function(){var r=gv.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||ud(a,null)}),o.forEach(function(a){s.has(a)||ud(a,i)})}gv.set(n,e)},[e]),n}function kA(e){return e}function PA(e,t){t===void 0&&(t=kA);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function RA(e){e===void 0&&(e={});var t=PA(null);return t.options=Cn({async:!0,ssr:!1},e),t}var Xw=function(e){var t=e.sideCar,n=Qw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Cn({},n))};Xw.isSideCarExport=!0;function TA(e,t){return e.useMedium(t),Xw}var Zw=RA(),dd=function(){},ru=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:dd,onWheelCapture:dd,onTouchMoveCapture:dd}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,p=e.noIsolation,g=e.inert,v=e.allowPinchZoom,y=e.as,w=y===void 0?"div":y,x=e.gapMode,b=Qw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,_=NA([n,t]),j=Cn(Cn({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:Zw,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:x}),i?h.cloneElement(h.Children.only(a),Cn(Cn({},j),{ref:_})):h.createElement(w,Cn({},j,{className:c,ref:_}),a))});ru.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ru.classNames={fullWidth:El,zeroRight:Cl};var AA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OA(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AA();return t&&e.setAttribute("nonce",t),e}function MA(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IA(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DA=function(){var e=0,t=null;return{add:function(n){e==0&&(t=OA())&&(MA(t,n),IA(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LA=function(){var e=DA();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eb=function(){var e=LA(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},$A={left:0,top:0,right:0,gap:0},fd=function(e){return parseInt(e||"",10)||0},FA=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fd(n),fd(r),fd(s)]},UA=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $A;var t=FA(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},zA=eb(),fo="data-scroll-locked",BA=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_A,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(fo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(El,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cl," .").concat(Cl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(El," .").concat(El,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fo,`] {
    `).concat(jA,": ").concat(a,`px;
  }
`)},vv=function(){var e=parseInt(document.body.getAttribute(fo)||"0",10);return isFinite(e)?e:0},WA=function(){h.useEffect(function(){return document.body.setAttribute(fo,(vv()+1).toString()),function(){var e=vv()-1;e<=0?document.body.removeAttribute(fo):document.body.setAttribute(fo,e.toString())}},[])},HA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;WA();var o=h.useMemo(function(){return UA(s)},[s]);return h.createElement(zA,{styles:BA(o,!t,s,n?"":"!important")})},Df=!1;if(typeof window<"u")try{var al=Object.defineProperty({},"passive",{get:function(){return Df=!0,!0}});window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Df=!1}var Fs=Df?{passive:!1}:!1,VA=function(e){return e.tagName==="TEXTAREA"},tb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!VA(e)&&n[t]==="visible")},qA=function(e){return tb(e,"overflowY")},GA=function(e){return tb(e,"overflowX")},yv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=nb(e,r);if(s){var o=rb(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},KA=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},JA=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},nb=function(e,t){return e==="v"?qA(t):GA(t)},rb=function(e,t){return e==="v"?KA(t):JA(t)},YA=function(e,t){return e==="h"&&t==="rtl"?-1:1},QA=function(e,t,n,r,s){var o=YA(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,d=i>0,f=0,m=0;do{var p=rb(e,a),g=p[0],v=p[1],y=p[2],w=v-y-o*g;(g||w)&&nb(e,a)&&(f+=w,m+=g),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},ll=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xv=function(e){return[e.deltaX,e.deltaY]},wv=function(e){return e&&"current"in e?e.current:e},XA=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ZA=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},eO=0,Us=[];function tO(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(eO++)[0],o=h.useState(eb)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=SA([e.lockRef.current],(e.shards||[]).map(wv),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var w=ll(v),x=n.current,b="deltaX"in v?v.deltaX:x[0]-w[0],S="deltaY"in v?v.deltaY:x[1]-w[1],_,j=v.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in v&&N==="h"&&j.type==="range")return!1;var k=yv(N,j);if(!k)return!0;if(k?_=N:(_=N==="v"?"h":"v",k=yv(N,j)),!k)return!1;if(!r.current&&"changedTouches"in v&&(b||S)&&(r.current=_),!_)return!0;var E=r.current||_;return QA(E,y,v,E==="h"?b:S,!0)},[]),c=h.useCallback(function(v){var y=v;if(!(!Us.length||Us[Us.length-1]!==o)){var w="deltaY"in y?xv(y):ll(y),x=t.current.filter(function(_){return _.name===y.type&&(_.target===y.target||y.target===_.shadowParent)&&XA(_.delta,w)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(i.current.shards||[]).map(wv).filter(Boolean).filter(function(_){return _.contains(y.target)}),S=b.length>0?a(y,b[0]):!i.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(v,y,w,x){var b={name:v,delta:y,target:w,should:x,shadowParent:nO(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=h.useCallback(function(v){n.current=ll(v),r.current=void 0},[]),f=h.useCallback(function(v){u(v.type,xv(v),v.target,a(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,ll(v),v.target,a(v,e.lockRef.current))},[]);h.useEffect(function(){return Us.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Fs),document.addEventListener("touchmove",c,Fs),document.addEventListener("touchstart",d,Fs),function(){Us=Us.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Fs),document.removeEventListener("touchmove",c,Fs),document.removeEventListener("touchstart",d,Fs)}},[]);var p=e.removeScrollBar,g=e.inert;return h.createElement(h.Fragment,null,g?h.createElement(o,{styles:ZA(s)}):null,p?h.createElement(HA,{gapMode:e.gapMode}):null)}function nO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rO=TA(Zw,tO);var su=h.forwardRef(function(e,t){return h.createElement(ru,Cn({},e,{ref:t,sideCar:rO}))});su.classNames=ru.classNames;var sO=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zs=new WeakMap,cl=new WeakMap,ul={},hd=0,sb=function(e){return e&&(e.host||sb(e.parentNode))},oO=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=sb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},iO=function(e,t,n,r){var s=oO(t,Array.isArray(e)?e:[e]);ul[n]||(ul[n]=new WeakMap);var o=ul[n],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",v=(zs.get(m)||0)+1,y=(o.get(m)||0)+1;zs.set(m,v),o.set(m,y),i.push(m),v===1&&g&&cl.set(m,!0),y===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),a.clear(),hd++,function(){i.forEach(function(f){var m=zs.get(f)-1,p=o.get(f)-1;zs.set(f,m),o.set(f,p),m||(cl.has(f)||f.removeAttribute(r),cl.delete(f)),p||f.removeAttribute(n)}),hd--,hd||(zs=new WeakMap,zs=new WeakMap,cl=new WeakMap,ul={})}},xp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=sO(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),iO(r,s,n,"aria-hidden")):function(){return null}},wp="Dialog",[ob,S3]=$r(wp),[aO,gn]=ob(wp),ib=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u=!1,d]=Ao({prop:r,defaultProp:s,onChange:o});return l.jsx(aO,{scope:t,triggerRef:a,contentRef:c,contentId:kn(),titleId:kn(),descriptionId:kn(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};ib.displayName=wp;var ab="DialogTrigger",lb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=gn(ab,n),o=ce(t,s.triggerRef);return l.jsx(Q.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_p(s.open),...r,ref:o,onClick:H(e.onClick,s.onOpenToggle)})});lb.displayName=ab;var bp="DialogPortal",[lO,cb]=ob(bp,{forceMount:void 0}),ub=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=gn(bp,t);return l.jsx(lO,{scope:t,forceMount:n,children:h.Children.map(r,i=>l.jsx(Et,{present:n||o.open,children:l.jsx(Fc,{asChild:!0,container:s,children:i})}))})};ub.displayName=bp;var dc="DialogOverlay",db=h.forwardRef((e,t)=>{const n=cb(dc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=gn(dc,e.__scopeDialog);return o.modal?l.jsx(Et,{present:r||o.open,children:l.jsx(cO,{...s,ref:t})}):null});db.displayName=dc;var cO=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=gn(dc,n);return l.jsx(su,{as:Rr,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(Q.div,{"data-state":_p(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",fb=h.forwardRef((e,t)=>{const n=cb(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=gn(Ss,e.__scopeDialog);return l.jsx(Et,{present:r||o.open,children:o.modal?l.jsx(uO,{...s,ref:t}):l.jsx(dO,{...s,ref:t})})});fb.displayName=Ss;var uO=h.forwardRef((e,t)=>{const n=gn(Ss,e.__scopeDialog),r=h.useRef(null),s=ce(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return xp(o)},[]),l.jsx(hb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:H(e.onFocusOutside,o=>o.preventDefault())})}),dO=h.forwardRef((e,t)=>{const n=gn(Ss,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return l.jsx(hb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),hb=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=gn(Ss,n),c=h.useRef(null),u=ce(t,c);return yp(),l.jsxs(l.Fragment,{children:[l.jsx(nu,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(ma,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":_p(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(fO,{titleId:a.titleId}),l.jsx(pO,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Sp="DialogTitle",pb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=gn(Sp,n);return l.jsx(Q.h2,{id:s.titleId,...r,ref:t})});pb.displayName=Sp;var mb="DialogDescription",gb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=gn(mb,n);return l.jsx(Q.p,{id:s.descriptionId,...r,ref:t})});gb.displayName=mb;var vb="DialogClose",yb=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=gn(vb,n);return l.jsx(Q.button,{type:"button",...r,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})});yb.displayName=vb;function _p(e){return e?"open":"closed"}var xb="DialogTitleWarning",[_3,wb]=LE(xb,{contentName:Ss,titleName:Sp,docsSlug:"dialog"}),fO=({titleId:e})=>{const t=wb(xb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},hO="DialogDescriptionWarning",pO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wb(hO).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},mO=ib,gO=lb,vO=ub,bb=db,Sb=fb,_b=pb,jb=gb,yO=yb;const zr=mO,Sa=gO,xO=vO,Cb=h.forwardRef(({className:e,...t},n)=>l.jsx(bb,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Cb.displayName=bb.displayName;const Br=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(xO,{children:[l.jsx(Cb,{}),l.jsxs(Sb,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(yO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Jw,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Br.displayName=Sb.displayName;const Wr=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wr.displayName="DialogHeader";const Hr=h.forwardRef(({className:e,...t},n)=>l.jsx(_b,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Hr.displayName=_b.displayName;const wO=h.forwardRef(({className:e,...t},n)=>l.jsx(jb,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));wO.displayName=jb.displayName;const Oe=h.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Oe.displayName="Input";const bO=vp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ot({className:e,variant:t,...n}){return l.jsx("div",{className:se(bO({variant:t}),e),...n})}const SO=({isOpen:e,onClose:t,onNavigate:n})=>{const[r,s]=h.useState(""),[o,i]=h.useState([]),[a,c]=h.useState(!1),{user:u}=it(),d=async g=>{if(!(!g.trim()||!u)){c(!0);try{const{data:v}=await U.from("resources").select("id, title, description, subject").or(`title.ilike.%${g}%, description.ilike.%${g}%, subject.ilike.%${g}%`).limit(10),{data:y}=await U.from("study_sessions").select("id, title, description, subject").or(`title.ilike.%${g}%, description.ilike.%${g}%, subject.ilike.%${g}%`).limit(10),{data:w}=await U.from("profiles").select("id, username, email").or(`username.ilike.%${g}%, email.ilike.%${g}%`).limit(10),{data:x}=await U.from("chat_rooms").select("id, name, description").or(`name.ilike.%${g}%, description.ilike.%${g}%`).limit(10),b=[...(v||[]).map(S=>({id:S.id,title:S.title,type:"resource",description:S.description,subject:S.subject})),...(y||[]).map(S=>({id:S.id,title:S.title,type:"session",description:S.description,subject:S.subject})),...(w||[]).map(S=>({id:S.id,title:S.username,type:"user",username:S.username})),...(x||[]).map(S=>({id:S.id,title:S.name,type:"chat",description:S.description}))];i(b)}catch(v){console.error("Search error:",v)}finally{c(!1)}}};h.useEffect(()=>{const g=setTimeout(()=>{r?d(r):i([])},300);return()=>clearTimeout(g)},[r]);const f=g=>{switch(g){case"resource":return l.jsx(Rn,{className:"h-4 w-4"});case"session":return l.jsx(Kn,{className:"h-4 w-4"});case"chat":return l.jsx(It,{className:"h-4 w-4"});case"user":return l.jsx(Dt,{className:"h-4 w-4"});default:return l.jsx(ps,{className:"h-4 w-4"})}},m=g=>{switch(g){case"resource":return"bg-orange-100 text-orange-800";case"session":return"bg-green-100 text-green-800";case"chat":return"bg-blue-100 text-blue-800";case"user":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},p=g=>{switch(g.type){case"resource":n("resources");break;case"session":n("study-rooms");break;case"chat":n("chat");break;case"user":n("profile");break}t()};return l.jsx(zr,{open:e,onOpenChange:t,children:l.jsxs(Br,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[l.jsx(Wr,{children:l.jsxs(Hr,{className:"flex items-center gap-2",children:[l.jsx(ps,{className:"h-5 w-5"}),"Search StudySphere"]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),l.jsx(Oe,{placeholder:"Search for resources, sessions, users, or chats...",value:r,onChange:g=>s(g.target.value),className:"pl-10",autoFocus:!0})]}),l.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[a&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Searching..."}),!a&&r&&o.length===0&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No results found for "',r,'"']}),!r&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Start typing to search across StudySphere"}),l.jsx("div",{className:"space-y-2",children:o.map(g=>l.jsx(K,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:()=>p(g),children:l.jsxs("div",{className:"flex items-center gap-3 w-full",children:[l.jsx("div",{className:"flex-shrink-0",children:f(g.type)}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:"font-medium",children:g.title}),l.jsx(Ot,{className:`text-xs ${m(g.type)}`,children:g.type})]}),g.description&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:g.description}),g.subject&&l.jsx("p",{className:"text-xs text-blue-600",children:g.subject})]})]})},g.id))})]})]})]})})};function _O(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:m,children:p,...g}=f,v=(m==null?void 0:m[e][c])||a,y=h.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})}function d(f,m){const p=(m==null?void 0:m[e][c])||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,jO(s,...t)]}function jO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function jp(e){const t=e+"CollectionProvider",[n,r]=_O(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:g,children:v}=p,y=F.useRef(null),w=F.useRef(new Map).current;return l.jsx(s,{scope:g,itemMap:w,collectionRef:y,children:v})};i.displayName=t;const a=e+"CollectionSlot",c=F.forwardRef((p,g)=>{const{scope:v,children:y}=p,w=o(a,v),x=ce(g,w.collectionRef);return l.jsx(Rr,{ref:x,children:y})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=F.forwardRef((p,g)=>{const{scope:v,children:y,...w}=p,x=F.useRef(null),b=ce(g,x),S=o(u,v);return F.useEffect(()=>(S.itemMap.set(x,{ref:x,...w}),()=>void S.itemMap.delete(x))),l.jsx(Rr,{[d]:"",ref:b,children:y})});f.displayName=u;function m(p){const g=o(e+"CollectionConsumer",p);return F.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},m,r]}var CO=h.createContext(void 0);function _a(e){const t=h.useContext(CO);return e||t||"ltr"}function EO(e,t=[]){let n=[];function r(o,i){const a=h.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:m,children:p,...g}=f,v=(m==null?void 0:m[e][c])||a,y=h.useMemo(()=>g,Object.values(g));return l.jsx(v.Provider,{value:y,children:p})}function d(f,m){const p=(m==null?void 0:m[e][c])||a,g=h.useContext(p);if(g)return g;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,NO(s,...t)]}function NO(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var pd="rovingFocusGroup.onEntryFocus",kO={bubbles:!1,cancelable:!0},ou="RovingFocusGroup",[Lf,Eb,PO]=jp(ou),[RO,iu]=EO(ou,[PO]),[TO,AO]=RO(ou),Nb=h.forwardRef((e,t)=>l.jsx(Lf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Lf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(OO,{...e,ref:t})})}));Nb.displayName=ou;var OO=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),p=ce(t,m),g=_a(o),[v=null,y]=Ao({prop:i,defaultProp:a,onChange:c}),[w,x]=h.useState(!1),b=De(u),S=Eb(n),_=h.useRef(!1),[j,N]=h.useState(0);return h.useEffect(()=>{const k=m.current;if(k)return k.addEventListener(pd,b),()=>k.removeEventListener(pd,b)},[b]),l.jsx(TO,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:v,onItemFocus:h.useCallback(k=>y(k),[y]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:h.useCallback(()=>N(k=>k-1),[]),children:l.jsx(Q.div,{tabIndex:w||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:H(e.onMouseDown,()=>{_.current=!0}),onFocus:H(e.onFocus,k=>{const E=!_.current;if(k.target===k.currentTarget&&E&&!w){const C=new CustomEvent(pd,kO);if(k.currentTarget.dispatchEvent(C),!C.defaultPrevented){const A=S().filter(z=>z.focusable),M=A.find(z=>z.active),O=A.find(z=>z.id===v),J=[M,O,...A].filter(Boolean).map(z=>z.ref.current);Rb(J,d)}}_.current=!1}),onBlur:H(e.onBlur,()=>x(!1))})})}),kb="RovingFocusGroupItem",Pb=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=kn(),c=o||a,u=AO(kb,n),d=u.currentTabStopId===c,f=Eb(n),{onFocusableItemAdd:m,onFocusableItemRemove:p}=u;return h.useEffect(()=>{if(r)return m(),()=>p()},[r,m,p]),l.jsx(Lf.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(Q.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:H(e.onMouseDown,g=>{r?u.onItemFocus(c):g.preventDefault()}),onFocus:H(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:H(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const v=DO(g,u.orientation,u.dir);if(v!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=f().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const x=w.indexOf(g.currentTarget);w=u.loop?LO(w,x+1):w.slice(x+1)}setTimeout(()=>Rb(w))}})})})});Pb.displayName=kb;var MO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function DO(e,t,n){const r=IO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MO[r]}function Rb(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function LO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Tb=Nb,Ab=Pb,$f=["Enter"," "],$O=["ArrowDown","PageUp","Home"],Ob=["ArrowUp","PageDown","End"],FO=[...$O,...Ob],UO={ltr:[...$f,"ArrowRight"],rtl:[...$f,"ArrowLeft"]},zO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ja="Menu",[oa,BO,WO]=jp(ja),[ks,Mb]=$r(ja,[WO,Bo,iu]),au=Bo(),Ib=iu(),[HO,Ps]=ks(ja),[VO,Ca]=ks(ja),Db=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,a=au(t),[c,u]=h.useState(null),d=h.useRef(!1),f=De(o),m=_a(s);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(Ix,{...a,children:l.jsx(HO,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(VO,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:i,children:r})})})};Db.displayName=ja;var qO="MenuAnchor",Cp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=au(n);return l.jsx(Zh,{...s,...r,ref:t})});Cp.displayName=qO;var Ep="MenuPortal",[GO,Lb]=ks(Ep,{forceMount:void 0}),$b=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=Ps(Ep,t);return l.jsx(GO,{scope:t,forceMount:n,children:l.jsx(Et,{present:n||o.open,children:l.jsx(Fc,{asChild:!0,container:s,children:r})})})};$b.displayName=Ep;var qt="MenuContent",[KO,Np]=ks(qt),Fb=h.forwardRef((e,t)=>{const n=Lb(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ps(qt,e.__scopeMenu),i=Ca(qt,e.__scopeMenu);return l.jsx(oa.Provider,{scope:e.__scopeMenu,children:l.jsx(Et,{present:r||o.open,children:l.jsx(oa.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(JO,{...s,ref:t}):l.jsx(YO,{...s,ref:t})})})})}),JO=h.forwardRef((e,t)=>{const n=Ps(qt,e.__scopeMenu),r=h.useRef(null),s=ce(t,r);return h.useEffect(()=>{const o=r.current;if(o)return xp(o)},[]),l.jsx(kp,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:H(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),YO=h.forwardRef((e,t)=>{const n=Ps(qt,e.__scopeMenu);return l.jsx(kp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kp=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...v}=e,y=Ps(qt,n),w=Ca(qt,n),x=au(n),b=Ib(n),S=BO(n),[_,j]=h.useState(null),N=h.useRef(null),k=ce(t,N,y.onContentChange),E=h.useRef(0),C=h.useRef(""),A=h.useRef(0),M=h.useRef(null),O=h.useRef("right"),L=h.useRef(0),J=g?su:h.Fragment,z=g?{as:Rr,allowPinchZoom:!0}:void 0,V=P=>{var B,he;const $=C.current+P,Y=S().filter(pe=>!pe.disabled),G=document.activeElement,oe=(B=Y.find(pe=>pe.ref.current===G))==null?void 0:B.textValue,Z=Y.map(pe=>pe.textValue),ye=lM(Z,$,oe),xe=(he=Y.find(pe=>pe.textValue===ye))==null?void 0:he.ref.current;(function pe(ue){C.current=ue,window.clearTimeout(E.current),ue!==""&&(E.current=window.setTimeout(()=>pe(""),1e3))})($),xe&&setTimeout(()=>xe.focus())};h.useEffect(()=>()=>window.clearTimeout(E.current),[]),yp();const T=h.useCallback(P=>{var Y,G;return O.current===((Y=M.current)==null?void 0:Y.side)&&uM(P,(G=M.current)==null?void 0:G.area)},[]);return l.jsx(KO,{scope:n,searchRef:C,onItemEnter:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),onItemLeave:h.useCallback(P=>{var $;T(P)||(($=N.current)==null||$.focus(),j(null))},[T]),onTriggerLeave:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),pointerGraceTimerRef:A,onPointerGraceIntentChange:h.useCallback(P=>{M.current=P},[]),children:l.jsx(J,{...z,children:l.jsx(nu,{asChild:!0,trapped:s,onMountAutoFocus:H(o,P=>{var $;P.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(ma,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:l.jsx(Tb,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:H(c,P=>{w.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(ep,{role:"menu","aria-orientation":"vertical","data-state":t1(y.open),"data-radix-menu-content":"",dir:w.dir,...x,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:H(v.onKeyDown,P=>{const Y=P.target.closest("[data-radix-menu-content]")===P.currentTarget,G=P.ctrlKey||P.altKey||P.metaKey,oe=P.key.length===1;Y&&(P.key==="Tab"&&P.preventDefault(),!G&&oe&&V(P.key));const Z=N.current;if(P.target!==Z||!FO.includes(P.key))return;P.preventDefault();const xe=S().filter(B=>!B.disabled).map(B=>B.ref.current);Ob.includes(P.key)&&xe.reverse(),iM(xe)}),onBlur:H(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(E.current),C.current="")}),onPointerMove:H(e.onPointerMove,ia(P=>{const $=P.target,Y=L.current!==P.clientX;if(P.currentTarget.contains($)&&Y){const G=P.clientX>L.current?"right":"left";O.current=G,L.current=P.clientX}}))})})})})})})});Fb.displayName=qt;var QO="MenuGroup",Pp=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Q.div,{role:"group",...r,ref:t})});Pp.displayName=QO;var XO="MenuLabel",Ub=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Q.div,{...r,ref:t})});Ub.displayName=XO;var fc="MenuItem",bv="menu.itemSelect",lu=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=Ca(fc,e.__scopeMenu),a=Np(fc,e.__scopeMenu),c=ce(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const m=new CustomEvent(bv,{bubbles:!0,cancelable:!0});f.addEventListener(bv,p=>r==null?void 0:r(p),{once:!0}),px(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(zb,{...s,ref:c,disabled:n,onClick:H(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:H(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:H(e.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||$f.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});lu.displayName=fc;var zb=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Np(fc,n),a=Ib(n),c=h.useRef(null),u=ce(t,c),[d,f]=h.useState(!1),[m,p]=h.useState("");return h.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[o.children]),l.jsx(oa.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:l.jsx(Ab,{asChild:!0,...a,focusable:!r,children:l.jsx(Q.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:H(e.onPointerMove,ia(g=>{r?i.onItemLeave(g):(i.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:H(e.onPointerLeave,ia(g=>i.onItemLeave(g))),onFocus:H(e.onFocus,()=>f(!0)),onBlur:H(e.onBlur,()=>f(!1))})})})}),ZO="MenuCheckboxItem",Bb=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return l.jsx(Gb,{scope:e.__scopeMenu,checked:n,children:l.jsx(lu,{role:"menuitemcheckbox","aria-checked":hc(n)?"mixed":n,...s,ref:t,"data-state":Tp(n),onSelect:H(s.onSelect,()=>r==null?void 0:r(hc(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Bb.displayName=ZO;var Wb="MenuRadioGroup",[eM,tM]=ks(Wb,{value:void 0,onValueChange:()=>{}}),Hb=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=De(r);return l.jsx(eM,{scope:e.__scopeMenu,value:n,onValueChange:o,children:l.jsx(Pp,{...s,ref:t})})});Hb.displayName=Wb;var Vb="MenuRadioItem",qb=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=tM(Vb,e.__scopeMenu),o=n===s.value;return l.jsx(Gb,{scope:e.__scopeMenu,checked:o,children:l.jsx(lu,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Tp(o),onSelect:H(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});qb.displayName=Vb;var Rp="MenuItemIndicator",[Gb,nM]=ks(Rp,{checked:!1}),Kb=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=nM(Rp,n);return l.jsx(Et,{present:r||hc(o.checked)||o.checked===!0,children:l.jsx(Q.span,{...s,ref:t,"data-state":Tp(o.checked)})})});Kb.displayName=Rp;var rM="MenuSeparator",Jb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return l.jsx(Q.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Jb.displayName=rM;var sM="MenuArrow",Yb=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=au(n);return l.jsx(tp,{...s,...r,ref:t})});Yb.displayName=sM;var oM="MenuSub",[j3,Qb]=ks(oM),wi="MenuSubTrigger",Xb=h.forwardRef((e,t)=>{const n=Ps(wi,e.__scopeMenu),r=Ca(wi,e.__scopeMenu),s=Qb(wi,e.__scopeMenu),o=Np(wi,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Cp,{asChild:!0,...u,children:l.jsx(zb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":t1(n.open),...e,ref:Ic(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:H(e.onPointerMove,ia(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:H(e.onPointerLeave,ia(f=>{var p,g;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const v=(g=n.content)==null?void 0:g.dataset.side,y=v==="right",w=y?-5:5,x=m[y?"left":"right"],b=m[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:H(e.onKeyDown,f=>{var p;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||UO[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});Xb.displayName=wi;var Zb="MenuSubContent",e1=h.forwardRef((e,t)=>{const n=Lb(qt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ps(qt,e.__scopeMenu),i=Ca(qt,e.__scopeMenu),a=Qb(Zb,e.__scopeMenu),c=h.useRef(null),u=ce(t,c);return l.jsx(oa.Provider,{scope:e.__scopeMenu,children:l.jsx(Et,{present:r||o.open,children:l.jsx(oa.Slot,{scope:e.__scopeMenu,children:l.jsx(kp,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:H(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:H(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:H(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),m=zO[i.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(p=a.trigger)==null||p.focus(),d.preventDefault())})})})})})});e1.displayName=Zb;function t1(e){return e?"open":"closed"}function hc(e){return e==="indeterminate"}function Tp(e){return hc(e)?"indeterminate":e?"checked":"unchecked"}function iM(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function aM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function lM(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=aM(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function cM(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function uM(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return cM(n,t)}function ia(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dM=Db,fM=Cp,hM=$b,pM=Fb,mM=Pp,gM=Ub,vM=lu,yM=Bb,xM=Hb,wM=qb,bM=Kb,SM=Jb,_M=Yb,jM=Xb,CM=e1,Ap="DropdownMenu",[EM,C3]=$r(Ap,[Mb]),mt=Mb(),[NM,n1]=EM(Ap),r1=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=mt(t),u=h.useRef(null),[d=!1,f]=Ao({prop:s,defaultProp:o,onChange:i});return l.jsx(NM,{scope:t,triggerId:kn(),triggerRef:u,contentId:kn(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(m=>!m),[f]),modal:a,children:l.jsx(dM,{...c,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};r1.displayName=Ap;var s1="DropdownMenuTrigger",o1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=n1(s1,n),i=mt(n);return l.jsx(fM,{asChild:!0,...i,children:l.jsx(Q.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ic(t,o.triggerRef),onPointerDown:H(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:H(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});o1.displayName=s1;var kM="DropdownMenuPortal",i1=e=>{const{__scopeDropdownMenu:t,...n}=e,r=mt(t);return l.jsx(hM,{...r,...n})};i1.displayName=kM;var a1="DropdownMenuContent",l1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=n1(a1,n),o=mt(n),i=h.useRef(!1);return l.jsx(pM,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:H(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:H(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l1.displayName=a1;var PM="DropdownMenuGroup",RM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(mM,{...s,...r,ref:t})});RM.displayName=PM;var TM="DropdownMenuLabel",c1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(gM,{...s,...r,ref:t})});c1.displayName=TM;var AM="DropdownMenuItem",u1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(vM,{...s,...r,ref:t})});u1.displayName=AM;var OM="DropdownMenuCheckboxItem",d1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(yM,{...s,...r,ref:t})});d1.displayName=OM;var MM="DropdownMenuRadioGroup",IM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(xM,{...s,...r,ref:t})});IM.displayName=MM;var DM="DropdownMenuRadioItem",f1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(wM,{...s,...r,ref:t})});f1.displayName=DM;var LM="DropdownMenuItemIndicator",h1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(bM,{...s,...r,ref:t})});h1.displayName=LM;var $M="DropdownMenuSeparator",p1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(SM,{...s,...r,ref:t})});p1.displayName=$M;var FM="DropdownMenuArrow",UM=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(_M,{...s,...r,ref:t})});UM.displayName=FM;var zM="DropdownMenuSubTrigger",m1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(jM,{...s,...r,ref:t})});m1.displayName=zM;var BM="DropdownMenuSubContent",g1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mt(n);return l.jsx(CM,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});g1.displayName=BM;var WM=r1,HM=o1,VM=i1,v1=l1,y1=c1,x1=u1,w1=d1,b1=f1,S1=h1,_1=p1,j1=m1,C1=g1;const qM=WM,GM=HM,KM=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>l.jsxs(j1,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,l.jsx(Vw,{className:"ml-auto h-4 w-4"})]}));KM.displayName=j1.displayName;const JM=h.forwardRef(({className:e,...t},n)=>l.jsx(C1,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));JM.displayName=C1.displayName;const E1=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(VM,{children:l.jsx(v1,{ref:r,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));E1.displayName=v1.displayName;const YM=h.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(x1,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));YM.displayName=x1.displayName;const QM=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>l.jsxs(w1,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(S1,{children:l.jsx(pp,{className:"h-4 w-4"})})}),t]}));QM.displayName=w1.displayName;const XM=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(b1,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(S1,{children:l.jsx(XT,{className:"h-2 w-2 fill-current"})})}),t]}));XM.displayName=b1.displayName;const ZM=h.forwardRef(({className:e,inset:t,...n},r)=>l.jsx(y1,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));ZM.displayName=y1.displayName;const eI=h.forwardRef(({className:e,...t},n)=>l.jsx(_1,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));eI.displayName=_1.displayName;function Je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function tI(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const dl=43200,Sv=1440;let nI={};function rI(){return nI}function _v(e){const t=Je(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Nl(e,t){const n=Je(e),r=Je(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function sI(e){return tI(e,Date.now())}function oI(e,t){const n=Je(e),r=Je(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function iI(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function aI(e,t){return+Je(e)-+Je(t)}function lI(e){const t=Je(e);return t.setHours(23,59,59,999),t}function cI(e){const t=Je(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function uI(e){const t=Je(e);return+lI(t)==+cI(t)}function dI(e,t){const n=Je(e),r=Je(t),s=Nl(n,r),o=Math.abs(oI(n,r));let i;if(o<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*o);let a=Nl(n,r)===-s;uI(Je(e))&&o===1&&Nl(e,r)===1&&(a=!1),i=s*(o-Number(a))}return i===0?0:i}function fI(e,t,n){const r=aI(e,t)/1e3;return iI(n==null?void 0:n.roundingMethod)(r)}const hI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pI=(e,t,n)=>{let r;const s=hI[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function md(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const mI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yI={date:md({formats:mI,defaultWidth:"full"}),time:md({formats:gI,defaultWidth:"full"}),dateTime:md({formats:vI,defaultWidth:"full"})},xI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wI=(e,t,n,r)=>xI[e];function fi(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const bI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_I={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NI=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kI={ordinalNumber:NI,era:fi({values:bI,defaultWidth:"wide"}),quarter:fi({values:SI,defaultWidth:"wide",argumentCallback:e=>e-1}),month:fi({values:_I,defaultWidth:"wide"}),day:fi({values:jI,defaultWidth:"wide"}),dayPeriod:fi({values:CI,defaultWidth:"wide",formattingValues:EI,defaultFormattingWidth:"wide"})};function hi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?RI(a,f=>f.test(i)):PI(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function PI(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function RI(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function TI(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const AI=/^(\d+)(th|st|nd|rd)?/i,OI=/\d+/i,MI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},II={any:[/^b/i,/^(a|c)/i]},DI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LI={any:[/1/i,/2/i,/3/i,/4/i]},$I={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HI={ordinalNumber:TI({matchPattern:AI,parsePattern:OI,valueCallback:e=>parseInt(e,10)}),era:hi({matchPatterns:MI,defaultMatchWidth:"wide",parsePatterns:II,defaultParseWidth:"any"}),quarter:hi({matchPatterns:DI,defaultMatchWidth:"wide",parsePatterns:LI,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hi({matchPatterns:$I,defaultMatchWidth:"wide",parsePatterns:FI,defaultParseWidth:"any"}),day:hi({matchPatterns:UI,defaultMatchWidth:"wide",parsePatterns:zI,defaultParseWidth:"any"}),dayPeriod:hi({matchPatterns:BI,defaultMatchWidth:"any",parsePatterns:WI,defaultParseWidth:"any"})},VI={code:"en-US",formatDistance:pI,formatLong:yI,formatRelative:wI,localize:kI,match:HI,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qI(e,t,n){const r=rI(),s=(n==null?void 0:n.locale)??r.locale??VI,o=2520,i=Nl(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:i});let c,u;i>0?(c=Je(t),u=Je(e)):(c=Je(e),u=Je(t));const d=fI(u,c),f=(_v(u)-_v(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):m===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",m,a);if(m<45)return s.formatDistance("xMinutes",m,a);if(m<90)return s.formatDistance("aboutXHours",1,a);if(m<Sv){const g=Math.round(m/60);return s.formatDistance("aboutXHours",g,a)}else{if(m<o)return s.formatDistance("xDays",1,a);if(m<dl){const g=Math.round(m/Sv);return s.formatDistance("xDays",g,a)}else if(m<dl*2)return p=Math.round(m/dl),s.formatDistance("aboutXMonths",p,a)}if(p=dI(u,c),p<12){const g=Math.round(m/dl);return s.formatDistance("xMonths",g,a)}else{const g=p%12,v=Math.trunc(p/12);return g<3?s.formatDistance("aboutXYears",v,a):g<9?s.formatDistance("overXYears",v,a):s.formatDistance("almostXYears",v+1,a)}}function GI(e,t){return qI(e,sI(e),t)}const KI=({unreadCount:e,onCountChange:t})=>{const[n,r]=h.useState([]),[s,o]=h.useState(!1),{user:i}=it(),a=async()=>{if(i){o(!0);try{const{data:f}=await U.from("notifications").select("*").eq("user_id",i.id).order("created_at",{ascending:!1}).limit(20);if(f){r(f);const m=f.filter(p=>!p.is_read).length;t(m)}}catch(f){console.error("Error fetching notifications:",f)}finally{o(!1)}}},c=async f=>{if(i)try{await U.from("notifications").update({is_read:!0}).eq("id",f).eq("user_id",i.id),r(p=>p.map(g=>g.id===f?{...g,is_read:!0}:g));const m=n.filter(p=>p.id!==f&&!p.is_read).length;t(m)}catch(m){console.error("Error marking notification as read:",m)}},u=async()=>{if(i)try{await U.from("notifications").update({is_read:!0}).eq("user_id",i.id).eq("is_read",!1),r(f=>f.map(m=>({...m,is_read:!0}))),t(0)}catch(f){console.error("Error marking all notifications as read:",f)}};h.useEffect(()=>{a();const f=U.channel("notifications-changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${i==null?void 0:i.id}`},()=>{a()}).subscribe();return()=>{U.removeChannel(f)}},[i==null?void 0:i.id]);const d=f=>{switch(f){case"chat":return l.jsx(It,{className:"h-4 w-4 text-blue-600"});case"session":return l.jsx(Kn,{className:"h-4 w-4 text-green-600"});case"resource":return l.jsx(Rn,{className:"h-4 w-4 text-orange-600"});case"ai":return l.jsx(eu,{className:"h-4 w-4 text-purple-600"});default:return l.jsx(ov,{className:"h-4 w-4 text-gray-600"})}};return l.jsxs(qM,{children:[l.jsx(GM,{asChild:!0,children:l.jsxs(K,{variant:"ghost",size:"sm",className:"relative min-h-[44px] min-w-[44px] active:scale-95",children:[l.jsx(ov,{className:"h-5 w-5"}),e>0&&l.jsx(Ot,{className:"absolute -top-1 -right-1 w-5 h-5 text-xs p-0 flex items-center justify-center bg-red-500",children:e>99?"99+":e})]})}),l.jsxs(E1,{className:"w-80 max-h-96 overflow-y-auto",align:"end",children:[l.jsx("div",{className:"p-3 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Notifications"}),e>0&&l.jsxs(K,{variant:"ghost",size:"sm",onClick:u,className:"text-blue-600 hover:text-blue-700",children:[l.jsx(pp,{className:"h-4 w-4 mr-1"}),"Mark all read"]})]})}),l.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[s&&l.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading notifications..."}),!s&&n.length===0&&l.jsx("div",{className:"p-4 text-center text-gray-500",children:"No notifications yet"}),n.map(f=>l.jsx("div",{className:`p-3 border-b hover:bg-gray-50 cursor-pointer ${f.is_read?"":"bg-blue-50"}`,onClick:()=>!f.is_read&&c(f.id),children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:d(f.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-sm truncate",children:f.title}),!f.is_read&&l.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full flex-shrink-0"})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:GI(new Date(f.created_at),{addSuffix:!0})})]})]})},f.id))]})]})]})};function Op(){const{theme:e,setTheme:t,actualTheme:n}=VT(),r=()=>{t(e==="light"?"dark":e==="dark"?"system":"light")};return l.jsxs(K,{variant:"ghost",size:"sm",onClick:r,className:"relative min-h-[44px] min-w-[44px] active:scale-95 transition-transform",children:[l.jsx(uA,{className:`h-5 w-5 transition-all duration-300 ${n==="dark"?"rotate-90 scale-0":"rotate-0 scale-100"}`}),l.jsx(oA,{className:`absolute h-5 w-5 transition-all duration-300 ${n==="dark"?"rotate-0 scale-100":"-rotate-90 scale-0"}`}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const JI=({notifications:e,onNotificationCountChange:t,onNavigate:n})=>{const[r,s]=h.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"bg-card/80 backdrop-blur-sm border-b border-border px-4 py-3 sticky top-0 z-50 safe-area-top transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-8 h-8 object-contain rounded-lg"})}),l.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent",children:"StudySphere"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(K,{variant:"ghost",size:"sm",className:"relative min-h-[44px] min-w-[44px] active:scale-95",onClick:()=>s(!0),children:l.jsx(ps,{className:"h-5 w-5"})}),l.jsx(KI,{unreadCount:e,onCountChange:t}),l.jsx(Op,{})]})]})}),l.jsx(SO,{isOpen:r,onClose:()=>s(!1),onNavigate:n})]})},YI=({activeTab:e,setActiveTab:t})=>{const n=[{id:"home",icon:eA,label:"Home"},{id:"chat",icon:It,label:"Chat"},{id:"study-rooms",icon:Kn,label:"Study"},{id:"ai-assistant",icon:eu,label:"AI"},{id:"profile",icon:Kw,label:"Profile"}];return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t px-2 py-2 z-50 safe-area-bottom",children:l.jsx("div",{className:"flex justify-around max-w-md mx-auto",children:n.map(r=>l.jsxs("button",{onClick:()=>t(r.id),className:`flex flex-col items-center py-2 px-3 rounded-lg transition-colors min-h-[56px] min-w-[56px] active:scale-95 ${e===r.id?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-blue-600 active:bg-gray-100"}`,children:[l.jsx(r.icon,{className:"h-5 w-5 mb-1"}),l.jsx("span",{className:"text-xs font-medium",children:r.label})]},r.id))})})},Ea=h.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ea.displayName="Textarea";const QI=({value:e,onChange:t,onSend:n,onKeyPress:r,placeholder:s,disabled:o})=>{const[i,a]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState([]),[m,p]=h.useState(-1),[g,v]=h.useState(!1),y=h.useRef(null),w=h.useRef(null),x=h.useRef([]);h.useEffect(()=>{b()},[]);const b=async()=>{try{const{data:E,error:C}=await U.from("profiles").select("id, username, email");if(C)throw C;a(E||[])}catch(E){console.error("Error fetching users:",E)}},S=E=>{const C=E.target.value,A=E.target.selectionStart;t(C);const M=C.slice(0,A),O=M.match(/@(\w*)$/);if(O){const L=O[1].toLowerCase(),J=i.filter(z=>z.username.toLowerCase().includes(L)||z.email.toLowerCase().includes(L));f(J),p(M.length-O[0].length),u(!0)}else u(!1)},_=E=>{var O;if(m===-1)return;const C=e.slice(0,m),A=e.slice(((O=y.current)==null?void 0:O.selectionStart)||0),M=`${C}@${E.username} ${A}`;t(M),u(!1),p(-1),setTimeout(()=>{if(y.current){const L=m+E.username.length+2;y.current.focus(),y.current.setSelectionRange(L,L)}},0)},j=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:44100,channelCount:1,echoCancellation:!0,noiseSuppression:!0}}),C=new MediaRecorder(E,{mimeType:"audio/webm;codecs=opus"});w.current=C,x.current=[],C.ondataavailable=A=>{A.data.size>0&&x.current.push(A.data)},C.onstop=async()=>{const A=new Blob(x.current,{type:"audio/webm"});await k(A),E.getTracks().forEach(M=>M.stop())},C.start(),v(!0)}catch(E){console.error("Error starting recording:",E)}},N=()=>{w.current&&g&&(w.current.stop(),v(!1))},k=async E=>{try{const C=new FileReader;C.onload=async()=>{const A=C.result.split(",")[1],{data:M,error:O}=await U.functions.invoke("voice-to-text",{body:{audio:A}});if(O)throw O;M.text&&t(e+(e?" ":"")+M.text)},C.readAsDataURL(E)}catch(C){console.error("Error transcribing audio:",C)}};return l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"flex items-end space-x-4 bg-white rounded-2xl border-2 border-slate-200 p-3 shadow-sm transition-all duration-200 focus-within:border-blue-300 focus-within:shadow-md",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Ea,{ref:y,value:e,onChange:S,onKeyPress:r,placeholder:s,className:"min-h-[50px] max-h-[120px] resize-none border-0 bg-transparent focus-visible:ring-0 focus-visible:ring-offset-0 text-slate-900 placeholder:text-slate-500",rows:1,disabled:o}),c&&d.length>0&&l.jsx("div",{className:"absolute bottom-full left-0 right-0 mb-2 bg-white border border-slate-200 rounded-xl shadow-xl max-h-48 overflow-y-auto z-50",children:l.jsxs("div",{className:"p-2",children:[l.jsx("div",{className:"text-xs font-medium text-slate-500 mb-2 px-2",children:"Mention someone:"}),d.map(E=>{var C,A;return l.jsxs("button",{onClick:()=>_(E),className:"w-full px-3 py-3 text-left hover:bg-slate-50 rounded-lg flex items-center space-x-3 transition-colors duration-150",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white text-sm font-semibold",children:((C=E.username[0])==null?void 0:C.toUpperCase())||((A=E.email[0])==null?void 0:A.toUpperCase())}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm text-slate-900",children:E.username}),l.jsxs("div",{className:"text-xs text-slate-500",children:["@",E.username]})]})]},E.id)})]})})]}),l.jsx(K,{onClick:g?N:j,variant:"ghost",size:"sm",className:`p-3 rounded-xl transition-all duration-200 ${g?"bg-red-50 border-red-200 text-red-600 hover:bg-red-100":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"}`,children:g?l.jsx(rA,{className:"h-5 w-5"}):l.jsx(sA,{className:"h-5 w-5"})}),l.jsx(K,{onClick:n,disabled:!e.trim()||o,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-6 py-3 rounded-xl shadow-md transition-all duration-200 disabled:opacity-50",children:l.jsx(mp,{className:"h-5 w-5"})})]}),g&&l.jsx("div",{className:"absolute -top-16 left-0 right-0 flex items-center justify-center",children:l.jsxs("div",{className:"bg-red-500 text-white px-4 py-2 rounded-full text-sm flex items-center space-x-2 shadow-lg",children:[l.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),l.jsx("span",{children:"Recording audio..."})]})})]})};var Mp="Avatar",[XI,E3]=$r(Mp),[ZI,N1]=XI(Mp),k1=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return l.jsx(ZI,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(Q.span,{...r,ref:t})})});k1.displayName=Mp;var P1="AvatarImage",R1=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=N1(P1,n),a=e4(r,o.referrerPolicy),c=De(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ge(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(Q.img,{...o,ref:t,src:r}):null});R1.displayName=P1;var T1="AvatarFallback",A1=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=N1(T1,n),[i,a]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(Q.span,{...s,ref:t}):null});A1.displayName=T1;function e4(e,t){const[n,r]=h.useState("idle");return Ge(()=>{if(!e){r("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&r(a)};return r("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),n}var O1=k1,M1=R1,I1=A1;const Go=h.forwardRef(({className:e,...t},n)=>l.jsx(O1,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Go.displayName=O1.displayName;const Ko=h.forwardRef(({className:e,...t},n)=>l.jsx(M1,{ref:n,className:se("aspect-square h-full w-full",e),...t}));Ko.displayName=M1.displayName;const Jo=h.forwardRef(({className:e,...t},n)=>l.jsx(I1,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Jo.displayName=I1.displayName;const t4=({message:e,currentUserId:t})=>{var a;const n=e.user_id===t,r=e.display_name||e.username||"Unknown User",s=((a=r[0])==null?void 0:a.toUpperCase())||"U",o=c=>{const u=/@(\w+)/g;return c.split(u).map((f,m)=>m%2===1?l.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-md font-medium",children:["@",f]},m):f)},i=c=>{const u=new Date(c),d=new Date;return u.toDateString()===d.toDateString()?u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):u.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return l.jsxs("div",{className:"flex items-start space-x-4 group hover:bg-slate-50 -mx-2 px-2 py-3 rounded-xl transition-colors duration-200",children:[l.jsxs(Go,{className:"h-12 w-12 ring-2 ring-white shadow-sm flex-shrink-0 mt-1",children:[l.jsx(Ko,{src:e.avatar_url||""}),l.jsx(Jo,{className:`text-white font-semibold ${n?"bg-gradient-to-br from-blue-500 to-indigo-600":"bg-gradient-to-br from-slate-500 to-slate-600"}`,children:s})]}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:`rounded-2xl p-4 shadow-sm border transition-all duration-200 ${n?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white border-blue-200 ml-8":"bg-white border-slate-200 mr-8 group-hover:shadow-md"}`,children:[l.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[l.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-100":"text-slate-900"}`,children:n?"You":r}),l.jsx("span",{className:`text-xs ml-3 flex-shrink-0 ${n?"text-blue-200":"text-slate-500"}`,children:i(e.created_at)})]}),l.jsx("div",{className:`break-words leading-relaxed ${n?"text-white":"text-slate-800"}`,children:o(e.content)})]})})]})},n4=()=>{const{user:e}=it(),[t,n]=h.useState([]),[r,s]=h.useState(""),[o,i]=h.useState(!1),[a,c]=h.useState(!1),u=async()=>{if(e)try{const{data:p,error:g}=await U.from("friends").select("*").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).order("created_at",{ascending:!1});if(g)throw g;const v=new Set;p==null||p.forEach(b=>{v.add(b.user_id),v.add(b.friend_id)});const{data:y}=await U.from("profiles").select("id, username, email, avatar_url").in("id",Array.from(v)),w=new Map;y==null||y.forEach(b=>{w.set(b.id,b)});const x=(p||[]).map(b=>({...b,status:b.status,friend_profile:w.get(b.friend_id)||null,user_profile:w.get(b.user_id)||null}));n(x)}catch(p){console.error("Error in fetch friends:",p),W.error("Failed to load friends")}},d=async()=>{if(!(!e||!r.trim())){i(!0);try{const{data:p,error:g}=await U.from("profiles").select("id").eq("email",r.trim()).single();if(g||!p){W.error("User not found");return}if(p.id===e.id){W.error("You cannot add yourself as a friend");return}const{data:v}=await U.from("friends").select("id").or(`and(user_id.eq.${e.id},friend_id.eq.${p.id}),and(user_id.eq.${p.id},friend_id.eq.${e.id})`).single();if(v){W.error("Friend relationship already exists");return}const{error:y}=await U.from("friends").insert({user_id:e.id,friend_id:p.id,status:"pending"});if(y)throw y;W.success("Friend request sent!"),s(""),u()}catch(p){console.error("Error sending friend request:",p),W.error("Failed to send friend request")}finally{i(!1)}}},f=async(p,g)=>{try{const{error:v}=await U.from("friends").update({status:g}).eq("id",p);if(v)throw v;W.success(g==="accepted"?"Friend request accepted!":"Friend request blocked"),u()}catch(v){console.error("Error responding to friend request:",v),W.error("Failed to respond to friend request")}};h.useEffect(()=>{a&&u()},[a,e]);const m=p=>{const g=p.friend_id===(e==null?void 0:e.id);return{profile:g?p.user_profile:p.friend_profile,isReceived:g,canRespond:g&&p.status==="pending"}};return l.jsxs(zr,{open:a,onOpenChange:c,children:[l.jsx(Sa,{asChild:!0,children:l.jsxs(K,{variant:"outline",size:"sm",children:[l.jsx(If,{className:"h-4 w-4 mr-2"}),"Friends"]})}),l.jsxs(Br,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsx(Wr,{children:l.jsx(Hr,{children:"Friends"})}),l.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[l.jsx("div",{className:"space-y-2",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Oe,{placeholder:"Enter email to add friend",value:r,onChange:p=>s(p.target.value),onKeyPress:p=>p.key==="Enter"&&d()}),l.jsx(K,{onClick:d,disabled:o,size:"sm",children:l.jsx(ps,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:t.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(If,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),l.jsx("p",{children:"No friends yet"}),l.jsx("p",{className:"text-sm",children:"Add friends by their email"})]}):t.map(p=>{var w,x,b,S,_;const{profile:g,isReceived:v,canRespond:y}=m(p);return l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs(Go,{className:"h-10 w-10",children:[l.jsx(Ko,{src:g==null?void 0:g.avatar_url}),l.jsx(Jo,{children:((x=(w=g==null?void 0:g.username)==null?void 0:w[0])==null?void 0:x.toUpperCase())||((S=(b=g==null?void 0:g.email)==null?void 0:b[0])==null?void 0:S.toUpperCase())||"U"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:(g==null?void 0:g.username)||((_=g==null?void 0:g.email)==null?void 0:_.split("@")[0])||"Unknown"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ot,{variant:p.status==="accepted"?"default":p.status==="pending"?"secondary":"destructive",className:"text-xs",children:p.status}),v&&p.status==="pending"&&l.jsx("span",{className:"text-xs text-blue-600",children:"Received"})]})]})]}),y&&l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(K,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(p.id,"accepted"),children:l.jsx(fA,{className:"h-3 w-3"})}),l.jsx(K,{size:"sm",variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(p.id,"blocked"),children:l.jsx(hA,{className:"h-3 w-3"})})]})]},p.id)})})]})]})]})},r4=({show:e,chatRooms:t,activeRoom:n,onClose:r,onSelectRoom:s,onCreateRoom:o,newRoomName:i,newRoomDescription:a,setNewRoomName:c,setNewRoomDescription:u,isCreateRoomOpen:d,setIsCreateRoomOpen:f})=>{var p,g,v;const{user:m}=it();return e?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm",onClick:r,children:l.jsxs("div",{className:"bg-white w-80 h-full shadow-2xl",onClick:y=>y.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Chat Rooms"}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Connect with your study groups"})]}),l.jsx(K,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:r,children:l.jsx(JT,{className:"h-5 w-5"})})]})}),l.jsxs("div",{className:"p-6 border-b border-slate-200 bg-slate-50 space-y-4",children:[l.jsx(n4,{}),l.jsxs(zr,{open:d,onOpenChange:f,children:[l.jsx(Sa,{asChild:!0,children:l.jsxs(K,{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md",children:[l.jsx(uc,{className:"h-4 w-4 mr-2"}),"Create New Room"]})}),l.jsxs(Br,{className:"mx-4 max-w-sm",children:[l.jsx(Wr,{children:l.jsx(Hr,{children:"Create New Room"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"roomName",className:"block text-sm font-medium text-slate-700 mb-2",children:"Room Name"}),l.jsx(Oe,{id:"roomName",value:i,onChange:y=>c(y.target.value),placeholder:"Enter room name",className:"w-full"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"roomDescription",className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (Optional)"}),l.jsx(Ea,{id:"roomDescription",value:a,onChange:y=>u(y.target.value),placeholder:"Enter room description",className:"w-full",rows:3})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[l.jsx(K,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),l.jsx(K,{onClick:o,disabled:!i.trim(),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Create Room"})]})]})]})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Dt,{className:"h-8 w-8 text-slate-400"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Rooms Yet"}),l.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"Create your first room or get invited to join conversations!"})]}):l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide mb-3",children:"Active Rooms"}),t.map(y=>l.jsxs("button",{onClick:()=>s(y),className:`w-full flex items-center p-4 rounded-xl text-left transition-all duration-200 group ${(n==null?void 0:n.id)===y.id?"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 shadow-md":"hover:bg-slate-50 border-2 border-transparent hover:shadow-sm"}`,children:[l.jsx("div",{className:`p-3 rounded-xl mr-4 transition-all duration-200 ${(n==null?void 0:n.id)===y.id?"bg-gradient-to-r from-blue-500 to-indigo-600 shadow-md":"bg-slate-100 group-hover:bg-slate-200"}`,children:l.jsx(uo,{className:`h-4 w-4 ${(n==null?void 0:n.id)===y.id?"text-white":"text-slate-600"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:`font-semibold truncate ${(n==null?void 0:n.id)===y.id?"text-blue-900":"text-slate-900"}`,children:y.name}),(n==null?void 0:n.id)===y.id&&l.jsx(Ot,{className:"bg-blue-100 text-blue-700 text-xs",children:"Active"})]}),y.description&&l.jsx("p",{className:"text-xs text-slate-500 mb-2 truncate",children:y.description}),l.jsxs("p",{className:"text-xs text-slate-400",children:["Created ",new Date(y.created_at).toLocaleDateString()]})]})]},y.id))]})}),l.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs(Go,{className:"h-12 w-12 ring-2 ring-white shadow-md",children:[l.jsx(Ko,{src:""}),l.jsx(Jo,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white font-semibold",children:((g=(p=m==null?void 0:m.email)==null?void 0:p[0])==null?void 0:g.toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-semibold text-slate-900 truncate",children:((v=m==null?void 0:m.email)==null?void 0:v.split("@")[0])||"User"}),l.jsxs("div",{className:"flex items-center mt-1",children:[l.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full mr-2"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Online"})]})]})]})})]})}):null},jv=({type:e,onBrowseRooms:t})=>e==="not-signed-in"?l.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 pb-20",children:l.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md mx-auto border border-slate-200",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(It,{className:"h-10 w-10 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Welcome to Chat"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Please log in to start chatting with your study groups."}),l.jsx(K,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700",children:"Get Started"})]})}):l.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:l.jsx("div",{className:"text-center max-w-md mx-auto",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-slate-200",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(It,{className:"h-10 w-10 text-white"})}),l.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Welcome to StudySphere Chat"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Connect with your study groups and collaborate in real-time."}),t&&l.jsxs(K,{onClick:t,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-md",children:[l.jsx(uo,{className:"h-4 w-4 mr-2"}),"Browse Rooms"]})]})})});var s4="Label",D1=h.forwardRef((e,t)=>l.jsx(Q.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));D1.displayName=s4;var L1=D1;const o4=vp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=h.forwardRef(({className:e,...t},n)=>l.jsx(L1,{ref:n,className:se(o4(),e),...t}));Le.displayName=L1.displayName;var Ip="Tabs",[i4,N3]=$r(Ip,[iu]),$1=iu(),[a4,Dp]=i4(Ip),F1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=_a(a),[f,m]=Ao({prop:r,onChange:s,defaultProp:o});return l.jsx(a4,{scope:n,baseId:kn(),value:f,onValueChange:m,orientation:i,dir:d,activationMode:c,children:l.jsx(Q.div,{dir:d,"data-orientation":i,...u,ref:t})})});F1.displayName=Ip;var U1="TabsList",z1=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Dp(U1,n),i=$1(n);return l.jsx(Tb,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(Q.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});z1.displayName=U1;var B1="TabsTrigger",W1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Dp(B1,n),a=$1(n),c=q1(i.baseId,r),u=G1(i.baseId,r),d=r===i.value;return l.jsx(Ab,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(Q.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:H(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:H(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:H(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});W1.displayName=B1;var H1="TabsContent",V1=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=Dp(H1,n),c=q1(a.baseId,r),u=G1(a.baseId,r),d=r===a.value,f=h.useRef(d);return h.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),l.jsx(Et,{present:s||d,children:({present:m})=>l.jsx(Q.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});V1.displayName=H1;function q1(e,t){return`${e}-trigger-${t}`}function G1(e,t){return`${e}-content-${t}`}var l4=F1,K1=z1,J1=W1,Y1=V1;const Q1=l4,Lp=h.forwardRef(({className:e,...t},n)=>l.jsx(K1,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Lp.displayName=K1.displayName;const ho=h.forwardRef(({className:e,...t},n)=>l.jsx(J1,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ho.displayName=J1.displayName;const po=h.forwardRef(({className:e,...t},n)=>l.jsx(Y1,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));po.displayName=Y1.displayName;const c4=({roomId:e,roomName:t})=>{const{user:n}=it(),[r,s]=h.useState(!1),[o,i]=h.useState([]),[a,c]=h.useState(new Set),[u,d]=h.useState(""),[f,m]=h.useState(""),[p,g]=h.useState(!1),v=async()=>{if(n)try{const{data:_,error:j}=await U.from("friends").select("*").or(`user_id.eq.${n.id},friend_id.eq.${n.id}`).eq("status","accepted").order("created_at",{ascending:!1});if(j)throw j;const N=new Set;_==null||_.forEach(A=>{N.add(A.user_id),N.add(A.friend_id)});const{data:k}=await U.from("profiles").select("id, username, email, avatar_url").in("id",Array.from(N)),E=new Map;k==null||k.forEach(A=>{E.set(A.id,A)});const C=(_||[]).map(A=>({...A,status:A.status,friend_profile:E.get(A.friend_id)||null,user_profile:E.get(A.user_id)||null}));i(C)}catch(_){console.error("Error in fallback fetch:",_),W.error("Failed to load friends")}},y=async()=>{if(n)try{const _=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),j=new Date(Date.now()+7*24*60*60*1e3).toISOString(),{error:N}=await U.from("chat_room_invitations").insert({room_id:e,invited_by:n.id,invitation_code:_,expires_at:j});if(N)throw N;const k=`${window.location.origin}/join-room/${_}`;return m(k),k}catch(_){return console.error("Error generating invite link:",_),W.error("Failed to generate invite link"),null}},w=async()=>{if(!(!n||a.size===0)){g(!0);try{const _=Array.from(a).map(N=>({room_id:e,invited_by:n.id,invited_user:N})),{error:j}=await U.from("chat_room_invitations").insert(_);if(j)throw j;W.success(`Invited ${a.size} friend(s) to ${t}`),c(new Set),s(!1)}catch(_){console.error("Error inviting friends:",_),W.error("Failed to send invitations")}finally{g(!1)}}},x=async()=>{if(!(!n||!u.trim())){g(!0);try{const{error:_}=await U.from("chat_room_invitations").insert({room_id:e,invited_by:n.id,email:u.trim()});if(_)throw _;W.success(`Invitation sent to ${u}`),d("")}catch(_){console.error("Error sending email invitation:",_),W.error("Failed to send invitation")}finally{g(!1)}}},b=async()=>{let _=f;if(!(!_&&(_=await y(),!_)))try{await navigator.clipboard.writeText(_),W.success("Invite link copied to clipboard!")}catch(j){console.error("Error copying to clipboard:",j),W.error("Failed to copy link")}};h.useEffect(()=>{r&&v()},[r,n]);const S=_=>{const j=_.friend_id===(n==null?void 0:n.id),N=j?_.user_profile:_.friend_profile,k=j?_.user_id:_.friend_id;return{profile:N,friendUserId:k}};return l.jsxs(zr,{open:r,onOpenChange:s,children:[l.jsx(Sa,{asChild:!0,children:l.jsxs(K,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0 shadow-sm transition-all duration-200 hover:shadow-md hover:from-blue-600 hover:to-purple-600",children:[l.jsx(If,{className:"h-4 w-4 mr-2"}),"Invite"]})}),l.jsxs(Br,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[l.jsx(Wr,{children:l.jsxs(Hr,{children:["Invite to ",t]})}),l.jsxs(Q1,{defaultValue:"friends",className:"flex-1 overflow-hidden flex flex-col",children:[l.jsxs(Lp,{className:"grid w-full grid-cols-3",children:[l.jsx(ho,{value:"friends",children:"Friends"}),l.jsx(ho,{value:"email",children:"Email"}),l.jsx(ho,{value:"link",children:"Link"})]}),l.jsxs(po,{value:"friends",className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[l.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:o.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(Dt,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),l.jsx("p",{children:"No friends available"}),l.jsx("p",{className:"text-sm",children:"Add friends first to invite them"})]}):o.map(_=>{var E,C,A,M,O;const{profile:j,friendUserId:N}=S(_),k=a.has(N);return l.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${k?"bg-blue-50 border-blue-200 border":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>{const L=new Set(a);k?L.delete(N):L.add(N),c(L)},children:[l.jsxs(Go,{className:"h-10 w-10",children:[l.jsx(Ko,{src:j==null?void 0:j.avatar_url}),l.jsx(Jo,{children:((C=(E=j==null?void 0:j.username)==null?void 0:E[0])==null?void 0:C.toUpperCase())||((M=(A=j==null?void 0:j.email)==null?void 0:A[0])==null?void 0:M.toUpperCase())||"U"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-sm",children:(j==null?void 0:j.username)||((O=j==null?void 0:j.email)==null?void 0:O.split("@")[0])||"Unknown"}),l.jsx("p",{className:"text-xs text-gray-600",children:j==null?void 0:j.email})]}),k&&l.jsx(Ot,{variant:"default",className:"text-xs",children:"Selected"})]},_.id)})}),a.size>0&&l.jsxs(K,{onClick:w,disabled:p,className:"w-full",children:["Invite ",a.size," Friend(s)"]})]}),l.jsxs(po,{value:"email",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"email",children:"Email Address"}),l.jsx(Oe,{id:"email",type:"email",placeholder:"Enter email address",value:u,onChange:_=>d(_.target.value),onKeyPress:_=>_.key==="Enter"&&x()})]}),l.jsxs(K,{onClick:x,disabled:p||!u.trim(),className:"w-full",children:[l.jsx(Mf,{className:"h-4 w-4 mr-2"}),"Send Invitation"]})]}),l.jsxs(po,{value:"link",className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{children:"Shareable Link"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Oe,{value:f||"Click generate to create invite link",readOnly:!0,className:"flex-1"}),l.jsx(K,{onClick:b,variant:"outline",children:l.jsx(qw,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-xs text-gray-600",children:"Anyone with this link can join the room. Links expire in 7 days."})]})]})]})]})},u4=()=>{const{user:e}=it(),[t,n]=h.useState([]),[r,s]=h.useState(null),[o,i]=h.useState([]),[a,c]=h.useState(""),[u,d]=h.useState(!0),[f,m]=h.useState(!1),[p,g]=h.useState(""),[v,y]=h.useState(""),[w,x]=h.useState(!1),b=async()=>{try{console.log("Fetching chat rooms...");const{data:E,error:C}=await U.from("chat_rooms").select("*").eq("is_active",!0).order("created_at");if(C){console.error("Error fetching chat rooms:",C),W.error(`Failed to load chat rooms: ${C.message}`);return}console.log("Chat rooms fetched successfully:",E),n(E||[]),E&&E.length>0&&!r&&s(E[0])}catch(E){console.error("Unexpected error:",E),W.error("An unexpected error occurred while fetching chat rooms")}finally{d(!1)}},S=async()=>{if(r)try{console.log("Fetching messages for room:",r.id);const{data:E,error:C}=await U.from("chat_messages").select("*").eq("room_id",r.id).order("created_at");if(C){console.error("Error fetching messages:",C),W.error(`Failed to load messages: ${C.message}`);return}const A=[...new Set((E==null?void 0:E.map(z=>z.user_id))||[])],{data:M,error:O}=await U.from("profiles").select("id, username, email").in("id",A);O&&console.error("Error fetching profiles:",O);const L=new Map;M==null||M.forEach(z=>{L.set(z.id,z)});const J=(E||[]).map(z=>{var T,P;const V=L.get(z.user_id);return{...z,username:(V==null?void 0:V.username)||((T=V==null?void 0:V.email)==null?void 0:T.split("@")[0])||"Unknown User",display_name:(V==null?void 0:V.username)||((P=V==null?void 0:V.email)==null?void 0:P.split("@")[0])||"Unknown User",avatar_url:null}});console.log("Messages fetched successfully:",J),i(J)}catch(E){console.error("Unexpected error:",E),W.error("An unexpected error occurred while fetching messages")}},_=async()=>{if(!(!a.trim()||!r||!e))try{console.log("Sending message:",{content:a.trim(),room_id:r.id,user_id:e.id});const{error:E}=await U.from("chat_messages").insert({content:a.trim(),room_id:r.id,user_id:e.id});if(E){console.error("Error sending message:",E),W.error(`Failed to send message: ${E.message}`);return}console.log("Message sent successfully"),c("")}catch(E){console.error("Unexpected error:",E),W.error("An unexpected error occurred while sending message")}},j=async()=>{if(!p.trim()||!e){console.log("Create room validation failed:",{name:p.trim(),user:!!e}),W.error("Please enter a room name and ensure you are logged in");return}try{console.log("Creating room with data:",{name:p.trim(),description:v.trim()||null,created_by:e.id,is_active:!0});const{data:E,error:C}=await U.from("chat_rooms").insert({name:p.trim(),description:v.trim()||null,created_by:e.id,is_active:!0}).select().single();if(C){console.error("Detailed error creating room:",{message:C.message,details:C.details,hint:C.hint,code:C.code}),W.error(`Failed to create room: ${C.message}`);return}console.log("Room created successfully:",E),g(""),y(""),m(!1),b(),W.success("Room created successfully!")}catch(E){console.error("Unexpected error creating room:",E),W.error("An unexpected error occurred while creating the room")}},N=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),_())},k=E=>{console.log("Selecting room:",E),s(E),i([]),x(!1)};return h.useEffect(()=>{console.log("Component mounted, user:",e),b()},[]),h.useEffect(()=>{S()},[r]),h.useEffect(()=>{if(!r)return;console.log("Setting up real-time subscription for room:",r.id);const E=U.channel(`chat-messages-${r.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room_id=eq.${r.id}`},C=>{console.log("Real-time message received:",C),S()}).subscribe();return()=>{console.log("Cleaning up message subscription"),U.removeChannel(E)}},[r]),h.useEffect(()=>{console.log("Setting up real-time subscription for room updates");const E=U.channel("chat-rooms-updates").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_rooms"},C=>{console.log("Real-time room update received:",C),b()}).subscribe();return()=>{console.log("Cleaning up room subscription"),U.removeChannel(E)}},[]),u?l.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-slate-50 to-blue-50 px-4 pb-20",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Loading Chat"}),l.jsx("p",{className:"text-slate-600",children:"Connecting to your conversations..."})]})}):e?l.jsxs("div",{className:"h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 flex flex-col pb-20",children:[l.jsx("div",{className:"bg-white border-b border-slate-200 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[r&&l.jsx(K,{variant:"ghost",size:"sm",className:"lg:hidden text-slate-600 hover:text-slate-900 hover:bg-slate-100",onClick:()=>x(!0),children:l.jsx(nA,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:l.jsx(uo,{className:"h-5 w-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-slate-900",children:r?r.name:"StudySphere Chat"}),l.jsx("p",{className:"text-sm text-slate-500",children:r?r.description||"Study group chat":"Select a room to start chatting"})]})]})]}),l.jsx("div",{className:"flex items-center space-x-3",children:r&&l.jsxs(l.Fragment,{children:[l.jsx(K,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900",children:l.jsx(ps,{className:"h-4 w-4"})}),l.jsx(c4,{roomId:r.id,roomName:r.name}),l.jsx(K,{variant:"ghost",size:"sm",className:"text-slate-600 hover:text-slate-900",children:l.jsx(aA,{className:"h-4 w-4"})})]})})]})}),l.jsx(r4,{show:w,chatRooms:t,activeRoom:r,onClose:()=>x(!1),onSelectRoom:k,onCreateRoom:j,newRoomName:p,newRoomDescription:v,setNewRoomName:g,setNewRoomDescription:y,isCreateRoomOpen:f,setIsCreateRoomOpen:m}),r?l.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[l.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:o.length===0?l.jsx("div",{className:"text-center py-16",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200 max-w-md mx-auto",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(It,{className:"h-8 w-8 text-blue-600"})}),l.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-3",children:"Start the Conversation"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Be the first to share an idea, ask a question, or just say hello!"}),l.jsx("div",{className:"text-sm text-slate-500",children:"Type @ to mention someone"})]})}):o.map(E=>l.jsx(t4,{message:E,currentUserId:(e==null?void 0:e.id)||""},E.id))}),l.jsx("div",{className:"bg-white border-t border-slate-200 p-6",children:l.jsx("div",{className:"max-w-4xl mx-auto",children:l.jsx(QI,{value:a,onChange:c,onSend:_,onKeyPress:N,placeholder:`Message #${r.name}`,disabled:!1})})})]}):l.jsx(jv,{type:"no-room-selected",onBrowseRooms:()=>x(!0)})]}):l.jsx(jv,{type:"not-signed-in"})},Ve=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ve.displayName="Card";const Na=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));Na.displayName="CardHeader";const cu=h.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));cu.displayName="CardTitle";const X1=h.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));X1.displayName="CardDescription";const qe=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));qe.displayName="CardContent";const d4=h.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));d4.displayName="CardFooter";const Cv=({session:e,isUserInSession:t,onJoinSession:n,onLeaveSession:r,onShareSession:s,onOpenSession:o})=>{var a,c,u;const i=e.is_active&&e.status==="live";return l.jsx(Ve,{className:`group relative overflow-hidden border-0 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-[1.02] ${i?"bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 ring-2 ring-green-200":"bg-gradient-to-br from-blue-50 via-indigo-50 to-blue-100 ring-2 ring-blue-200"} rounded-2xl`,children:l.jsxs(qe,{className:"p-6 relative",children:[l.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 opacity-10 ${i?"bg-green-500":"bg-blue-500"} rounded-full transform translate-x-16 -translate-y-16`}),l.jsxs("div",{className:"flex items-start justify-between mb-4 relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center ${i?"bg-green-500 animate-pulse":"bg-blue-500"}`,children:i&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h4",{className:`font-bold text-lg leading-tight mb-1 ${i?"text-green-900":"text-blue-900"}`,children:e.title}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(sa,{className:`h-4 w-4 ${i?"text-green-600":"text-blue-600"}`}),l.jsx("span",{className:`text-sm font-medium ${i?"text-green-700":"text-blue-700"}`,children:e.subject})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[l.jsx(Ot,{className:`${i?"bg-green-600 hover:bg-green-700 text-white shadow-md":"bg-blue-600 hover:bg-blue-700 text-white shadow-md"} px-3 py-1 rounded-xl font-medium transition-colors duration-200`,children:i?l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),l.jsx("span",{children:"Live"})]}):l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(cc,{className:"h-3 w-3"}),l.jsx("span",{children:"Scheduled"})]})}),l.jsx(K,{variant:"ghost",size:"sm",onClick:()=>s(e),className:`h-9 w-9 p-0 rounded-xl transition-all duration-200 ${i?"hover:bg-green-200 text-green-700":"hover:bg-blue-200 text-blue-700"}`,children:l.jsx(lA,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"mb-4 relative z-10",children:l.jsx("p",{className:`text-sm leading-relaxed ${i?"text-green-800":"text-blue-800"}`,children:e.description||"Join this study session to collaborate with other learners."})}),l.jsxs("div",{className:"flex items-center justify-between mb-6 relative z-10",children:[l.jsxs("div",{className:`flex items-center space-x-2 text-sm ${i?"text-green-700":"text-blue-700"}`,children:[l.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center ${i?"bg-green-200":"bg-blue-200"}`,children:l.jsx(Dt,{className:"h-4 w-4"})}),l.jsxs("span",{className:"font-medium",children:[((a=e.session_participants)==null?void 0:a.length)||0,"/",e.max_participants]}),l.jsx("span",{className:"text-xs opacity-75",children:"participants"})]}),l.jsx("div",{className:`flex items-center space-x-2 text-xs ${i?"text-green-600":"text-blue-600"}`,children:i?l.jsxs(l.Fragment,{children:[l.jsx(tu,{className:"h-3 w-3"}),l.jsx("span",{children:"Live now"})]}):l.jsxs(l.Fragment,{children:[l.jsx(hp,{className:"h-3 w-3"}),l.jsx("span",{children:e.scheduled_for?new Date(e.scheduled_for).toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Not scheduled"})]})})]}),l.jsxs("div",{className:`text-xs mb-4 flex items-center space-x-2 ${i?"text-green-600":"text-blue-600"} relative z-10`,children:[l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${i?"bg-green-600":"bg-blue-600"}`,children:(((c=e.profiles)==null?void 0:c.username)||"U")[0].toUpperCase()}),l.jsxs("span",{children:["Created by ",((u=e.profiles)==null?void 0:u.username)||"Unknown User"]})]}),l.jsx("div",{className:"flex space-x-3 relative z-10",children:t?l.jsxs(l.Fragment,{children:[l.jsx(K,{size:"sm",className:`flex-1 rounded-xl shadow-md hover:shadow-lg transition-all duration-200 ${i?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,onClick:()=>o(e.session_url),children:i?l.jsxs(l.Fragment,{children:[l.jsx(Kn,{className:"h-4 w-4 mr-2"}),"Join Session"]}):l.jsxs(l.Fragment,{children:[l.jsx(ZT,{className:"h-4 w-4 mr-2"}),"View Session"]})}),l.jsx(K,{size:"sm",variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400 rounded-xl transition-all duration-200",onClick:()=>r(e.id),children:"Leave"})]}):l.jsxs(K,{size:"sm",className:`w-full rounded-xl shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 ${i?"bg-green-600 hover:bg-green-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white border-2 border-blue-200"}`,onClick:()=>n(e.id),children:[l.jsx(Dt,{className:"h-4 w-4 mr-2"}),i?"Join Live Session":"Join When Live"]})})]})})};function Ff(e,[t,n]){return Math.min(n,Math.max(t,e))}function f4(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var h4=[" ","Enter","ArrowUp","ArrowDown"],p4=[" ","Enter"],ka="Select",[uu,du,m4]=jp(ka),[Yo,k3]=$r(ka,[m4,Bo]),fu=Bo(),[g4,Vr]=Yo(ka),[v4,y4]=Yo(ka),Z1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:g}=e,v=fu(t),[y,w]=h.useState(null),[x,b]=h.useState(null),[S,_]=h.useState(!1),j=_a(u),[N=!1,k]=Ao({prop:r,defaultProp:s,onChange:o}),[E,C]=Ao({prop:i,defaultProp:a,onChange:c}),A=h.useRef(null),M=y?g||!!y.closest("form"):!0,[O,L]=h.useState(new Set),J=Array.from(O).map(z=>z.props.value).join(";");return l.jsx(Ix,{...v,children:l.jsxs(g4,{required:p,scope:t,trigger:y,onTriggerChange:w,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:kn(),value:E,onValueChange:C,open:N,onOpenChange:k,dir:j,triggerPointerDownPosRef:A,disabled:m,children:[l.jsx(uu.Provider,{scope:t,children:l.jsx(v4,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(z=>{L(V=>new Set(V).add(z))},[]),onNativeOptionRemove:h.useCallback(z=>{L(V=>{const T=new Set(V);return T.delete(z),T})},[]),children:n})}),M?l.jsxs(jS,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:z=>C(z.target.value),disabled:m,form:g,children:[E===void 0?l.jsx("option",{value:""}):null,Array.from(O)]},J):null]})})};Z1.displayName=ka;var eS="SelectTrigger",tS=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=fu(n),i=Vr(eS,n),a=i.disabled||r,c=ce(t,i.onTriggerChange),u=du(n),d=h.useRef("touch"),[f,m,p]=CS(v=>{const y=u().filter(b=>!b.disabled),w=y.find(b=>b.value===i.value),x=ES(y,v,w);x!==void 0&&i.onValueChange(x.value)}),g=v=>{a||(i.onOpenChange(!0),p()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return l.jsx(Zh,{asChild:!0,...o,children:l.jsx(Q.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_S(i.value)?"":void 0,...s,ref:c,onClick:H(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&g(v)}),onPointerDown:H(s.onPointerDown,v=>{d.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:H(s.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(y&&v.key===" ")&&h4.includes(v.key)&&(g(),v.preventDefault())})})})});tS.displayName=eS;var nS="SelectValue",rS=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Vr(nS,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ce(t,c.onValueNodeChange);return Ge(()=>{u(d)},[u,d]),l.jsx(Q.span,{...a,ref:f,style:{pointerEvents:"none"},children:_S(c.value)?l.jsx(l.Fragment,{children:i}):o})});rS.displayName=nS;var x4="SelectIcon",sS=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(Q.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});sS.displayName=x4;var w4="SelectPortal",oS=e=>l.jsx(Fc,{asChild:!0,...e});oS.displayName=w4;var _s="SelectContent",iS=h.forwardRef((e,t)=>{const n=Vr(_s,e.__scopeSelect),[r,s]=h.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Fo.createPortal(l.jsx(aS,{scope:e.__scopeSelect,children:l.jsx(uu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(lS,{...e,ref:t})});iS.displayName=_s;var rn=10,[aS,qr]=Yo(_s),b4="SelectContentImpl",lS=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:y,...w}=e,x=Vr(_s,n),[b,S]=h.useState(null),[_,j]=h.useState(null),N=ce(t,B=>S(B)),[k,E]=h.useState(null),[C,A]=h.useState(null),M=du(n),[O,L]=h.useState(!1),J=h.useRef(!1);h.useEffect(()=>{if(b)return xp(b)},[b]),yp();const z=h.useCallback(B=>{const[he,...pe]=M().map(me=>me.ref.current),[ue]=pe.slice(-1),de=document.activeElement;for(const me of B)if(me===de||(me==null||me.scrollIntoView({block:"nearest"}),me===he&&_&&(_.scrollTop=0),me===ue&&_&&(_.scrollTop=_.scrollHeight),me==null||me.focus(),document.activeElement!==de))return},[M,_]),V=h.useCallback(()=>z([k,b]),[z,k,b]);h.useEffect(()=>{O&&V()},[O,V]);const{onOpenChange:T,triggerPointerDownPosRef:P}=x;h.useEffect(()=>{if(b){let B={x:0,y:0};const he=ue=>{var de,me;B={x:Math.abs(Math.round(ue.pageX)-(((de=P.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((me=P.current)==null?void 0:me.y)??0))}},pe=ue=>{B.x<=10&&B.y<=10?ue.preventDefault():b.contains(ue.target)||T(!1),document.removeEventListener("pointermove",he),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",pe,{capture:!0})}}},[b,T,P]),h.useEffect(()=>{const B=()=>T(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[T]);const[$,Y]=CS(B=>{const he=M().filter(de=>!de.disabled),pe=he.find(de=>de.ref.current===document.activeElement),ue=ES(he,B,pe);ue&&setTimeout(()=>ue.ref.current.focus())}),G=h.useCallback((B,he,pe)=>{const ue=!J.current&&!pe;(x.value!==void 0&&x.value===he||ue)&&(E(B),ue&&(J.current=!0))},[x.value]),oe=h.useCallback(()=>b==null?void 0:b.focus(),[b]),Z=h.useCallback((B,he,pe)=>{const ue=!J.current&&!pe;(x.value!==void 0&&x.value===he||ue)&&A(B)},[x.value]),ye=r==="popper"?Uf:cS,xe=ye===Uf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return l.jsx(aS,{scope:n,content:b,viewport:_,onViewportChange:j,itemRefCallback:G,selectedItem:k,onItemLeave:oe,itemTextRefCallback:Z,focusSelectedItem:V,selectedItemText:C,position:r,isPositioned:O,searchRef:$,children:l.jsx(su,{as:Rr,allowPinchZoom:!0,children:l.jsx(nu,{asChild:!0,trapped:x.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:H(s,B=>{var he;(he=x.trigger)==null||he.focus({preventScroll:!0}),B.preventDefault()}),children:l.jsx(ma,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:l.jsx(ye,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:B=>B.preventDefault(),...w,...xe,onPlaced:()=>L(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:H(w.onKeyDown,B=>{const he=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!he&&B.key.length===1&&Y(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ue=M().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const de=B.target,me=ue.indexOf(de);ue=ue.slice(me+1)}setTimeout(()=>z(ue)),B.preventDefault()}})})})})})})});lS.displayName=b4;var S4="SelectItemAlignedPosition",cS=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Vr(_s,n),i=qr(_s,n),[a,c]=h.useState(null),[u,d]=h.useState(null),f=ce(t,N=>d(N)),m=du(n),p=h.useRef(!1),g=h.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:x}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&y&&w){const N=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),C=w.getBoundingClientRect();if(o.dir!=="rtl"){const de=C.left-k.left,me=E.left-de,Xe=N.left-me,Ft=N.width+Xe,Gr=Math.max(Ft,k.width),Yn=window.innerWidth-rn,Kr=Ff(me,[rn,Math.max(rn,Yn-Gr)]);a.style.minWidth=Ft+"px",a.style.left=Kr+"px"}else{const de=k.right-C.right,me=window.innerWidth-E.right-de,Xe=window.innerWidth-N.right-me,Ft=N.width+Xe,Gr=Math.max(Ft,k.width),Yn=window.innerWidth-rn,Kr=Ff(me,[rn,Math.max(rn,Yn-Gr)]);a.style.minWidth=Ft+"px",a.style.right=Kr+"px"}const A=m(),M=window.innerHeight-rn*2,O=v.scrollHeight,L=window.getComputedStyle(u),J=parseInt(L.borderTopWidth,10),z=parseInt(L.paddingTop,10),V=parseInt(L.borderBottomWidth,10),T=parseInt(L.paddingBottom,10),P=J+z+O+T+V,$=Math.min(y.offsetHeight*5,P),Y=window.getComputedStyle(v),G=parseInt(Y.paddingTop,10),oe=parseInt(Y.paddingBottom,10),Z=N.top+N.height/2-rn,ye=M-Z,xe=y.offsetHeight/2,B=y.offsetTop+xe,he=J+z+B,pe=P-he;if(he<=Z){const de=A.length>0&&y===A[A.length-1].ref.current;a.style.bottom="0px";const me=u.clientHeight-v.offsetTop-v.offsetHeight,Xe=Math.max(ye,xe+(de?oe:0)+me+V),Ft=he+Xe;a.style.height=Ft+"px"}else{const de=A.length>0&&y===A[0].ref.current;a.style.top="0px";const Xe=Math.max(Z,J+v.offsetTop+(de?G:0)+xe)+pe;a.style.height=Xe+"px",v.scrollTop=he-Z+v.offsetTop}a.style.margin=`${rn}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,o.trigger,o.valueNode,a,u,v,y,w,o.dir,r]);Ge(()=>b(),[b]);const[S,_]=h.useState();Ge(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(N=>{N&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return l.jsx(j4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(Q.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});cS.displayName=S4;var _4="SelectPopperPosition",Uf=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=rn,...o}=e,i=fu(n);return l.jsx(ep,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Uf.displayName=_4;var[j4,$p]=Yo(_s,{}),zf="SelectViewport",uS=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=qr(zf,n),i=$p(zf,n),a=ce(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(uu.Slot,{scope:n,children:l.jsx(Q.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:H(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-rn*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),w=Math.max(v,y);if(w<g){const x=w+p,b=Math.min(g,x),S=x-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});uS.displayName=zf;var dS="SelectGroup",[C4,E4]=Yo(dS),N4=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kn();return l.jsx(C4,{scope:n,id:s,children:l.jsx(Q.div,{role:"group","aria-labelledby":s,...r,ref:t})})});N4.displayName=dS;var fS="SelectLabel",hS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=E4(fS,n);return l.jsx(Q.div,{id:s.id,...r,ref:t})});hS.displayName=fS;var pc="SelectItem",[k4,pS]=Yo(pc),mS=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Vr(pc,n),c=qr(pc,n),u=a.value===r,[d,f]=h.useState(o??""),[m,p]=h.useState(!1),g=ce(t,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,r,s)}),v=kn(),y=h.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(k4,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:h.useCallback(x=>{f(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:l.jsx(uu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(Q.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:g,onFocus:H(i.onFocus,()=>p(!0)),onBlur:H(i.onBlur,()=>p(!1)),onClick:H(i.onClick,()=>{y.current!=="mouse"&&w()}),onPointerUp:H(i.onPointerUp,()=>{y.current==="mouse"&&w()}),onPointerDown:H(i.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:H(i.onPointerMove,x=>{var b;y.current=x.pointerType,s?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:H(i.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:H(i.onKeyDown,x=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&x.key===" "||(p4.includes(x.key)&&w(),x.key===" "&&x.preventDefault())})})})})});mS.displayName=pc;var bi="SelectItemText",gS=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Vr(bi,n),a=qr(bi,n),c=pS(bi,n),u=y4(bi,n),[d,f]=h.useState(null),m=ce(t,w=>f(w),c.onItemTextChange,w=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return Ge(()=>(v(g),()=>y(g)),[v,y,g]),l.jsxs(l.Fragment,{children:[l.jsx(Q.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Fo.createPortal(o.children,i.valueNode):null]})});gS.displayName=bi;var vS="SelectItemIndicator",yS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return pS(vS,n).isSelected?l.jsx(Q.span,{"aria-hidden":!0,...r,ref:t}):null});yS.displayName=vS;var Bf="SelectScrollUpButton",xS=h.forwardRef((e,t)=>{const n=qr(Bf,e.__scopeSelect),r=$p(Bf,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,r.onScrollButtonChange);return Ge(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(bS,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});xS.displayName=Bf;var Wf="SelectScrollDownButton",wS=h.forwardRef((e,t)=>{const n=qr(Wf,e.__scopeSelect),r=$p(Wf,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,r.onScrollButtonChange);return Ge(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(bS,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});wS.displayName=Wf;var bS=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=qr("SelectScrollButton",n),i=h.useRef(null),a=du(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ge(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(Q.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:H(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:H(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:H(s.onPointerLeave,()=>{c()})})}),P4="SelectSeparator",SS=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(Q.div,{"aria-hidden":!0,...r,ref:t})});SS.displayName=P4;var Hf="SelectArrow",R4=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=fu(n),o=Vr(Hf,n),i=qr(Hf,n);return o.open&&i.position==="popper"?l.jsx(tp,{...s,...r,ref:t}):null});R4.displayName=Hf;function _S(e){return e===""||e===void 0}var jS=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=h.useRef(null),o=ce(t,s),i=f4(n);return h.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[i,n]),l.jsx(np,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});jS.displayName="BubbleSelect";function CS(e){const t=De(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function ES(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=T4(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function T4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var A4=Z1,NS=tS,O4=rS,M4=sS,I4=oS,kS=iS,D4=uS,PS=hS,RS=mS,L4=gS,$4=yS,TS=xS,AS=wS,OS=SS;const MS=A4,IS=O4,Fp=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(NS,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(M4,{asChild:!0,children:l.jsx(Hw,{className:"h-4 w-4 opacity-50"})})]}));Fp.displayName=NS.displayName;const DS=h.forwardRef(({className:e,...t},n)=>l.jsx(TS,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(QT,{className:"h-4 w-4"})}));DS.displayName=TS.displayName;const LS=h.forwardRef(({className:e,...t},n)=>l.jsx(AS,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Hw,{className:"h-4 w-4"})}));LS.displayName=AS.displayName;const Up=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(I4,{children:l.jsxs(kS,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(DS,{}),l.jsx(D4,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(LS,{})]})}));Up.displayName=kS.displayName;const F4=h.forwardRef(({className:e,...t},n)=>l.jsx(PS,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));F4.displayName=PS.displayName;const ut=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(RS,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx($4,{children:l.jsx(pp,{className:"h-4 w-4"})})}),l.jsx(L4,{children:t})]}));ut.displayName=RS.displayName;const U4=h.forwardRef(({className:e,...t},n)=>l.jsx(OS,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));U4.displayName=OS.displayName;const z4=({isOpen:e,onClose:t,onSubmit:n,formData:r,onFormChange:s,isCreating:o})=>l.jsx(zr,{open:e,onOpenChange:t,children:l.jsxs(Br,{children:[l.jsx(Wr,{children:l.jsx(Hr,{children:"Create Study Session"})}),l.jsxs("form",{onSubmit:n,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"title",children:"Session Title *"}),l.jsx(Oe,{id:"title",value:r.title,onChange:i=>s("title",i.target.value),placeholder:"Enter session title...",required:!0})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"subject",children:"Subject *"}),l.jsxs(MS,{value:r.subject,onValueChange:i=>s("subject",i),required:!0,children:[l.jsx(Fp,{children:l.jsx(IS,{placeholder:"Select subject"})}),l.jsxs(Up,{children:[l.jsx(ut,{value:"Mathematics",children:"Mathematics"}),l.jsx(ut,{value:"Physics",children:"Physics"}),l.jsx(ut,{value:"Chemistry",children:"Chemistry"}),l.jsx(ut,{value:"Biology",children:"Biology"}),l.jsx(ut,{value:"Computer Science",children:"Computer Science"}),l.jsx(ut,{value:"English",children:"English"}),l.jsx(ut,{value:"History",children:"History"}),l.jsx(ut,{value:"General",children:"General"})]})]})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx(Ea,{id:"description",value:r.description,onChange:i=>s("description",i.target.value),placeholder:"Describe what you'll be studying..."})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"max_participants",children:"Max Participants"}),l.jsx(Oe,{id:"max_participants",type:"number",min:"2",max:"50",value:r.max_participants,onChange:i=>s("max_participants",parseInt(i.target.value))})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"scheduled_for",children:"Scheduled For (Optional)"}),l.jsx(Oe,{id:"scheduled_for",type:"datetime-local",value:r.scheduled_for,onChange:i=>s("scheduled_for",i.target.value)})]}),l.jsx(K,{type:"submit",className:"w-full",disabled:o,children:o?"Creating...":"Create Session"})]})]})}),B4=({isOpen:e,onClose:t,session:n})=>{const r=()=>{n!=null&&n.session_url&&(navigator.clipboard.writeText(n.session_url),W.success("Session URL copied to clipboard!"))};return l.jsx(zr,{open:e,onOpenChange:t,children:l.jsxs(Br,{children:[l.jsx(Wr,{children:l.jsx(Hr,{children:"Share Session"})}),n&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:n.title}),l.jsx("p",{className:"text-sm text-gray-600",children:n.description})]}),l.jsxs("div",{children:[l.jsx(Le,{children:"Session URL"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[l.jsx(Oe,{value:n.session_url||"",readOnly:!0,className:"flex-1"}),l.jsx(K,{size:"sm",onClick:r,children:l.jsx(qw,{className:"h-4 w-4"})})]})]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Share this URL with others so they can join your study session."})]})]})})},W4=({sessionTitle:e,participantCount:t,onLeaveSession:n,onCloseSession:r})=>l.jsxs("div",{className:"bg-gray-800 p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-8 h-8 object-contain"}),l.jsx("h1",{className:"text-white text-lg font-semibold",children:e}),l.jsxs("div",{className:"flex items-center space-x-2 text-gray-300",children:[l.jsx(Dt,{className:"h-4 w-4"}),l.jsxs("span",{children:[t," participants"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[r&&l.jsxs(K,{onClick:r,variant:"destructive",className:"bg-red-700 hover:bg-red-800",children:[l.jsx(Jw,{className:"h-4 w-4 mr-2"}),"Close Session"]}),l.jsxs(K,{onClick:n,variant:"outline",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:[l.jsx(iA,{className:"h-4 w-4 mr-2"}),"Leave Session"]})]})]});function H4(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var zp="ScrollArea",[$S,P3]=$r(zp),[V4,Yt]=$S(zp),FS=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[p,g]=h.useState(null),[v,y]=h.useState(null),[w,x]=h.useState(0),[b,S]=h.useState(0),[_,j]=h.useState(!1),[N,k]=h.useState(!1),E=ce(t,A=>c(A)),C=_a(s);return l.jsx(V4,{scope:n,type:r,dir:C,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:S,children:l.jsx(Q.div,{dir:C,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});FS.displayName=zp;var US="ScrollAreaViewport",zS=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,a=Yt(US,n),c=h.useRef(null),u=ce(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),l.jsx(Q.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:tD({asChild:s,children:r},d=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});zS.displayName=US;var An="ScrollAreaScrollbar",Bp=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yt(An,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return h.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(q4,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(G4,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(BS,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Wp,{...r,ref:t}):null});Bp.displayName=An;var q4=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yt(An,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Et,{present:n||o,children:l.jsx(BS,{"data-state":o?"visible":"hidden",...r,ref:t})})}),G4=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Yt(An,e.__scopeScrollArea),o=e.orientation==="horizontal",i=pu(()=>c("SCROLL_END"),100),[a,c]=H4("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),i()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),l.jsx(Et,{present:n||a!=="hidden",children:l.jsx(Wp,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:H(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:H(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),BS=h.forwardRef((e,t)=>{const n=Yt(An,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=h.useState(!1),a=e.orientation==="horizontal",c=pu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return Io(n.viewport,c),Io(n.content,c),l.jsx(Et,{present:r||o,children:l.jsx(Wp,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Wp=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Yt(An,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[a,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=GS(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,p){return Z4(m,i.current,a,p)}return n==="horizontal"?l.jsx(K4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,p=Ev(m,a,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?l.jsx(J4,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,p=Ev(m,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),K4=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Yt(An,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=ce(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(HS,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),JS(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gc(i.paddingLeft),paddingEnd:gc(i.paddingRight)}})}})}),J4=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Yt(An,e.__scopeScrollArea),[i,a]=h.useState(),c=h.useRef(null),u=ce(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(HS,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const m=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),JS(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gc(i.paddingTop),paddingEnd:gc(i.paddingBottom)}})}})}),[Y4,WS]=$S(An),HS=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,p=Yt(An,n),[g,v]=h.useState(null),y=ce(t,E=>v(E)),w=h.useRef(null),x=h.useRef(""),b=p.viewport,S=r.content-r.viewport,_=De(d),j=De(c),N=pu(f,10);function k(E){if(w.current){const C=E.clientX-w.current.left,A=E.clientY-w.current.top;u({x:C,y:A})}}return h.useEffect(()=>{const E=C=>{const A=C.target;(g==null?void 0:g.contains(A))&&_(C,S)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[b,g,S,_]),h.useEffect(j,[r,j]),Io(g,N),Io(p.content,N),l.jsx(Y4,{scope:n,scrollbar:g,hasThumb:s,onThumbChange:De(o),onThumbPointerUp:De(i),onThumbPositionChange:j,onThumbPointerDown:De(a),children:l.jsx(Q.div,{...m,ref:y,style:{position:"absolute",...m.style},onPointerDown:H(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),w.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(E))}),onPointerMove:H(e.onPointerMove,k),onPointerUp:H(e.onPointerUp,E=>{const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),mc="ScrollAreaThumb",VS=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=WS(mc,e.__scopeScrollArea);return l.jsx(Et,{present:n||s.hasThumb,children:l.jsx(Q4,{ref:t,...r})})}),Q4=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Yt(mc,n),i=WS(mc,n),{onThumbPositionChange:a}=i,c=ce(t,f=>i.onThumbChange(f)),u=h.useRef(),d=pu(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(d(),!u.current){const p=eD(f,a);u.current=p,a()}};return a(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,d,a]),l.jsx(Q.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:H(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,v=f.clientY-p.top;i.onThumbPointerDown({x:g,y:v})}),onPointerUp:H(e.onPointerUp,i.onThumbPointerUp)})});VS.displayName=mc;var Hp="ScrollAreaCorner",qS=h.forwardRef((e,t)=>{const n=Yt(Hp,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(X4,{...e,ref:t}):null});qS.displayName=Hp;var X4=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Yt(Hp,n),[o,i]=h.useState(0),[a,c]=h.useState(0),u=!!(o&&a);return Io(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Io(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(Q.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gc(e){return e?parseInt(e,10):0}function GS(e,t){const n=e/t;return isNaN(n)?0:n}function hu(e){const t=GS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Z4(e,t,n,r="ltr"){const s=hu(n),o=s/2,i=t||o,a=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return KS([c,u],f)(e)}function Ev(e,t,n="ltr"){const r=hu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Ff(e,c);return KS([0,i],[0,a])(u)}function KS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function JS(e,t){return e>0&&e<t}var eD=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function pu(e,t){const n=De(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Io(e,t){const n=De(t);Ge(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function tD(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=h.Children.only(r);return h.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var YS=FS,nD=zS,rD=qS;const Vp=h.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(YS,{ref:r,className:se("relative overflow-hidden",e),...n,children:[l.jsx(nD,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(QS,{}),l.jsx(rD,{})]}));Vp.displayName=YS.displayName;const QS=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Bp,{ref:r,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(VS,{className:"relative flex-1 rounded-full bg-border"})}));QS.displayName=Bp.displayName;const sD=({messages:e,newMessage:t,setNewMessage:n,onSendMessage:r,userId:s})=>{const o=a=>{a.preventDefault(),r()},i=a=>new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{className:"w-80 bg-gray-800 border-l border-gray-700 flex flex-col",children:[l.jsx("div",{className:"p-4 border-b border-gray-700",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(It,{className:"h-5 w-5 text-blue-400"}),l.jsx("h3",{className:"text-white font-semibold",children:"Chat"})]})}),l.jsx(Vp,{className:"flex-1 p-4",children:l.jsx("div",{className:"space-y-4",children:e.length===0?l.jsxs("div",{className:"text-center text-gray-400 py-8",children:[l.jsx(It,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No messages yet"}),l.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.map(a=>l.jsxs("div",{className:`flex flex-col space-y-1 ${a.user_id===s?"items-end":"items-start"}`,children:[l.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${a.user_id===s?"bg-blue-600 text-white":"bg-gray-700 text-gray-100"}`,children:l.jsx("p",{className:"text-sm break-words",children:a.content})}),l.jsx("span",{className:"text-xs text-gray-400",children:i(a.created_at)})]},a.id))})}),l.jsx("div",{className:"p-4 border-t border-gray-700",children:l.jsxs("form",{onSubmit:o,className:"flex space-x-2",children:[l.jsx(Oe,{value:t,onChange:a=>n(a.target.value),placeholder:"Type a message...",className:"flex-1 bg-gray-700 border-gray-600 text-white placeholder-gray-400"}),l.jsx(K,{type:"submit",size:"sm",disabled:!t.trim(),className:"bg-blue-600 hover:bg-blue-700",children:l.jsx(mp,{className:"h-4 w-4"})})]})})]})},oD=()=>l.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-16 h-16 object-contain"})}),l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connecting to session..."}),l.jsx("p",{className:"text-gray-400",children:"Loading video conference"})]})}),iD=({error:e,onRetry:t,onLeave:n})=>l.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:l.jsxs("div",{className:"text-center text-white max-w-md mx-auto p-6",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-16 h-16 object-contain"})}),l.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),l.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Connection Error"}),l.jsx("p",{className:"text-gray-300 mb-6",children:e}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Try Again"}),l.jsx("button",{onClick:n,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg transition-colors ml-3",children:"Leave Session"})]})]})}),aD=({sessionId:e,sessionTitle:t,onLeaveSession:n})=>{const{user:r}=it(),[s,o]=h.useState([]),[i,a]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(!0),[m,p]=h.useState(null),[g,v]=h.useState(!1),y=h.useRef(null),w=h.useRef(null),x=h.useRef(!1),b=()=>new Promise((O,L)=>{if(window.JitsiMeetExternalAPI){O();return}const J=document.createElement("script");J.src="https://meet.jit.si/external_api.js",J.async=!0,J.onload=()=>O(),J.onerror=()=>L(new Error("Failed to load Jitsi Meet API")),document.head.appendChild(J)}),S=async()=>{var O;if(!(!r||!y.current||x.current))try{console.log("Initializing Jitsi Meet..."),await b();const L="meet.jit.si",z={roomName:`StudySphere-${e}`,width:"100%",height:"100%",parentNode:y.current,userInfo:{displayName:((O=r.email)==null?void 0:O.split("@")[0])||"Anonymous",email:r.email||""},configOverwrite:{startWithAudioMuted:!0,startWithVideoMuted:!1,enableWelcomePage:!1,prejoinPageEnabled:!1,disableInviteFunctions:!0},interfaceConfigOverwrite:{SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1}};w.current=new window.JitsiMeetExternalAPI(L,z),x.current=!0,w.current.addEventListener("readyToClose",()=>{E()}),w.current.addEventListener("participantJoined",V=>{W.success(`${V.displayName||"Someone"} joined the session`)}),w.current.addEventListener("participantLeft",V=>{W.info(`${V.displayName||"Someone"} left the session`)}),w.current.addEventListener("videoConferenceJoined",()=>{W.success("Successfully joined the video session!")}),console.log("Jitsi Meet initialized successfully")}catch(L){console.error("Error initializing Jitsi Meet:",L),p("Failed to initialize video conference. Please try again.")}},_=async()=>{try{const{data:O,error:L}=await U.from("study_sessions").select("created_by").eq("id",e).single();if(L){console.error("Error checking session creator:",L);return}v((O==null?void 0:O.created_by)===(r==null?void 0:r.id))}catch(O){console.error("Error checking session creator:",O)}},j=async()=>{try{const{data:O,error:L}=await U.from("session_participants").select("session_id, user_id, joined_at").eq("session_id",e);if(L){console.error("Error fetching participants:",L);return}if(O&&O.length>0){const J=O.map(P=>P.user_id),{data:z,error:V}=await U.from("profiles").select("id, username, email").in("id",J);V&&console.error("Error fetching profiles:",V);const T=O.map(P=>({...P,profiles:(z==null?void 0:z.find($=>$.id===P.user_id))||{username:"Unknown User",email:"unknown@example.com"}}));o(T)}}catch(O){console.error("Error fetching participants:",O)}},N=async()=>{try{const{data:O,error:L}=await U.from("chat_messages").select("*").eq("room_id",e).order("created_at",{ascending:!0});if(L){console.error("Error fetching messages:",L);return}a(O||[])}catch(O){console.error("Error fetching messages:",O)}},k=async()=>{if(!(!c.trim()||!r))try{const{error:O}=await U.from("chat_messages").insert({content:c.trim(),room_id:e,user_id:r.id});if(O){console.error("Error sending message:",O),W.error("Failed to send message");return}u(""),N()}catch(O){console.error("Error sending message:",O),W.error("An unexpected error occurred")}},E=async()=>{try{console.log("Leaving session..."),w.current&&(w.current.dispose(),w.current=null);const{error:O}=await U.from("session_participants").delete().eq("session_id",e).eq("user_id",r==null?void 0:r.id);O&&console.error("Error leaving session:",O),n()}catch(O){console.error("Error leaving session:",O),n()}},C=async()=>{try{console.log("Closing session...");const{error:O}=await U.from("study_sessions").update({is_active:!1,end_time:new Date().toISOString()}).eq("id",e);if(O){console.error("Error closing session:",O),W.error("Failed to close session");return}const{error:L}=await U.from("session_participants").delete().eq("session_id",e);L&&console.error("Error removing participants:",L),W.success("Session closed successfully"),n()}catch(O){console.error("Error closing session:",O),W.error("An unexpected error occurred")}},A=async()=>{p(null),f(!0),x.current=!1,w.current&&(w.current.dispose(),w.current=null),setTimeout(()=>{M()},1e3)},M=async()=>{try{if(f(!0),p(null),console.log("Initializing session for user:",r==null?void 0:r.id,"session:",e),!r)throw new Error("User not authenticated");await Promise.all([_(),j(),N(),S()]),console.log("Session initialized successfully")}catch(O){console.error("Failed to initialize session:",O),p("Failed to initialize video session. Please try again.")}finally{f(!1)}};return h.useEffect(()=>{if(!r||!e)return;const O=U.channel(`session-participants-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"session_participants",filter:`session_id=eq.${e}`},()=>{j()}).subscribe(),L=U.channel(`session-messages-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},J=>{J.new.room_id===e&&N()}).subscribe();return()=>{U.removeChannel(O),U.removeChannel(L)}},[e,r]),h.useEffect(()=>(r&&e&&M(),()=>{w.current&&(w.current.dispose(),w.current=null)}),[e,r]),m?l.jsx(iD,{error:m,onRetry:A,onLeave:n}):d?l.jsx(oD,{}):l.jsxs("div",{className:"h-screen flex flex-col bg-gray-900",children:[l.jsx(W4,{sessionTitle:t,participantCount:s.length,onLeaveSession:E,onCloseSession:g?C:void 0}),l.jsxs("div",{className:"flex-1 flex",children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{ref:y,className:"w-full h-full",style:{minHeight:"400px"}})}),l.jsx(sD,{messages:i,newMessage:c,setNewMessage:u,onSendMessage:k,userId:r==null?void 0:r.id})]})]})},lD=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(null),[m,p]=h.useState(null),[g,v]=h.useState({title:"",subject:"",description:"",max_participants:10,scheduled_for:""}),{user:y}=it();h.useEffect(()=>{w();const C=U.channel("study-sessions-changes").on("postgres_changes",{event:"*",schema:"public",table:"study_sessions"},()=>{w()}).on("postgres_changes",{event:"*",schema:"public",table:"session_participants"},()=>{w()}).subscribe();return()=>{U.removeChannel(C)}},[]);const w=async()=>{try{console.log("Fetching study sessions...");const{data:C,error:A}=await U.from("study_sessions").select(`
          id,
          title,
          subject,
          description,
          is_active,
          max_participants,
          created_at,
          scheduled_for,
          start_time,
          created_by,
          session_participants (
            session_id,
            user_id,
            joined_at
          )
        `).order("created_at",{ascending:!1});if(A){console.error("Error fetching study sessions:",A),W.error("Failed to fetch study sessions. Please refresh the page.");return}console.log("Sessions data fetched:",(C==null?void 0:C.length)||0,"sessions");const{data:M,error:O}=await U.from("profiles").select("id, username");O&&console.error("Error fetching profiles:",O);const L=(C||[]).map(J=>({...J,session_url:`${window.location.origin}/session/${J.id}`,status:J.is_active?"live":"scheduled",profiles:(M==null?void 0:M.find(z=>z.id===J.created_by))||{username:"Unknown User"},session_participants:J.session_participants||[]}));t(L)}catch(C){console.error("Unexpected error fetching study sessions:",C),W.error("An unexpected error occurred while loading sessions.")}finally{r(!1)}},x=async C=>{var A;if(C.preventDefault(),!y){W.error("You must be logged in to create a session");return}if(!g.title.trim()){W.error("Please enter a session title");return}if(!g.subject){W.error("Please select a subject");return}a(!0);try{const{data:M,error:O}=await U.from("study_sessions").insert({title:g.title.trim(),subject:g.subject,description:g.description.trim(),max_participants:g.max_participants,scheduled_for:g.scheduled_for||null,start_time:new Date().toISOString(),created_by:y.id,is_active:!0}).select().single();if(O){console.error("Error creating session:",O),W.error(`Failed to create session: ${O.message}`);return}console.log("Session created successfully:",M),await b(M.id),W.success("Study session created successfully!"),o(!1),v({title:"",subject:"",description:"",max_participants:10,scheduled_for:""}),f({...M,session_url:`${window.location.origin}/session/${M.id}`,status:"live",session_participants:[],profiles:{username:((A=y.email)==null?void 0:A.split("@")[0])||"You"}}),u(!0)}catch(M){console.error("Unexpected error creating session:",M),W.error("An unexpected error occurred while creating the session.")}finally{a(!1)}},b=async C=>{if(!y){W.error("You must be logged in to join a session");return}try{console.log("Joining session:",C,"as user:",y.id);const{data:A}=await U.from("session_participants").select("*").eq("session_id",C).eq("user_id",y.id).single();if(A){console.log("User already in session, proceeding to video"),W.info("Joining session...");const L=e.find(J=>J.id===C);L&&p(L);return}const{error:M}=await U.from("session_participants").insert({session_id:C,user_id:y.id});if(M){console.error("Error joining session:",M),W.error(`Failed to join session: ${M.message}`);return}console.log("Successfully joined session"),W.success("Joined session successfully!");const O=e.find(L=>L.id===C);O&&p(O)}catch(A){console.error("Unexpected error joining session:",A),W.error("An unexpected error occurred while joining the session.")}},S=async C=>{if(y)try{const{error:A}=await U.from("session_participants").delete().eq("session_id",C).eq("user_id",y.id);if(A){console.error("Error leaving session:",A),W.error("Failed to leave session");return}W.success("Left session successfully"),console.log("Successfully left session:",C)}catch(A){console.error("Unexpected error leaving session:",A),W.error("An unexpected error occurred")}},_=C=>{f(C),u(!0)},j=C=>{const A=e.find(M=>M.session_url===C);A&&(console.log("Opening video session:",A.title),p(A))},N=()=>{console.log("Leaving video session"),p(null)},k=C=>{var A;return(A=C.session_participants)==null?void 0:A.some(M=>M.user_id===(y==null?void 0:y.id))},E=(C,A)=>{v(M=>({...M,[C]:A}))};return m?l.jsx(aD,{sessionId:m.id,sessionTitle:m.title,onLeaveSession:N}):n?l.jsx("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-12 h-12 object-contain"})}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full mx-auto flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"Loading study sessions..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-12 h-12 object-contain"})}),l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Study Rooms"})]}),l.jsx("p",{className:"text-slate-600 text-lg max-w-2xl mx-auto leading-relaxed",children:"Join collaborative study sessions with peers or create your own learning environment"}),l.jsx(zr,{open:s,onOpenChange:o,children:l.jsx(Sa,{asChild:!0,children:l.jsxs(K,{className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-8 py-3 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[l.jsx(uc,{className:"h-5 w-5 mr-2"}),"Create New Session"]})})})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/50 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-6 h-6 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})}),l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Live Sessions"}),l.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:l.jsxs("span",{className:"text-white text-sm font-medium",children:[e.filter(C=>C.is_active&&C.status==="live").length," active"]})})]})}),l.jsx("div",{className:"p-6",children:e.filter(C=>C.is_active&&C.status==="live").length===0?l.jsxs("div",{className:"text-center py-12 space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-100 to-emerald-100 rounded-full mx-auto flex items-center justify-center",children:l.jsx(Dt,{className:"h-8 w-8 text-green-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No Active Sessions"}),l.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Be the first to start a study session! Create one now and invite others to join your learning journey."}),l.jsxs(K,{onClick:()=>o(!0),className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-6 py-2 rounded-xl shadow-md hover:shadow-lg transition-all duration-200",children:[l.jsx(uc,{className:"h-4 w-4 mr-2"}),"Create First Session"]})]}):l.jsx("div",{className:"grid gap-6",children:e.filter(C=>C.is_active&&C.status==="live").map(C=>l.jsx(Cv,{session:C,isUserInSession:k(C),onJoinSession:b,onLeaveSession:S,onShareSession:_,onOpenSession:j},C.id))})})]}),l.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/50 overflow-hidden",children:[l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(cc,{className:"h-6 w-6 text-white"}),l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Upcoming Sessions"}),l.jsx("div",{className:"bg-white/20 px-3 py-1 rounded-full",children:l.jsxs("span",{className:"text-white text-sm font-medium",children:[e.filter(C=>C.status==="scheduled").length," scheduled"]})})]})}),l.jsx("div",{className:"p-6",children:e.filter(C=>C.status==="scheduled").length===0?l.jsxs("div",{className:"text-center py-12 space-y-4",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-full mx-auto flex items-center justify-center",children:l.jsx(cc,{className:"h-8 w-8 text-blue-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No Upcoming Sessions"}),l.jsx("p",{className:"text-slate-600 max-w-md mx-auto",children:"Schedule your next study session in advance to help organize your learning schedule and notify participants."})]}):l.jsx("div",{className:"grid gap-6",children:e.filter(C=>C.status==="scheduled").map(C=>l.jsx(Cv,{session:C,isUserInSession:k(C),onJoinSession:b,onLeaveSession:S,onShareSession:_,onOpenSession:j},C.id))})})]}),l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-3xl shadow-xl p-6 text-white",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center flex-shrink-0",children:l.jsx(gp,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"Study Tips"}),l.jsxs("div",{className:"space-y-2 text-purple-100",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Create focused sessions with clear topics and goals"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Keep sessions small (2-6 people) for better engagement"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Use the chat feature to share resources and notes"]})]})]})]})})]}),l.jsx(z4,{isOpen:s,onClose:()=>o(!1),onSubmit:x,formData:g,onFormChange:E,isCreating:i}),l.jsx(B4,{isOpen:c,onClose:()=>u(!1),session:d})]})},cD=()=>{const[e,t]=h.useState([]),[n,r]=h.useState(!0),[s,o]=h.useState(!1),[i,a]=h.useState({title:"",description:"",subject:"",file_type:""}),[c,u]=h.useState(null),{user:d}=it();h.useEffect(()=>{f()},[]);const f=async()=>{const{data:y,error:w}=await U.from("resources").select("*").order("created_at",{ascending:!1});if(w){W.error("Failed to load resources"),r(!1);return}const x=[...new Set(y==null?void 0:y.map(_=>_.uploaded_by).filter(Boolean))],{data:b}=await U.from("profiles").select("id, username").in("id",x),S=(y==null?void 0:y.map(_=>({..._,size:_.size||0,downloads:_.downloads||0,profiles:(b==null?void 0:b.find(j=>j.id===_.uploaded_by))||{username:"Unknown"}})))||[];t(S),r(!1)},m=y=>{var x;const w=(x=y.target.files)==null?void 0:x[0];w&&(u(w),a({...i,file_type:w.type,title:i.title||w.name.split(".")[0]}))},p=async y=>{if(y.preventDefault(),!(!d||!c))try{const w=`demo-files/${c.name}`,x=c.size,{error:b}=await U.from("resources").insert({...i,file_url:w,size:x,uploaded_by:d.id});b?W.error("Failed to upload resource"):(W.success("Resource uploaded successfully!"),o(!1),a({title:"",description:"",subject:"",file_type:""}),u(null),f())}catch{W.error("Failed to upload resource")}},g=async y=>{var x;const{error:w}=await U.from("resources").update({downloads:((x=e.find(b=>b.id===y))==null?void 0:x.downloads)+1||1}).eq("id",y);w||(W.success("Download started!"),f())},v=y=>{if(y===0)return"0 B";const w=1024,x=["B","KB","MB","GB"],b=Math.floor(Math.log(y)/Math.log(w));return parseFloat((y/Math.pow(w,b)).toFixed(2))+" "+x[b]};return n?l.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):l.jsxs("div",{className:"space-y-6 pb-20 p-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Resource Hub"}),l.jsx("p",{className:"text-gray-600",children:"Share and access study materials"})]}),l.jsxs(zr,{open:s,onOpenChange:o,children:[l.jsx(Sa,{asChild:!0,children:l.jsxs(K,{className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(lv,{className:"h-4 w-4 mr-2"}),"Upload Resource"]})}),l.jsxs(Br,{children:[l.jsx(Wr,{children:l.jsx(Hr,{children:"Upload Study Resource"})}),l.jsxs("form",{onSubmit:p,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"file",children:"Select File"}),l.jsx(Oe,{id:"file",type:"file",onChange:m,accept:".pdf,.doc,.docx,.ppt,.pptx,.txt,.jpg,.png",required:!0})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"title",children:"Title"}),l.jsx(Oe,{id:"title",value:i.title,onChange:y=>a({...i,title:y.target.value}),required:!0})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"subject",children:"Subject"}),l.jsxs(MS,{value:i.subject,onValueChange:y=>a({...i,subject:y}),children:[l.jsx(Fp,{children:l.jsx(IS,{placeholder:"Select subject"})}),l.jsxs(Up,{children:[l.jsx(ut,{value:"Mathematics",children:"Mathematics"}),l.jsx(ut,{value:"Physics",children:"Physics"}),l.jsx(ut,{value:"Chemistry",children:"Chemistry"}),l.jsx(ut,{value:"Biology",children:"Biology"}),l.jsx(ut,{value:"Computer Science",children:"Computer Science"}),l.jsx(ut,{value:"General",children:"General"})]})]})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"description",children:"Description"}),l.jsx(Ea,{id:"description",value:i.description,onChange:y=>a({...i,description:y.target.value}),placeholder:"Describe what this resource covers..."})]}),l.jsx(K,{type:"submit",className:"w-full",disabled:!c,children:"Upload Resource"})]})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(ps,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),l.jsx(Oe,{placeholder:"Search resources...",className:"pl-10"})]}),l.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:["All","Mathematics","Physics","Chemistry","Biology","Computer Science"].map(y=>l.jsx(K,{variant:"outline",size:"sm",className:"whitespace-nowrap",children:y},y))}),l.jsx("div",{className:"grid gap-4",children:e.map(y=>{var w;return l.jsx(Ve,{className:"hover:shadow-md transition-shadow",children:l.jsxs(qe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx(Rn,{className:"h-6 w-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:y.title}),l.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),l.jsx(Ot,{variant:"outline",children:y.subject})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[l.jsxs("span",{children:["Uploaded by ",((w=y.profiles)==null?void 0:w.username)||"Unknown"]}),l.jsx("span",{children:v(y.size)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[l.jsxs("span",{className:"flex items-center",children:[l.jsx(iv,{className:"h-3 w-3 mr-1"}),y.downloads," downloads"]}),l.jsx("span",{children:new Date(y.created_at).toLocaleDateString()})]}),l.jsxs(K,{size:"sm",onClick:()=>g(y.id),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(iv,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})},y.id)})}),e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No resources yet"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Be the first to share a study resource!"}),l.jsxs(K,{onClick:()=>o(!0),children:[l.jsx(lv,{className:"h-4 w-4 mr-2"}),"Upload First Resource"]})]})]})};function XS(e,t){return function(){return e.apply(t,arguments)}}const{toString:uD}=Object.prototype,{getPrototypeOf:qp}=Object,{iterator:mu,toStringTag:ZS}=Symbol,gu=(e=>t=>{const n=uD.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vn=e=>(e=e.toLowerCase(),t=>gu(t)===e),vu=e=>t=>typeof t===e,{isArray:Qo}=Array,aa=vu("undefined");function Pa(e){return e!==null&&!aa(e)&&e.constructor!==null&&!aa(e.constructor)&&jt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const e_=vn("ArrayBuffer");function dD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e_(e.buffer),t}const fD=vu("string"),jt=vu("function"),t_=vu("number"),Ra=e=>e!==null&&typeof e=="object",hD=e=>e===!0||e===!1,kl=e=>{if(gu(e)!=="object")return!1;const t=qp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ZS in e)&&!(mu in e)},pD=e=>{if(!Ra(e)||Pa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},mD=vn("Date"),gD=vn("File"),vD=vn("Blob"),yD=vn("FileList"),xD=e=>Ra(e)&&jt(e.pipe),wD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||jt(e.append)&&((t=gu(e))==="formdata"||t==="object"&&jt(e.toString)&&e.toString()==="[object FormData]"))},bD=vn("URLSearchParams"),[SD,_D,jD,CD]=["ReadableStream","Request","Response","Headers"].map(vn),ED=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ta(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Qo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Pa(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function n_(e,t){if(Pa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,r_=e=>!aa(e)&&e!==is;function Vf(){const{caseless:e}=r_(this)&&this||{},t={},n=(r,s)=>{const o=e&&n_(t,s)||s;kl(t[o])&&kl(r)?t[o]=Vf(t[o],r):kl(r)?t[o]=Vf({},r):Qo(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ta(arguments[r],n);return t}const ND=(e,t,n,{allOwnKeys:r}={})=>(Ta(t,(s,o)=>{n&&jt(s)?e[o]=XS(s,n):e[o]=s},{allOwnKeys:r}),e),kD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),PD=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},RD=(e,t,n,r)=>{let s,o,i;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!r||r(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&qp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},TD=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},AD=e=>{if(!e)return null;if(Qo(e))return e;let t=e.length;if(!t_(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},OD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&qp(Uint8Array)),MD=(e,t)=>{const r=(e&&e[mu]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},ID=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},DD=vn("HTMLFormElement"),LD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Nv=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$D=vn("RegExp"),s_=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ta(n,(s,o)=>{let i;(i=t(s,o,e))!==!1&&(r[o]=i||s)}),Object.defineProperties(e,r)},FD=e=>{s_(e,(t,n)=>{if(jt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(jt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UD=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Qo(e)?r(e):r(String(e).split(t)),n},zD=()=>{},BD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function WD(e){return!!(e&&jt(e.append)&&e[ZS]==="FormData"&&e[mu])}const HD=e=>{const t=new Array(10),n=(r,s)=>{if(Ra(r)){if(t.indexOf(r)>=0)return;if(Pa(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Qo(r)?[]:{};return Ta(r,(i,a)=>{const c=n(i,s+1);!aa(c)&&(o[a]=c)}),t[s]=void 0,o}}return r};return n(e,0)},VD=vn("AsyncFunction"),qD=e=>e&&(Ra(e)||jt(e))&&jt(e.then)&&jt(e.catch),o_=((e,t)=>e?setImmediate:t?((n,r)=>(is.addEventListener("message",({source:s,data:o})=>{s===is&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),is.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jt(is.postMessage)),GD=typeof queueMicrotask<"u"?queueMicrotask.bind(is):typeof process<"u"&&process.nextTick||o_,KD=e=>e!=null&&jt(e[mu]),R={isArray:Qo,isArrayBuffer:e_,isBuffer:Pa,isFormData:wD,isArrayBufferView:dD,isString:fD,isNumber:t_,isBoolean:hD,isObject:Ra,isPlainObject:kl,isEmptyObject:pD,isReadableStream:SD,isRequest:_D,isResponse:jD,isHeaders:CD,isUndefined:aa,isDate:mD,isFile:gD,isBlob:vD,isRegExp:$D,isFunction:jt,isStream:xD,isURLSearchParams:bD,isTypedArray:OD,isFileList:yD,forEach:Ta,merge:Vf,extend:ND,trim:ED,stripBOM:kD,inherits:PD,toFlatObject:RD,kindOf:gu,kindOfTest:vn,endsWith:TD,toArray:AD,forEachEntry:MD,matchAll:ID,isHTMLForm:DD,hasOwnProperty:Nv,hasOwnProp:Nv,reduceDescriptors:s_,freezeMethods:FD,toObjectSet:UD,toCamelCase:LD,noop:zD,toFiniteNumber:BD,findKey:n_,global:is,isContextDefined:r_,isSpecCompliantForm:WD,toJSONObject:HD,isAsyncFn:VD,isThenable:qD,setImmediate:o_,asap:GD,isIterable:KD};function ne(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}R.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const i_=ne.prototype,a_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{a_[e]={value:e}});Object.defineProperties(ne,a_);Object.defineProperty(i_,"isAxiosError",{value:!0});ne.from=(e,t,n,r,s,o)=>{const i=Object.create(i_);return R.toFlatObject(e,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ne.call(i,e.message,t,n,r,s),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const JD=null;function qf(e){return R.isPlainObject(e)||R.isArray(e)}function l_(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function kv(e,t,n){return e?e.concat(t).map(function(s,o){return s=l_(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function YD(e){return R.isArray(e)&&!e.some(qf)}const QD=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function yu(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!R.isUndefined(y[v])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(R.isDate(g))return g.toISOString();if(R.isBoolean(g))return g.toString();if(!c&&R.isBlob(g))throw new ne("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(g)||R.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,y){let w=g;if(g&&!y&&typeof g=="object"){if(R.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(R.isArray(g)&&YD(g)||(R.isFileList(g)||R.endsWith(v,"[]"))&&(w=R.toArray(g)))return v=l_(v),w.forEach(function(b,S){!(R.isUndefined(b)||b===null)&&t.append(i===!0?kv([v],S,o):i===null?v:v+"[]",u(b))}),!1}return qf(g)?!0:(t.append(kv(y,v,o),u(g)),!1)}const f=[],m=Object.assign(QD,{defaultVisitor:d,convertValue:u,isVisitable:qf});function p(g,v){if(!R.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),R.forEach(g,function(w,x){(!(R.isUndefined(w)||w===null)&&s.call(t,w,R.isString(x)?x.trim():x,v,m))===!0&&p(w,v?v.concat(x):[x])}),f.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return p(e),t}function Pv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Gp(e,t){this._pairs=[],e&&yu(e,this,t)}const c_=Gp.prototype;c_.append=function(t,n){this._pairs.push([t,n])};c_.toString=function(t){const n=t?function(r){return t.call(this,r,Pv)}:Pv;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function XD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function u_(e,t,n){if(!t)return e;const r=n&&n.encode||XD;R.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=R.isURLSearchParams(t)?t.toString():new Gp(t,n).toString(r),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Rv{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(r){r!==null&&t(r)})}}const d_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZD=typeof URLSearchParams<"u"?URLSearchParams:Gp,eL=typeof FormData<"u"?FormData:null,tL=typeof Blob<"u"?Blob:null,nL={isBrowser:!0,classes:{URLSearchParams:ZD,FormData:eL,Blob:tL},protocols:["http","https","file","blob","url","data"]},Kp=typeof window<"u"&&typeof document<"u",Gf=typeof navigator=="object"&&navigator||void 0,rL=Kp&&(!Gf||["ReactNative","NativeScript","NS"].indexOf(Gf.product)<0),sL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oL=Kp&&window.location.href||"http://localhost",iL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kp,hasStandardBrowserEnv:rL,hasStandardBrowserWebWorkerEnv:sL,navigator:Gf,origin:oL},Symbol.toStringTag,{value:"Module"})),st={...iL,...nL};function aL(e,t){return yu(e,new st.classes.URLSearchParams,{visitor:function(n,r,s,o){return st.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function lL(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cL(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function f_(e){function t(n,r,s,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&R.isArray(s)?s.length:i,c?(R.hasOwnProp(s,i)?s[i]=[s[i],r]:s[i]=r,!a):((!s[i]||!R.isObject(s[i]))&&(s[i]=[]),t(n,r,s[i],o)&&R.isArray(s[i])&&(s[i]=cL(s[i])),!a)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(r,s)=>{t(lL(r),s,n,0)}),n}return null}function uL(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Aa={transitional:d_,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=R.isObject(t);if(o&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return s?JSON.stringify(f_(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return aL(t,this.formSerializer).toString();if((a=R.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return yu(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),uL(t)):t}],transformResponse:[function(t){const n=this.transitional||Aa.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(r&&!this.responseType||s)){const i=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(i)throw a.name==="SyntaxError"?ne.from(a,ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:st.classes.FormData,Blob:st.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{Aa.headers[e]={}});const dL=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fL=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),r=i.substring(s+1).trim(),!(!n||t[n]&&dL[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Tv=Symbol("internals");function pi(e){return e&&String(e).trim().toLowerCase()}function Pl(e){return e===!1||e==null?e:R.isArray(e)?e.map(Pl):String(e)}function hL(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const pL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function gd(e,t,n,r,s){if(R.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!R.isString(t)){if(R.isString(r))return t.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(t)}}function mL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function gL(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,i){return this[r].call(this,t,s,o,i)},configurable:!0})})}class Ct{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(a,c,u){const d=pi(c);if(!d)throw new Error("header name must be a non-empty string");const f=R.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=Pl(a))}const i=(a,c)=>R.forEach(a,(u,d)=>o(u,d,c));if(R.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(R.isString(t)&&(t=t.trim())&&!pL(t))i(fL(t),n);else if(R.isObject(t)&&R.isIterable(t)){let a={},c,u;for(const d of t){if(!R.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(c=a[u])?R.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=pi(t),t){const r=R.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return hL(s);if(R.isFunction(n))return n.call(this,s,r);if(R.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=pi(t),t){const r=R.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||gd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(i){if(i=pi(i),i){const a=R.findKey(r,i);a&&(!n||gd(r,r[a],a,n))&&(delete r[a],s=!0)}}return R.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||gd(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return R.forEach(this,(s,o)=>{const i=R.findKey(r,o);if(i){n[i]=Pl(s),delete n[o];return}const a=t?mL(o):String(o).trim();a!==o&&delete n[o],n[a]=Pl(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Tv]=this[Tv]={accessors:{}}).accessors,s=this.prototype;function o(i){const a=pi(i);r[a]||(gL(s,i),r[a]=!0)}return R.isArray(t)?t.forEach(o):o(t),this}}Ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(Ct.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});R.freezeMethods(Ct);function vd(e,t){const n=this||Aa,r=t||n,s=Ct.from(r.headers);let o=r.data;return R.forEach(e,function(a){o=a.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function h_(e){return!!(e&&e.__CANCEL__)}function Xo(e,t,n){ne.call(this,e??"canceled",ne.ERR_CANCELED,t,n),this.name="CanceledError"}R.inherits(Xo,ne,{__CANCEL__:!0});function p_(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ne("Request failed with status code "+n.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yL(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[o];i||(i=u),n[s]=c,r[s]=u;let f=o,m=0;for(;f!==s;)m+=n[f++],f=f%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),u-i<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function xL(e,t){let n=0,r=1e3/t,s,o;const i=(u,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?i(u,d):(s=u,o||(o=setTimeout(()=>{o=null,i(s)},r-f)))},()=>s&&i(s)]}const vc=(e,t,n=3)=>{let r=0;const s=yL(50,250);return xL(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-r,u=s(c),d=i<=a;r=i;const f={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&d?(a-i)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},Av=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ov=e=>(...t)=>R.asap(()=>e(...t)),wL=st.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,st.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(st.origin),st.navigator&&/(msie|trident)/i.test(st.navigator.userAgent)):()=>!0,bL=st.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const i=[e+"="+encodeURIComponent(t)];R.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),R.isString(r)&&i.push("path="+r),R.isString(s)&&i.push("domain="+s),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function SL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _L(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function m_(e,t,n){let r=!SL(t);return e&&(r||n==!1)?_L(e,t):t}const Mv=e=>e instanceof Ct?{...e}:e;function js(e,t){t=t||{};const n={};function r(u,d,f,m){return R.isPlainObject(u)&&R.isPlainObject(d)?R.merge.call({caseless:m},u,d):R.isPlainObject(d)?R.merge({},d):R.isArray(d)?d.slice():d}function s(u,d,f,m){if(R.isUndefined(d)){if(!R.isUndefined(u))return r(void 0,u,f,m)}else return r(u,d,f,m)}function o(u,d){if(!R.isUndefined(d))return r(void 0,d)}function i(u,d){if(R.isUndefined(d)){if(!R.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in t)return r(u,d);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,d,f)=>s(Mv(u),Mv(d),f,!0)};return R.forEach(Object.keys({...e,...t}),function(d){const f=c[d]||s,m=f(e[d],t[d],d);R.isUndefined(m)&&f!==a||(n[d]=m)}),n}const g_=e=>{const t=js({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:a}=t;t.headers=i=Ct.from(i),t.url=u_(m_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(R.isFormData(n)){if(st.hasStandardBrowserEnv||st.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(st.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(t)),r||r!==!1&&wL(t.url))){const u=s&&o&&bL.read(o);u&&i.set(s,u)}return t},jL=typeof XMLHttpRequest<"u",CL=jL&&function(e){return new Promise(function(n,r){const s=g_(e);let o=s.data;const i=Ct.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,p,g;function v(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function w(){if(!y)return;const b=Ct.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:b,config:e,request:y};p_(function(N){n(N),v()},function(N){r(N),v()},_),y=null}"onloadend"in y?y.onloadend=w:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(w)},y.onabort=function(){y&&(r(new ne("Request aborted",ne.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new ne("Network Error",ne.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||d_;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),r(new ne(S,_.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,y)),y=null},o===void 0&&i.setContentType(null),"setRequestHeader"in y&&R.forEach(i.toJSON(),function(S,_){y.setRequestHeader(_,S)}),R.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),u&&([m,g]=vc(u,!0),y.addEventListener("progress",m)),c&&y.upload&&([f,p]=vc(c),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=b=>{y&&(r(!b||b.type?new Xo(null,e,y):b),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const x=vL(s.url);if(x&&st.protocols.indexOf(x)===-1){r(new ne("Unsupported protocol "+x+":",ne.ERR_BAD_REQUEST,e));return}y.send(o||null)})},EL=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(u){if(!s){s=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof ne?d:new Xo(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new ne(`timeout ${t} of ms exceeded`,ne.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>R.asap(a),c}},NL=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},kL=async function*(e,t){for await(const n of PL(e))yield*NL(n,t)},PL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Iv=(e,t,n,r)=>{const s=kL(e,t);let o=0,i,a=c=>{i||(i=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){a(),c.close();return}let f=d.byteLength;if(n){let m=o+=f;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},xu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",v_=xu&&typeof ReadableStream=="function",RL=xu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),y_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},TL=v_&&y_(()=>{let e=!1;const t=new Request(st.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Dv=64*1024,Kf=v_&&y_(()=>R.isReadableStream(new Response("").body)),yc={stream:Kf&&(e=>e.body)};xu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!yc[t]&&(yc[t]=R.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ne(`Response type '${t}' is not supported`,ne.ERR_NOT_SUPPORT,r)})})})(new Response);const AL=async e=>{if(e==null)return 0;if(R.isBlob(e))return e.size;if(R.isSpecCompliantForm(e))return(await new Request(st.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(R.isArrayBufferView(e)||R.isArrayBuffer(e))return e.byteLength;if(R.isURLSearchParams(e)&&(e=e+""),R.isString(e))return(await RL(e)).byteLength},OL=async(e,t)=>{const n=R.toFiniteNumber(e.getContentLength());return n??AL(t)},ML=xu&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=g_(e);u=u?(u+"").toLowerCase():"text";let p=EL([s,o&&o.toAbortSignal()],i),g;const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let y;try{if(c&&TL&&n!=="get"&&n!=="head"&&(y=await OL(d,r))!==0){let _=new Request(t,{method:"POST",body:r,duplex:"half"}),j;if(R.isFormData(r)&&(j=_.headers.get("content-type"))&&d.setContentType(j),_.body){const[N,k]=Av(y,vc(Ov(c)));r=Iv(_.body,Dv,N,k)}}R.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;g=new Request(t,{...m,signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let x=await fetch(g,m);const b=Kf&&(u==="stream"||u==="response");if(Kf&&(a||b&&v)){const _={};["status","statusText","headers"].forEach(E=>{_[E]=x[E]});const j=R.toFiniteNumber(x.headers.get("content-length")),[N,k]=a&&Av(j,vc(Ov(a),!0))||[];x=new Response(Iv(x.body,Dv,N,()=>{k&&k(),v&&v()}),_)}u=u||"text";let S=await yc[R.findKey(yc,u)||"text"](x,e);return!b&&v&&v(),await new Promise((_,j)=>{p_(_,j,{data:S,headers:Ct.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:g})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,e,g),{cause:w.cause||w}):ne.from(w,w&&w.code,e,g)}}),Jf={http:JD,xhr:CL,fetch:ML};R.forEach(Jf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Lv=e=>`- ${e}`,IL=e=>R.isFunction(e)||e===null||e===!1,x_={getAdapter:e=>{e=R.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let i;if(r=n,!IL(n)&&(r=Jf[(i=String(n)).toLowerCase()],r===void 0))throw new ne(`Unknown adapter '${i}'`);if(r)break;s[i||"#"+o]=r}if(!r){const o=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(Lv).join(`
`):" "+Lv(o[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:Jf};function yd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xo(null,e)}function $v(e){return yd(e),e.headers=Ct.from(e.headers),e.data=vd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),x_.getAdapter(e.adapter||Aa.adapter)(e).then(function(r){return yd(e),r.data=vd.call(e,e.transformResponse,r),r.headers=Ct.from(r.headers),r},function(r){return h_(r)||(yd(e),r&&r.response&&(r.response.data=vd.call(e,e.transformResponse,r.response),r.response.headers=Ct.from(r.response.headers))),Promise.reject(r)})}const w_="1.11.0",wu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Fv={};wu.transitional=function(t,n,r){function s(o,i){return"[Axios v"+w_+"] Transitional option '"+o+"'"+i+(r?". "+r:"")}return(o,i,a)=>{if(t===!1)throw new ne(s(i," has been removed"+(n?" in "+n:"")),ne.ERR_DEPRECATED);return n&&!Fv[i]&&(Fv[i]=!0,console.warn(s(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,a):!0}};wu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function DL(e,t,n){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],i=t[o];if(i){const a=e[o],c=a===void 0||i(a,o,e);if(c!==!0)throw new ne("option "+o+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ne("Unknown option "+o,ne.ERR_BAD_OPTION)}}const Rl={assertOptions:DL,validators:wu},xn=Rl.validators;class ms{constructor(t){this.defaults=t||{},this.interceptors={request:new Rv,response:new Rv}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=js(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&Rl.assertOptions(r,{silentJSONParsing:xn.transitional(xn.boolean),forcedJSONParsing:xn.transitional(xn.boolean),clarifyTimeoutError:xn.transitional(xn.boolean)},!1),s!=null&&(R.isFunction(s)?n.paramsSerializer={serialize:s}:Rl.assertOptions(s,{encode:xn.function,serialize:xn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Rl.assertOptions(n,{baseUrl:xn.spelling("baseURL"),withXsrfToken:xn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&R.merge(o.common,o[n.method]);o&&R.forEach(["delete","get","head","post","put","patch","common"],g=>{delete o[g]}),n.headers=Ct.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,m;if(!c){const g=[$v.bind(this),void 0];for(g.unshift(...a),g.push(...u),m=g.length,d=Promise.resolve(n);f<m;)d=d.then(g[f++],g[f++]);return d}m=a.length;let p=n;for(f=0;f<m;){const g=a[f++],v=a[f++];try{p=g(p)}catch(y){v.call(this,y);break}}try{d=$v.call(this,p)}catch(g){return Promise.reject(g)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=js(this.defaults,t);const n=m_(t.baseURL,t.url,t.allowAbsoluteUrls);return u_(n,t.params,t.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(t){ms.prototype[t]=function(n,r){return this.request(js(r||{},{method:t,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(r){return function(o,i,a){return this.request(js(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}ms.prototype[t]=n(),ms.prototype[t+"Form"]=n(!0)});class Jp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(a=>{r.subscribe(a),o=a}).then(s);return i.cancel=function(){r.unsubscribe(o)},i},t(function(o,i,a){r.reason||(r.reason=new Xo(o,i,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Jp(function(s){t=s}),cancel:t}}}function LL(e){return function(n){return e.apply(null,n)}}function $L(e){return R.isObject(e)&&e.isAxiosError===!0}const Yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yf).forEach(([e,t])=>{Yf[t]=e});function b_(e){const t=new ms(e),n=XS(ms.prototype.request,t);return R.extend(n,ms.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return b_(js(e,s))},n}const Fe=b_(Aa);Fe.Axios=ms;Fe.CanceledError=Xo;Fe.CancelToken=Jp;Fe.isCancel=h_;Fe.VERSION=w_;Fe.toFormData=yu;Fe.AxiosError=ne;Fe.Cancel=Fe.CanceledError;Fe.all=function(t){return Promise.all(t)};Fe.spread=LL;Fe.isAxiosError=$L;Fe.mergeConfig=js;Fe.AxiosHeaders=Ct;Fe.formToJSON=e=>f_(R.isHTMLForm(e)?new FormData(e):e);Fe.getAdapter=x_.getAdapter;Fe.HttpStatusCode=Yf;Fe.default=Fe;const FL="https://router.huggingface.co/v1/chat/completions",UL="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";async function zL(e){var t,n,r,s;try{return((r=(n=(t=(await Fe.post(FL,{model:"deepseek-ai/DeepSeek-R1",messages:[{role:"user",content:e}],stream:!1},{headers:{Authorization:`Bearer ${UL}`,"Content-Type":"application/json"}})).data.choices)==null?void 0:t[0])==null?void 0:n.message)==null?void 0:r.content)||"[No response]"}catch(o){if(typeof o=="object"&&o!==null){const i=o;console.error("AI API Error:",((s=i.response)==null?void 0:s.data)||i.message)}else console.error("AI API Error:",String(o));return"Sorry, the AI is currently unavailable."}}const BL=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(!1),[s,o]=h.useState([{id:1,type:"ai",message:"Hi! I'm your AI study assistant. Ask me anything about your studies.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),i=h.useRef(null),a=async()=>{if(e.trim()){const c={id:s.length+1,type:"user",message:e,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};o([...s,c]),t(""),r(!0);try{const u=await zL(e),d={id:s.length+2,type:"ai",message:u,time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};o(f=>[...f,d])}catch{o(u=>[...u,{id:s.length+2,type:"ai",message:"Sorry, the AI is currently unavailable.",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])}r(!1)}};return l.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[l.jsx("div",{className:"border-b bg-card p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:l.jsx(eu,{className:"h-6 w-6 text-primary-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg font-semibold",children:"AI Assistant"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Study companion"})]})]})}),l.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:l.jsx(Vp,{className:"flex-1 p-4",children:l.jsxs("div",{className:"space-y-4 max-w-2xl mx-auto",children:[s.map(c=>l.jsx("div",{className:`flex ${c.type==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${c.type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[l.jsx("p",{className:"text-sm",children:c.message}),l.jsx("p",{className:`text-xs mt-1 ${c.type==="user"?"text-primary-foreground/70":"text-muted-foreground"}`,children:c.time})]})},c.id)),n&&l.jsx("div",{className:"flex justify-start",children:l.jsx("div",{className:"bg-muted rounded-lg p-3 max-w-[80%]",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),l.jsx("div",{ref:i})]})})}),l.jsx("div",{className:"border-t bg-card p-4 sticky bottom-0",children:l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("form",{className:"flex space-x-2",onSubmit:c=>{c.preventDefault(),a()},children:[l.jsx(Oe,{placeholder:"Ask me anything...",value:e,onChange:c=>t(c.target.value),className:"flex-1",autoFocus:!0}),l.jsx(K,{type:"submit",disabled:!e.trim()||n,size:"icon",children:l.jsx(mp,{className:"h-4 w-4"})})]})})})]})},WL=({profile:e,editing:t,editedProfile:n,onEditToggle:r,onUpdateProfile:s,onProfileChange:o})=>l.jsxs(Ve,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-xl rounded-3xl overflow-hidden relative",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400 to-purple-500 opacity-10 rounded-full transform translate-x-16 -translate-y-16"}),l.jsxs(qe,{className:"p-6 relative",children:[l.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsxs(Go,{className:"h-24 w-24 border-4 border-white shadow-xl",children:[l.jsx(Ko,{src:e.avatar_url}),l.jsx(Jo,{className:"text-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold",children:e.username.charAt(0).toUpperCase()})]}),l.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx(tu,{className:"h-3 w-3 text-white"})})]}),l.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent mb-1",children:e.username}),l.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e.email}),l.jsxs("div",{className:"flex items-center text-xs text-gray-500 bg-gray-50 px-3 py-1 rounded-full",children:[l.jsx(hp,{className:"h-3 w-3 mr-1"}),"Joined ",new Date(e.created_at).toLocaleDateString()]})]}),l.jsxs(K,{variant:"outline",size:"sm",className:"w-full border-2 border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300 rounded-xl transition-all duration-200",onClick:r,children:[l.jsx(cA,{className:"h-4 w-4 mr-2"}),t?"Cancel Edit":"Edit Profile"]}),t&&l.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"username",className:"text-sm font-medium text-gray-700",children:"Username"}),l.jsx(Oe,{id:"username",value:n.username,onChange:i=>o("username",i.target.value),className:"mt-1 border-blue-200 focus:border-blue-400 focus:ring-blue-400 rounded-xl"})]}),l.jsxs("div",{children:[l.jsx(Le,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),l.jsx(Oe,{id:"email",type:"email",value:n.email,onChange:i=>o("email",i.target.value),className:"mt-1 border-blue-200 focus:border-blue-400 focus:ring-blue-400 rounded-xl"})]}),l.jsxs("div",{className:"flex space-x-3 pt-2",children:[l.jsx(K,{onClick:s,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl",children:"Save Changes"}),l.jsx(K,{variant:"outline",onClick:r,className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50 rounded-xl",children:"Cancel"})]})]})})]})]}),HL=({userStats:e})=>{const t=[{value:e.messagesSent,label:"Messages",icon:Gw,gradient:"from-blue-500 to-blue-600",bgGradient:"from-blue-400 to-blue-500"},{value:e.resourcesShared,label:"Resources",icon:Rn,gradient:"from-green-500 to-green-600",bgGradient:"from-green-400 to-green-500"},{value:e.sessionsJoined,label:"Sessions",icon:Dt,gradient:"from-purple-500 to-purple-600",bgGradient:"from-purple-400 to-purple-500"}];return l.jsx("div",{className:"grid grid-cols-3 gap-4",children:t.map((n,r)=>l.jsx(Ve,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg rounded-2xl overflow-hidden group hover:shadow-xl transition-all duration-300",children:l.jsxs(qe,{className:"p-4 text-center relative",children:[l.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-br ${n.bgGradient} opacity-10 rounded-full transform translate-x-8 -translate-y-8`}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${n.gradient} rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform duration-200`,children:l.jsx(n.icon,{className:"h-5 w-5 text-white"})}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.value}),l.jsx("p",{className:"text-xs text-gray-600 font-medium",children:n.label})]})]})},r))})},VL=({subjects:e})=>e.length===0?null:l.jsxs(Ve,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg rounded-2xl overflow-hidden",children:[l.jsx(Na,{className:"pb-3 border-b border-gray-100",children:l.jsxs(cu,{className:"flex items-center text-lg font-bold text-gray-900",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:l.jsx(sa,{className:"h-4 w-4 text-white"})}),"Study Subjects"]})}),l.jsx(qe,{className:"pt-4",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((t,n)=>l.jsx(Ot,{variant:"secondary",className:"text-xs bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border border-blue-200 hover:from-blue-100 hover:to-indigo-100 transition-colors duration-200 rounded-lg px-3 py-1",children:t},n))})})]}),qL=({activities:e})=>{const t=r=>{switch(r){case"message":return l.jsx(Gw,{className:"h-4 w-4 text-white"});case"resource":return l.jsx(Rn,{className:"h-4 w-4 text-white"});case"session":return l.jsx(Kn,{className:"h-4 w-4 text-white"});default:return l.jsx(sa,{className:"h-4 w-4 text-white"})}},n=r=>{switch(r){case"message":return"from-blue-500 to-blue-600";case"resource":return"from-green-500 to-green-600";case"session":return"from-purple-500 to-purple-600";default:return"from-gray-500 to-gray-600"}};return e.length===0?l.jsx(Ve,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg rounded-2xl overflow-hidden",children:l.jsxs(qe,{className:"p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center mx-auto mb-6 opacity-60",children:l.jsx(sa,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"No Activity Yet"}),l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Start participating in chats, sessions, or share resources to see your activity here."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[l.jsx(Ot,{variant:"outline",className:"text-xs border-blue-200 text-blue-700",children:"Join Sessions"}),l.jsx(Ot,{variant:"outline",className:"text-xs border-green-200 text-green-700",children:"Share Resources"}),l.jsx(Ot,{variant:"outline",className:"text-xs border-purple-200 text-purple-700",children:"Chat with Others"})]})]})}):l.jsxs(Ve,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg rounded-2xl overflow-hidden",children:[l.jsx(Na,{className:"pb-3 border-b border-gray-100",children:l.jsx(cu,{className:"text-lg font-bold text-gray-900",children:"Recent Activity"})}),l.jsx(qe,{className:"pt-4",children:l.jsx("div",{className:"space-y-3",children:e.map((r,s)=>l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-100 hover:from-blue-50 hover:to-indigo-50 transition-colors duration-200",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${n(r.type)} rounded-lg flex items-center justify-center`,children:t(r.type)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:r.content}),l.jsx("p",{className:"text-xs text-gray-500",children:r.time})]})]},s))})})]})},GL=()=>l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 pb-20",children:l.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-white/20",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto mb-6"}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-purple-500 opacity-20 animate-pulse"})]}),l.jsx("p",{className:"text-gray-700 font-medium",children:"Loading your profile..."})]})}),Uv=({type:e,onRetry:t})=>e==="not-signed-in"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 pb-20",children:l.jsx(Ve,{className:"max-w-sm mx-auto bg-white/90 backdrop-blur-sm border-0 shadow-2xl rounded-3xl overflow-hidden",children:l.jsxs(qe,{className:"p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(Dt,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Please sign in"}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"You need to be signed in to view your profile and access all features."})]})})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center px-4 pb-20",children:l.jsx(Ve,{className:"max-w-sm mx-auto bg-white/90 backdrop-blur-sm border-0 shadow-2xl rounded-3xl overflow-hidden",children:l.jsxs(qe,{className:"p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-6",children:l.jsx(Dt,{className:"h-8 w-8 text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Profile not found"}),l.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"There was an issue loading your profile. Let's try again."}),t&&l.jsxs(K,{onClick:t,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl",children:[l.jsx(dA,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})}),KL=()=>{const[e,t]=h.useState(null),[n,r]=h.useState({messagesSent:0,resourcesShared:0,sessionsJoined:0,studySubjects:[],recentActivities:[]}),[s,o]=h.useState(!0),[i,a]=h.useState(!1),[c,u]=h.useState({username:"",email:""}),{user:d,signOut:f}=it(),m=async()=>{if(!d)return null;console.log("Creating profile via edge function for user:",d.id);const{data:x,error:b}=await U.functions.invoke("create-profile");return b?(console.error("Error creating profile via function:",b),W.error(`Failed to create profile: ${b.message}`),null):(console.log("Profile created successfully via function:",x),x.profile)},p=async()=>{if(d)try{const{data:x}=await U.from("chat_messages").select("id, content, created_at, chat_rooms!inner(name)").eq("user_id",d.id).order("created_at",{ascending:!1}).limit(10),{data:b}=await U.from("resources").select("id, title, subject, created_at").eq("uploaded_by",d.id).order("created_at",{ascending:!1}).limit(10),{data:S}=await U.from("session_participants").select(`
          joined_at,
          study_sessions!inner(title, subject)
        `).eq("user_id",d.id).order("joined_at",{ascending:!1}).limit(10),_=(b==null?void 0:b.map(E=>E.subject))||[],j=(S==null?void 0:S.map(E=>{var C;return(C=E.study_sessions)==null?void 0:C.subject}).filter(Boolean))||[],N=[...new Set([..._,...j])],k=[];x==null||x.forEach(E=>{var C,A;k.push({type:"message",content:`Posted in ${((C=E.chat_rooms)==null?void 0:C.name)||"chat room"}`,time:new Date(E.created_at).toLocaleDateString(),subject:(A=E.chat_rooms)==null?void 0:A.name})}),b==null||b.forEach(E=>{k.push({type:"resource",content:`Uploaded ${E.title}`,time:new Date(E.created_at).toLocaleDateString(),subject:E.subject})}),S==null||S.forEach(E=>{var C,A;k.push({type:"session",content:`Joined ${((C=E.study_sessions)==null?void 0:C.title)||"study session"}`,time:new Date(E.joined_at).toLocaleDateString(),subject:(A=E.study_sessions)==null?void 0:A.subject})}),k.sort((E,C)=>new Date(C.time).getTime()-new Date(E.time).getTime()),r({messagesSent:(x==null?void 0:x.length)||0,resourcesShared:(b==null?void 0:b.length)||0,sessionsJoined:(S==null?void 0:S.length)||0,studySubjects:N.slice(0,5),recentActivities:k.slice(0,5)})}catch(x){console.error("Error fetching user stats:",x)}},g=h.useCallback(async()=>{if(!d){o(!1);return}console.log("Fetching profile for user:",d.id);try{const{data:x,error:b}=await U.from("profiles").select("*").eq("id",d.id).maybeSingle();if(b){console.error("Error fetching profile:",b),W.error("Failed to load profile"),o(!1);return}if(x)console.log("Profile fetched successfully:",x),t(x),u({username:x.username,email:x.email});else{console.log("No profile found, creating one...");const S=await m();S&&(t(S),u({username:S.username,email:S.email}))}await p()}catch(x){console.error("Unexpected error fetching profile:",x),W.error("An unexpected error occurred")}finally{o(!1)}},[d]);h.useEffect(()=>{g()},[g]);const v=async()=>{if(!d||!e)return;const{error:x}=await U.from("profiles").update(c).eq("id",d.id);x?(console.error("Error updating profile:",x),W.error("Failed to update profile")):(W.success("Profile updated successfully!"),t({...e,...c}),a(!1))},y=async()=>{await f(),W.success("Signed out successfully")},w=(x,b)=>{u(S=>({...S,[x]:b}))};return s?l.jsx(GL,{}):d?e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 px-4 pb-24 pt-4",children:l.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[l.jsx(WL,{profile:e,editing:i,editedProfile:c,onEditToggle:()=>a(!i),onUpdateProfile:v,onProfileChange:w}),l.jsx(HL,{userStats:n}),l.jsx(VL,{subjects:n.studySubjects}),l.jsx(qL,{activities:n.recentActivities}),l.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-3xl shadow-xl p-6 text-white",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center flex-shrink-0",children:l.jsx(gp,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-xl font-semibold",children:"Study Tips"}),l.jsxs("div",{className:"space-y-2 text-purple-100",children:[l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Create focused sessions with clear topics and goals"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Keep sessions small (2-6 people) for better engagement"]}),l.jsxs("p",{className:"flex items-center",children:[l.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full mr-3"}),"Use the chat feature to share resources and notes"]})]})]})]})}),l.jsxs(K,{variant:"destructive",className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl py-3",onClick:y,children:[l.jsx(tA,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})}):l.jsx(Uv,{type:"profile-not-found",onRetry:g}):l.jsx(Uv,{type:"not-signed-in"})},JL=({greeting:e,username:t,userStats:n})=>l.jsxs("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-blue-700 rounded-2xl p-5 text-white shadow-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("h2",{className:"text-lg font-bold mb-1 leading-tight",children:[e,", ",t,"! "]}),l.jsx("p",{className:"text-blue-100 text-sm",children:"Ready to learn something new today?"})]}),l.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center flex-shrink-0 ml-3",children:l.jsx(gp,{className:"h-5 w-5 text-yellow-300"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 min-h-[60px] flex flex-col justify-center",children:[l.jsx("p",{className:"text-xl font-bold",children:n.sessions}),l.jsx("p",{className:"text-xs text-blue-200",children:"Sessions"})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 min-h-[60px] flex flex-col justify-center",children:[l.jsx("p",{className:"text-xl font-bold",children:n.messages}),l.jsx("p",{className:"text-xs text-blue-200",children:"Messages"})]}),l.jsxs("div",{className:"bg-white bg-opacity-10 rounded-xl p-3 min-h-[60px] flex flex-col justify-center",children:[l.jsx("p",{className:"text-xl font-bold",children:n.resources}),l.jsx("p",{className:"text-xs text-blue-200",children:"Resources"})]})]})]}),YL=({onNavigate:e})=>{const t=[{title:"Ask Question",description:"Get help from peers",icon:It,color:"bg-gradient-to-br from-blue-500 to-blue-600",action:()=>e("chat")},{title:"Study Session",description:"Join video study room",icon:Kn,color:"bg-gradient-to-br from-green-500 to-green-600",action:()=>e("study-rooms")},{title:"AI Assistant",description:"Smart study help",icon:It,color:"bg-gradient-to-br from-purple-500 to-purple-600",action:()=>e("ai-assistant")},{title:"Resources",description:"Share notes & files",icon:Rn,color:"bg-gradient-to-br from-orange-500 to-orange-600",action:()=>e("resources")}];return l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center px-1",children:[l.jsx("span",{children:"Quick Actions"}),l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full ml-2 animate-pulse"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map((n,r)=>l.jsx(Ve,{className:"hover:shadow-lg transition-all duration-300 hover:scale-105 cursor-pointer border-0 shadow-md active:scale-95",onClick:n.action,children:l.jsxs(qe,{className:"p-4 min-h-[100px] flex flex-col",children:[l.jsx("div",{className:`w-12 h-12 ${n.color} rounded-xl flex items-center justify-center mb-3 shadow-md`,children:l.jsx(n.icon,{className:"h-6 w-6 text-white"})}),l.jsx("h4",{className:"font-semibold text-sm mb-1 leading-tight",children:n.title}),l.jsx("p",{className:"text-xs text-gray-600 leading-relaxed flex-1",children:n.description})]})},r))})]})},QL=({activities:e})=>{if(e.length===0)return null;const t=n=>{switch(n){case"message":return l.jsx(It,{className:"h-3 w-3 text-blue-600 flex-shrink-0"});case"session":return l.jsx(Kn,{className:"h-3 w-3 text-green-600 flex-shrink-0"});case"resource":return l.jsx(Rn,{className:"h-3 w-3 text-purple-600 flex-shrink-0"});default:return null}};return l.jsxs("div",{className:"px-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Recent Activity"}),l.jsx(K,{variant:"ghost",size:"sm",className:"text-blue-600 min-h-[40px]",children:"View All"})]}),l.jsx("div",{className:"space-y-3",children:e.map((n,r)=>l.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white rounded-xl border shadow-sm hover:shadow-md transition-shadow min-h-[64px] active:bg-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-xs font-bold text-gray-600",children:n.avatar})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("p",{className:"font-medium text-sm truncate",children:n.user}),t(n.type)]}),l.jsxs("p",{className:"text-xs text-gray-600 flex items-center",children:[l.jsx("span",{className:"truncate",children:n.subject}),l.jsx("span",{className:"mx-1",children:""}),l.jsx(cc,{className:"h-3 w-3 mr-1 flex-shrink-0"}),l.jsx("span",{className:"flex-shrink-0",children:n.time})]})]}),l.jsx(Ot,{variant:n.status==="joined"?"default":n.status==="sent"?"secondary":"outline",className:"text-xs flex-shrink-0",children:n.status})]},r))})]})},XL=({sessions:e,onNavigate:t})=>e.length===0?null:l.jsxs("div",{className:"px-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Active Study Groups"}),l.jsxs(K,{variant:"ghost",size:"sm",className:"text-blue-600 min-h-[40px]",onClick:()=>t("study-rooms"),children:[l.jsx(uc,{className:"h-4 w-4 mr-1"}),"Join"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(n=>{var r;return l.jsx(Ve,{className:"border-green-200 bg-gradient-to-br from-green-50 to-green-100 shadow-md",children:l.jsxs(qe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),l.jsx("p",{className:"text-sm font-semibold text-green-800",children:n.title})]}),l.jsx(Ot,{className:"bg-green-600 text-white text-xs",children:"Live"})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("p",{className:"text-xs text-green-600 flex items-center",children:[l.jsx(Dt,{className:"h-3 w-3 mr-1"}),((r=n.session_participants)==null?void 0:r.length)||0," members online"]}),l.jsx("p",{className:"text-xs text-green-600",children:n.subject})]}),l.jsx(K,{size:"sm",className:"w-full bg-green-600 hover:bg-green-700 shadow-sm min-h-[40px]",onClick:()=>t("study-rooms"),children:"Join Session"})]})},n.id)})})]}),ZL=({onNavigate:e})=>l.jsx("div",{className:"px-1",children:l.jsx(Ve,{className:"border-dashed border-2 border-gray-300",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx(eu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Get Started"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Join a study session or start chatting to see your activity here."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(K,{size:"sm",onClick:()=>e("chat"),className:"flex-1",children:"Start Chatting"}),l.jsx(K,{size:"sm",variant:"outline",onClick:()=>e("study-rooms"),className:"flex-1",children:"Join Session"})]})]})})}),e3=()=>{const[e,t]=h.useState(0),[n,r]=h.useState(!1),{user:s}=it(),o=async()=>{if(s)try{const{data:a,error:c}=await U.rpc("get_unread_notification_count",{target_user_id:s.id});!c&&a!==null&&t(a),n||r(!0)}catch(a){console.error("Error fetching unread count:",a)}},i=async(a,c,u,d="general",f)=>{try{await U.from("notifications").insert({user_id:a,title:c,message:u,type:d,related_id:f})}catch(m){console.error("Error creating notification:",m)}};return h.useEffect(()=>{o();const a=U.channel("notifications-count").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${s==null?void 0:s.id}`},()=>{o()}).subscribe();return()=>{U.removeChannel(a)}},[s==null?void 0:s.id]),{unreadCount:e,setUnreadCount:t,createNotification:i,refreshCount:o,initialLoadComplete:n}},zv=()=>{const[e,t]=h.useState("home"),[n,r]=h.useState("Good day"),[s,o]=h.useState("Student"),[i,a]=h.useState({sessions:0,messages:0,resources:0}),[c,u]=h.useState([]),[d,f]=h.useState([]),[m,p]=h.useState(!1),{user:g}=it(),{unreadCount:v,setUnreadCount:y,createNotification:w}=e3();h.useEffect(()=>{const b=()=>{const _=new Date().getHours();_<12?r("Good morning"):_<17?r("Good afternoon"):r("Good evening")};b();const S=setInterval(b,6e4);return()=>clearInterval(S)},[]),h.useEffect(()=>{(async()=>{var S,_,j;if(g!=null&&g.id){const{data:N}=await U.from("profiles").select("username").eq("id",g.id).single();N!=null&&N.username&&o(N.username);const[k,E,C]=await Promise.all([U.from("session_participants").select("session_id").eq("user_id",g.id),U.from("chat_messages").select("id").eq("user_id",g.id),U.from("resources").select("id").eq("uploaded_by",g.id)]);a({sessions:((S=k.data)==null?void 0:S.length)||0,messages:((_=E.data)==null?void 0:_.length)||0,resources:((j=C.data)==null?void 0:j.length)||0})}})()},[g==null?void 0:g.id]),h.useEffect(()=>{(async()=>{if(g!=null&&g.id)try{const{data:S}=await U.from("chat_messages").select(`
            id,
            content,
            created_at,
            chat_rooms!inner(name)
          `).eq("user_id",g.id).order("created_at",{ascending:!1}).limit(2),{data:_}=await U.from("session_participants").select(`
            joined_at,
            study_sessions!inner(title, subject)
          `).eq("user_id",g.id).order("joined_at",{ascending:!1}).limit(2),{data:j}=await U.from("resources").select("title, subject, created_at").eq("uploaded_by",g.id).order("created_at",{ascending:!1}).limit(2),N=[];S==null||S.forEach(E=>{var C;N.push({type:"message",user:"You",subject:((C=E.chat_rooms)==null?void 0:C.name)||"Chat",time:new Date(E.created_at).toLocaleDateString(),status:"sent",avatar:s.charAt(0).toUpperCase()})}),_==null||_.forEach(E=>{var C;N.push({type:"session",user:"You",subject:((C=E.study_sessions)==null?void 0:C.title)||"Study Session",time:new Date(E.joined_at).toLocaleDateString(),status:"joined",avatar:s.charAt(0).toUpperCase()})}),j==null||j.forEach(E=>{N.push({type:"resource",user:"You",subject:E.title,time:new Date(E.created_at).toLocaleDateString(),status:"uploaded",avatar:s.charAt(0).toUpperCase()})});const k=N.map(E=>({type:E.type,user:E.user,subject:E.subject,time:E.time,details:E.details,status:E.status,avatar:E.avatar}));k.sort((E,C)=>new Date(C.time).getTime()-new Date(E.time).getTime()),u(k.slice(0,4))}catch(S){console.error("Error fetching activities:",S)}})()},[g==null?void 0:g.id,s]),h.useEffect(()=>{(async()=>{try{const{data:S}=await U.from("study_sessions").select(`
            id,
            title,
            subject,
            max_participants,
            session_participants!inner(user_id)
          `).eq("is_active",!0).limit(2),_=S.map(j=>({id:j.id,title:j.title,subject:j.subject}));f(_||[])}catch(S){console.error("Error fetching active sessions:",S)}})()},[]),h.useEffect(()=>{const b=async()=>{if(g!=null&&g.id&&!m){const{data:S}=await U.from("notifications").select("id").eq("user_id",g.id).limit(1);(!S||S.length===0)&&await w(g.id,"Welcome to StudySphere! ","Start by joining a study session or exploring resources.","general"),p(!0)}};g!=null&&g.id&&b()},[g==null?void 0:g.id,w,m]);const x=()=>{switch(e){case"chat":return l.jsx(u4,{});case"study-rooms":return l.jsx(lD,{});case"resources":return l.jsx(cD,{});case"ai-assistant":return l.jsx(BL,{});case"profile":return l.jsx(KL,{});default:return l.jsxs("div",{className:"space-y-4 pb-24 animate-fade-in px-1",children:[l.jsx(JL,{greeting:n,username:s,userStats:i}),l.jsx(YL,{onNavigate:t}),l.jsx(QL,{activities:c}),l.jsx(XL,{sessions:d,onNavigate:t}),c.length===0&&d.length===0&&l.jsx(ZL,{onNavigate:t})]})}};return l.jsxs("div",{className:"min-h-screen w-full bg-gray-50",children:[l.jsx(JI,{notifications:v,onNotificationCountChange:y,onNavigate:t}),l.jsx("main",{className:"w-full px-3 pt-3",children:x()}),l.jsx(YI,{activeTab:e,setActiveTab:t})]})},t3=()=>{const[e,t]=h.useState(0),n=qc(),r=[{title:"Welcome to StudySphere",subtitle:"Your AI-Powered Study Companion",description:"Join thousands of students in collaborative learning with intelligent assistance and real-time study sessions.",gradient:"from-blue-500 to-blue-600",features:[{icon:It,text:"Smart Q&A Community"},{icon:Kn,text:"Live Study Sessions"},{icon:Rn,text:"Resource Sharing"}]},{title:"Study Together",subtitle:"Collaborative Learning Made Easy",description:"Connect with study partners, join video sessions, and solve problems together in real-time.",gradient:"from-blue-600 to-blue-700",features:[{icon:Dt,text:"Study Groups"},{icon:Kn,text:"Video Collaboration"},{icon:It,text:"Real-time Chat"}]},{title:"AI-Powered Learning",subtitle:"Get Instant Help Anytime",description:"Our AI assistant provides personalized study help, explanations, and resources tailored to your learning style.",gradient:"from-blue-700 to-blue-800",features:[{icon:tu,text:"Smart AI Tutor"},{icon:sa,text:"Personalized Content"},{icon:Rn,text:"Study Resources"}]}],s=()=>{e<r.length-1?t(e+1):n("/auth")},o=()=>{e>0&&t(e-1)},i=()=>{n("/auth")},a=r[e];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/30 flex items-center justify-center p-4 transition-colors duration-300",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjMzMzIiBmaWxsLW9wYWNpdHk9IjAuMDUiPjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjIiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),l.jsx("div",{className:"fixed top-4 right-4 z-50",children:l.jsx(Op,{})}),l.jsxs("div",{className:"w-full max-w-md relative z-10",children:[l.jsx(Ve,{className:"border-0 shadow-2xl bg-card/95 backdrop-blur-sm transition-colors duration-300",children:l.jsxs(qe,{className:"p-0",children:[l.jsxs("div",{className:`bg-gradient-to-br ${a.gradient} p-8 text-white text-center rounded-t-lg relative overflow-hidden`,children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')] bg-repeat"})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center mx-auto mb-6 logo-animate shadow-lg",children:l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-12 h-12 object-contain rounded-lg"})}),l.jsx("h1",{className:"text-2xl font-bold mb-2 animate-fade-in",children:a.title}),l.jsx("p",{className:"text-blue-100 font-medium animate-fade-in",children:a.subtitle})]})]}),l.jsxs("div",{className:"p-8",children:[l.jsx("p",{className:"text-muted-foreground text-center mb-8 leading-relaxed animate-fade-in",children:a.description}),l.jsx("div",{className:"space-y-4 mb-8",children:a.features.map((c,u)=>l.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-muted/50 rounded-xl feature-animate transition-colors duration-300",children:[l.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${a.gradient} rounded-lg flex items-center justify-center transform transition-transform hover:scale-110 shadow-md`,children:l.jsx(c.icon,{className:"h-5 w-5 text-white"})}),l.jsx("span",{className:"font-medium text-foreground",children:c.text})]},u))}),l.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:r.map((c,u)=>l.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${u===e?`bg-gradient-to-r ${a.gradient} scale-125 shadow-sm`:"bg-muted scale-100"}`},u))}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(K,{variant:"ghost",onClick:i,className:"text-muted-foreground hover:text-foreground transition-colors",children:"Skip"}),l.jsxs("div",{className:"flex space-x-2",children:[e>0&&l.jsxs(K,{variant:"outline",size:"sm",onClick:o,className:"flex items-center hover:scale-105 transition-transform border-border hover:border-blue-300 dark:hover:border-blue-700",children:[l.jsx(YT,{className:"h-4 w-4 mr-1"}),"Back"]}),l.jsxs(K,{onClick:s,className:`bg-gradient-to-r ${a.gradient} hover:opacity-90 flex items-center shadow-lg hover:scale-105 transition-all duration-200 text-white border-0`,children:["S",e===r.length-1?"Get Started":"Next",l.jsx(Vw,{className:"h-4 w-4 ml-1"})]})]})]})]})]})}),l.jsx("p",{className:"text-center text-muted-foreground text-sm mt-6 animate-fade-in",children:"Join over 10,000+ students already using StudySphere"})]})]})},n3=()=>l.jsx(t3,{}),r3=()=>{const[e,t]=h.useState(""),[n,r]=h.useState(""),[s,o]=h.useState(""),[i,a]=h.useState(!1),{signUp:c,signIn:u}=it(),d=qc(),f=async p=>{p.preventDefault(),a(!0);const{error:g}=await c(e,n,s);g?W.error(g.message):(W.success("Check your email to confirm your account!"),d("/dashboard")),a(!1)},m=async p=>{p.preventDefault(),a(!0);const{error:g}=await u(e,n);g?W.error(g.message):(W.success("Welcome back!"),d("/dashboard")),a(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/30 to-background flex items-center justify-center p-4 transition-colors duration-300",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48ZyBmaWxsPSIjMzMzIiBmaWxsLW9wYWNpdHk9IjAuMDUiPjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjIiLz48L2c+PC9nPjwvc3ZnPg==')] opacity-20"}),l.jsx("div",{className:"fixed top-6 right-6 z-50",children:l.jsx(Op,{})}),l.jsxs("div",{className:"w-full max-w-lg mx-auto relative z-10",children:[l.jsxs(Ve,{className:"shadow-2xl border-0 bg-card/95 backdrop-blur-sm",children:[l.jsx(Na,{className:"text-center pb-8 pt-8",children:l.jsxs("div",{className:"flex flex-col items-center mb-6",children:[l.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center mb-4 logo-animate relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 to-transparent"}),l.jsx("img",{src:"/uploads/e6eb7e5b-37be-4300-9bbb-ed1fcef6aa7e.png",alt:"StudySphere Logo",className:"w-12 h-12 object-contain relative z-10 rounded-lg"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-600/10 to-transparent"})]}),l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent mb-2",children:"StudySphere"}),l.jsxs(X1,{className:"text-muted-foreground flex items-center gap-2",children:[l.jsx(tu,{className:"h-4 w-4 text-blue-500"}),"Your AI-powered learning companion"]})]})}),l.jsx(qe,{className:"px-8 pb-8",children:l.jsxs(Q1,{defaultValue:"signin",className:"w-full",children:[l.jsxs(Lp,{className:"grid w-full grid-cols-2 mb-8 bg-muted/50 p-1",children:[l.jsx(ho,{value:"signin",className:"rounded-lg data-[state=active]:bg-blue-500 data-[state=active]:text-white transition-all duration-200",children:"Sign In"}),l.jsx(ho,{value:"signup",className:"rounded-lg data-[state=active]:bg-blue-500 data-[state=active]:text-white transition-all duration-200",children:"Sign Up"})]}),l.jsx(po,{value:"signin",className:"space-y-6",children:l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"signin-email",className:"text-sm font-medium text-foreground",children:"Email"}),l.jsxs("div",{className:"relative group",children:[l.jsx(Mf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-blue-500 transition-colors duration-200"}),l.jsx(Oe,{id:"signin-email",type:"email",value:e,onChange:p=>t(p.target.value),className:"h-12 pl-12 text-base border-2 border-muted focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"signin-password",className:"text-sm font-medium text-foreground",children:"Password"}),l.jsxs("div",{className:"relative group",children:[l.jsx(av,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-blue-500 transition-colors duration-200"}),l.jsx(Oe,{id:"signin-password",type:"password",value:n,onChange:p=>r(p.target.value),className:"h-12 pl-12 text-base border-2 border-muted focus:border-blue-500 transition-all duration-200",placeholder:"Enter your password",required:!0})]})]}),l.jsx(K,{type:"submit",className:"w-full h-12 text-base bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border-0 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg",disabled:i,children:i?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),l.jsx("span",{children:"Signing in..."})]}):"Sign In"})]})}),l.jsx(po,{value:"signup",className:"space-y-6",children:l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"signup-username",className:"text-sm font-medium text-foreground",children:"Username"}),l.jsxs("div",{className:"relative group",children:[l.jsx(Kw,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-blue-500 transition-colors duration-200"}),l.jsx(Oe,{id:"signup-username",type:"text",value:s,onChange:p=>o(p.target.value),className:"h-12 pl-12 text-base border-2 border-muted focus:border-blue-500 transition-all duration-200",placeholder:"Choose a username",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"signup-email",className:"text-sm font-medium text-foreground",children:"Email"}),l.jsxs("div",{className:"relative group",children:[l.jsx(Mf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-blue-500 transition-colors duration-200"}),l.jsx(Oe,{id:"signup-email",type:"email",value:e,onChange:p=>t(p.target.value),className:"h-12 pl-12 text-base border-2 border-muted focus:border-blue-500 transition-all duration-200",placeholder:"Enter your email",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Le,{htmlFor:"signup-password",className:"text-sm font-medium text-foreground",children:"Password"}),l.jsxs("div",{className:"relative group",children:[l.jsx(av,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground group-focus-within:text-blue-500 transition-colors duration-200"}),l.jsx(Oe,{id:"signup-password",type:"password",value:n,onChange:p=>r(p.target.value),className:"h-12 pl-12 text-base border-2 border-muted focus:border-blue-500 transition-all duration-200",placeholder:"Create a password",required:!0,minLength:6})]})]}),l.jsx(K,{type:"submit",className:"w-full h-12 text-base bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border-0 rounded-xl transition-all duration-200 hover:scale-[1.02] shadow-lg",disabled:i,children:i?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),l.jsx("span",{children:"Creating account..."})]}):"Create Account"})]})})]})})]}),l.jsx("p",{className:"text-center text-muted-foreground text-sm mt-8",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})},s3=()=>{const e=Vc();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},o3=()=>{var f,m;const{inviteCode:e}=aP(),t=qc(),{user:n}=it(),[r,s]=h.useState(null),[o,i]=h.useState(!0),[a,c]=h.useState(!1),u=async()=>{if(!e){W.error("Invalid invite code"),t("/");return}try{const{data:p,error:g}=await U.from("chat_room_invitations").select(`
          *,
          chat_rooms (name, description, created_at)
        `).eq("invitation_code",e).eq("status","pending").single();if(g||!p){W.error("Invalid or expired invite code"),t("/");return}const{data:v}=await U.from("profiles").select("username, email").eq("id",p.invited_by).single(),y={...p,inviter_profile:v||null};if(y.expires_at&&new Date(y.expires_at)<new Date){W.error("This invitation has expired"),t("/");return}s(y)}catch(p){console.error("Error fetching invitation:",p),W.error("Failed to load invitation"),t("/")}finally{i(!1)}},d=async()=>{if(!(!n||!r)){c(!0);try{const{data:p}=await U.from("chat_room_members").select("id").eq("room_id",r.room_id).eq("user_id",n.id).single();if(p){W.success("You are already a member of this room!"),t("/dashboard");return}const{error:g}=await U.from("chat_room_members").insert({room_id:r.room_id,user_id:n.id,role:"member"});if(g)throw g;const{error:v}=await U.from("chat_room_invitations").update({status:"accepted"}).eq("id",r.id);if(v)throw v;W.success("Successfully joined the room!"),t("/dashboard")}catch(p){console.error("Error joining room:",p),W.error("Failed to join room")}finally{c(!1)}}};return h.useEffect(()=>{u()},[e]),n?o?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Loading invitation..."})]})}):r?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs(Ve,{className:"max-w-md w-full",children:[l.jsxs(Na,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(uo,{className:"h-8 w-8 text-white"})}),l.jsx(cu,{className:"text-xl",children:"Join Chat Room"})]}),l.jsxs(qe,{className:"space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"text-lg font-semibold",children:r.chat_rooms.name}),r.chat_rooms.description&&l.jsx("p",{className:"text-gray-600 mt-1",children:r.chat_rooms.description})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(Dt,{className:"h-4 w-4 mr-2"}),l.jsxs("span",{children:["Invited by ",((f=r.inviter_profile)==null?void 0:f.username)||((m=r.inviter_profile)==null?void 0:m.email)||"Unknown User"]})]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[l.jsx(hp,{className:"h-4 w-4 mr-2"}),l.jsxs("span",{children:["Created ",new Date(r.chat_rooms.created_at).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(K,{onClick:d,disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700",children:a?"Joining...":"Join Room"}),l.jsx(K,{variant:"outline",onClick:()=>t("/dashboard"),className:"w-full",children:"Cancel"})]})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsx(Ve,{className:"max-w-md w-full",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx(uo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Invalid Invitation"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"This invitation link is invalid or has expired."}),l.jsx(K,{onClick:()=>t("/dashboard"),className:"w-full",children:"Go to Dashboard"})]})})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsx(Ve,{className:"max-w-md w-full",children:l.jsxs(qe,{className:"p-6 text-center",children:[l.jsx(uo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Sign in Required"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"You need to sign in to join this chat room."}),l.jsx(K,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In"})]})})})},i3=new T2,xd=({children:e})=>{const{user:t,loading:n}=it();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary transition-colors",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?l.jsx(l.Fragment,{children:e}):l.jsx(gw,{to:"/welcome",replace:!0})},Bv=({children:e})=>{const{user:t,loading:n}=it();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-secondary transition-colors",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t?l.jsx(gw,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:e})};function a3(){return l.jsx(O2,{client:i3,children:l.jsx(HT,{defaultTheme:"system",storageKey:"studysphere-ui-theme",children:l.jsx(WT,{children:l.jsxs(l2,{children:[l.jsx(IE,{}),l.jsx(jP,{children:l.jsxs(bP,{children:[l.jsx(es,{path:"/",element:l.jsx(xd,{children:l.jsx(zv,{})})}),l.jsx(es,{path:"/welcome",element:l.jsx(Bv,{children:l.jsx(n3,{})})}),l.jsx(es,{path:"/auth",element:l.jsx(Bv,{children:l.jsx(r3,{})})}),l.jsx(es,{path:"/dashboard",element:l.jsx(xd,{children:l.jsx(zv,{})})}),l.jsx(es,{path:"/join-room/:inviteCode",element:l.jsx(xd,{children:l.jsx(o3,{})})}),l.jsx(es,{path:"*",element:l.jsx(s3,{})})]})})]})})})})}fx(document.getElementById("root")).render(l.jsx(a3,{}));
